!function(t){function e(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,a){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e){t.exports=function(t){function e(t){"undefined"!=typeof console&&(console.error||console.log)("[Script Loader]",t)}try{"undefined"!=typeof execScript&&function(){return"undefined"!=typeof attachEvent&&"undefined"==typeof addEventListener}()?execScript(t):"undefined"!=typeof eval?eval.call(null,t):e("EvalError: No eval function available")}catch(t){e(t)}}},function(t,e,r){r(0)(r(2))},function(t,e){t.exports='/*!\n* @license PreloadJS\n* Visit http://createjs.com/ for documentation, updates and examples.\n*\n* Copyright (c) 2011-2015 gskinner.com, inc.\n*\n* Distributed under the terms of the MIT license.\n* http://www.opensource.org/licenses/mit-license.html\n*\n* This notice shall be included in all copies or substantial portions of the Software.\n*/\nthis.createjs=this.createjs||{},function(){"use strict";var a=createjs.PreloadJS=createjs.PreloadJS||{};a.version="1.0.0",a.buildDate="Thu, 14 Sep 2017 19:47:47 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(a,b){"use strict";function c(){this.constructor=a}return c.prototype=b.prototype,a.prototype=new c},this.createjs=this.createjs||{},createjs.promote=function(a,b){"use strict";var c=a.prototype,d=Object.getPrototypeOf&&Object.getPrototypeOf(c)||c.__proto__;if(d){c[(b+="_")+"constructor"]=d.constructor;for(var e in d)c.hasOwnProperty(e)&&"function"==typeof d[e]&&(c[b+e]=d[e])}return a},this.createjs=this.createjs||{},createjs.deprecate=function(a,b){"use strict";return function(){var c="Deprecated property or method \'"+b+"\'. See docs for info.";return console&&(console.warn?console.warn(c):console.log(c)),a&&a.apply(this,arguments)}},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,Array.prototype.slice.call(arguments,0).concat(c))}}}(),this.createjs=this.createjs||{},createjs.indexOf=function(a,b){"use strict";for(var c=0,d=a.length;d>c;c++)if(b===a[c])return c;return-1},this.createjs=this.createjs||{},function(){"use strict";function Event(a,b,c){this.type=a,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!b,this.cancelable=!!c,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var a=Event.prototype;a.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},a.stopPropagation=function(){this.propagationStopped=!0},a.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},a.remove=function(){this.removed=!0},a.clone=function(){return new Event(this.type,this.bubbles,this.cancelable)},a.set=function(a){for(var b in a)this[b]=a[b];return this},a.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=Event}(),this.createjs=this.createjs||{},function(){"use strict";function ErrorEvent(a,b,c){this.Event_constructor("error"),this.title=a,this.message=b,this.data=c}var a=createjs.extend(ErrorEvent,createjs.Event);a.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(ErrorEvent,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function EventDispatcher(){this._listeners=null,this._captureListeners=null}var a=EventDispatcher.prototype;EventDispatcher.initialize=function(b){b.addEventListener=a.addEventListener,b.on=a.on,b.removeEventListener=b.off=a.removeEventListener,b.removeAllEventListeners=a.removeAllEventListeners,b.hasEventListener=a.hasEventListener,b.dispatchEvent=a.dispatchEvent,b._dispatchEvent=a._dispatchEvent,b.willTrigger=a.willTrigger},a.addEventListener=function(a,b,c){var d;d=c?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var e=d[a];return e&&this.removeEventListener(a,b,c),e=d[a],e?e.push(b):d[a]=[b],b},a.on=function(a,b,c,d,e,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,e),d&&a.remove()},f)},a.removeEventListener=function(a,b,c){var d=c?this._captureListeners:this._listeners;if(d){var e=d[a];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==b){1==g?delete d[a]:e.splice(f,1);break}}},a.off=a.removeEventListener,a.removeAllEventListeners=function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null},a.dispatchEvent=function(a,b,c){if("string"==typeof a){var d=this._listeners;if(!(b||d&&d[a]))return!0;a=new createjs.Event(a,b,c)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(e){}if(a.bubbles&&this.parent){for(var f=this,g=[f];f.parent;)g.push(f=f.parent);var h,i=g.length;for(h=i-1;h>=0&&!a.propagationStopped;h--)g[h]._dispatchEvent(a,1+(0==h));for(h=1;i>h&&!a.propagationStopped;h++)g[h]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented},a.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])},a.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1},a.toString=function(){return"[EventDispatcher]"},a._dispatchEvent=function(a,b){var c,d,e=2>=b?this._captureListeners:this._listeners;if(a&&e&&(d=e[a.type])&&(c=d.length)){try{a.currentTarget=this}catch(f){}try{a.eventPhase=0|b}catch(f){}a.removed=!1,d=d.slice();for(var g=0;c>g&&!a.immediatePropagationStopped;g++){var h=d[g];h.handleEvent?h.handleEvent(a):h(a),a.removed&&(this.off(a.type,h,1==b),a.removed=!1)}}2===b&&this._dispatchEvent(a,2.1)},createjs.EventDispatcher=EventDispatcher}(),this.createjs=this.createjs||{},function(){"use strict";function ProgressEvent(a,b){this.Event_constructor("progress"),this.loaded=a,this.total=null==b?1:b,this.progress=0==b?0:this.loaded/this.total}var a=createjs.extend(ProgressEvent,createjs.Event);a.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(ProgressEvent,"Event")}(window),function(){function a(b,d){function f(a){if(f[a]!==q)return f[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=f("json-stringify")&&f("json-parse");else{var c,e=\'{"a":[1,true,false,null,"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t"]}\';if("json-stringify"==a){var i=d.stringify,k="function"==typeof i&&t;if(k){(c=function(){return 1}).toJSON=c;try{k="0"===i(0)&&"0"===i(new g)&&\'""\'==i(new h)&&i(s)===q&&i(q)===q&&i()===q&&"1"===i(c)&&"[1]"==i([c])&&"[null]"==i([q])&&"null"==i(null)&&"[null,null,null]"==i([q,s,null])&&i({a:[c,!0,!1,null,"\\x00\\b\\n\\f\\r\t"]})==e&&"1"===i(null,c)&&"[\\n 1,\\n 2\\n]"==i([1,2],null,1)&&\'"-271821-04-20T00:00:00.000Z"\'==i(new j(-864e13))&&\'"+275760-09-13T00:00:00.000Z"\'==i(new j(864e13))&&\'"-000001-01-01T00:00:00.000Z"\'==i(new j(-621987552e5))&&\'"1969-12-31T23:59:59.999Z"\'==i(new j(-1))}catch(l){k=!1}}b=k}if("json-parse"==a){var m=d.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){c=m(e);var n=5==c.a.length&&1===c.a[0];if(n){try{n=!m(\'"\t"\')}catch(l){}if(n)try{n=1!==m("01")}catch(l){}if(n)try{n=1!==m("1.")}catch(l){}}}}catch(l){n=!1}b=n}}return f[a]=!!b}b||(b=e.Object()),d||(d=e.Object());var g=b.Number||e.Number,h=b.String||e.String,i=b.Object||e.Object,j=b.Date||e.Date,k=b.SyntaxError||e.SyntaxError,l=b.TypeError||e.TypeError,m=b.Math||e.Math,n=b.JSON||e.JSON;"object"==typeof n&&n&&(d.stringify=n.stringify,d.parse=n.parse);var o,p,q,r=i.prototype,s=r.toString,t=new j(-0xc782b5b800cec);try{t=-109252==t.getUTCFullYear()&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(u){}if(!f("json")){var v="[object Function]",w="[object Date]",x="[object Number]",y="[object String]",z="[object Array]",A="[object Boolean]",B=f("bug-string-char-index");if(!t)var C=m.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return D[b]+365*(a-1970)+C((a-1969+(b=+(b>1)))/4)-C((a-1901+b)/100)+C((a-1601+b)/400)};if((o=r.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=s?o=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var d,e,f,g=0;(d=function(){this.valueOf=0}).prototype.valueOf=0,e=new d;for(f in e)o.call(e,f)&&g++;return d=e=null,g?p=2==g?function(a,b){var c,d={},e=s.call(a)==v;for(c in a)e&&"prototype"==c||o.call(d,c)||!(d[c]=1)||!o.call(a,c)||b(c)}:function(a,b){var c,d,e=s.call(a)==v;for(c in a)e&&"prototype"==c||!o.call(a,c)||(d="constructor"===c)||b(c);(d||o.call(a,c="constructor"))&&b(c)}:(e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(a,b){var d,f,g=s.call(a)==v,h=!g&&"function"!=typeof a.constructor&&c[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(d in a)g&&"prototype"==d||!h.call(a,d)||b(d);for(f=e.length;d=e[--f];h.call(a,d)&&b(d));}),p(a,b)},!f("json-stringify")){var F={92:"\\\\\\\\",34:\'\\\\"\',8:"\\\\b",12:"\\\\f",10:"\\\\n",13:"\\\\r",9:"\\\\t"},G="000000",H=function(a,b){return(G+(b||0)).slice(-a)},I="\\\\u00",J=function(a){for(var b=\'"\',c=0,d=a.length,e=!B||d>10,f=e&&(B?a.split(""):a);d>c;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=F[g];break;default:if(32>g){b+=I+H(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+\'"\'},K=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,r,t,u,v,B,D,F,G,I,L;try{h=b[a]}catch(M){}if("object"==typeof h&&h)if(i=s.call(h),i!=w||o.call(h,"toJSON"))"function"==typeof h.toJSON&&(i!=x&&i!=y&&i!=z||o.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&1/0>h){if(E){for(m=C(h/864e5),j=C(m/365.2425)+1970-1;E(j+1,0)<=m;j++);for(k=C((m-E(j,0))/30.42);E(j,k+1)<=m;k++);m=1+m-E(j,k),n=(h%864e5+864e5)%864e5,r=C(n/36e5)%24,t=C(n/6e4)%60,u=C(n/1e3)%60,v=n%1e3}else j=h.getUTCFullYear(),k=h.getUTCMonth(),m=h.getUTCDate(),r=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),v=h.getUTCMilliseconds();h=(0>=j||j>=1e4?(0>j?"-":"+")+H(6,0>j?-j:j):H(4,j))+"-"+H(2,k+1)+"-"+H(2,m)+"T"+H(2,r)+":"+H(2,t)+":"+H(2,u)+"."+H(3,v)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if(i=s.call(h),i==A)return""+h;if(i==x)return h>-1/0&&1/0>h?""+h:"null";if(i==y)return J(""+h);if("object"==typeof h){for(G=g.length;G--;)if(g[G]===h)throw l();if(g.push(h),B=[],I=f,f+=e,i==z){for(F=0,G=h.length;G>F;F++)D=K(F,h,c,d,e,f,g),B.push(D===q?"null":D);L=B.length?e?"[\\n"+f+B.join(",\\n"+f)+"\\n"+I+"]":"["+B.join(",")+"]":"[]"}else p(d||h,function(a){var b=K(a,h,c,d,e,f,g);b!==q&&B.push(J(a)+":"+(e?" ":"")+b)}),L=B.length?e?"{\\n"+f+B.join(",\\n"+f)+"\\n"+I+"}":"{"+B.join(",")+"}":"{}";return g.pop(),L}};d.stringify=function(a,b,d){var e,f,g,h;if(c[typeof b]&&b)if((h=s.call(b))==v)f=b;else if(h==z){g={};for(var i,j=0,k=b.length;k>j;i=b[j++],h=s.call(i),(h==y||h==x)&&(g[i]=1));}if(d)if((h=s.call(d))==x){if((d-=d%1)>0)for(e="",d>10&&(d=10);e.length<d;e+=" ");}else h==y&&(e=d.length<=10?d:d.slice(0,10));return K("",(i={},i[""]=a,i),f,g,e,"",[])}}if(!f("json-parse")){var L,M,N=h.fromCharCode,O={92:"\\\\",34:\'"\',47:"/",98:"\\b",116:"\t",110:"\\n",102:"\\f",114:"\\r"},P=function(){throw L=M=null,k()},Q=function(){for(var a,b,c,d,e,f=M,g=f.length;g>L;)switch(e=f.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=B?f.charAt(L):f[L],L++,a;case 34:for(a="@",L++;g>L;)if(e=f.charCodeAt(L),32>e)P();else if(92==e)switch(e=f.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=O[e],L++;break;case 117:for(b=++L,c=L+4;c>L;L++)e=f.charCodeAt(L),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||P();a+=N("0x"+f.slice(b,L));break;default:P()}else{if(34==e)break;for(e=f.charCodeAt(L),b=L;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++L);a+=f.slice(b,L)}if(34==f.charCodeAt(L))return L++,a;P();default:if(b=L,45==e&&(d=!0,e=f.charCodeAt(++L)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(L+1),e>=48&&57>=e)&&P(),d=!1;g>L&&(e=f.charCodeAt(L),e>=48&&57>=e);L++);if(46==f.charCodeAt(L)){for(c=++L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}if(e=f.charCodeAt(L),101==e||69==e){for(e=f.charCodeAt(++L),(43==e||45==e)&&L++,c=L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}return+f.slice(b,L)}if(d&&P(),"true"==f.slice(L,L+4))return L+=4,!0;if("false"==f.slice(L,L+5))return L+=5,!1;if("null"==f.slice(L,L+4))return L+=4,null;P()}return"$"},R=function(a){var b,c;if("$"==a&&P(),"string"==typeof a){if("@"==(B?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=Q(),"]"!=a;c||(c=!0))c&&(","==a?(a=Q(),"]"==a&&P()):P()),","==a&&P(),b.push(R(a));return b}if("{"==a){for(b={};a=Q(),"}"!=a;c||(c=!0))c&&(","==a?(a=Q(),"}"==a&&P()):P()),(","==a||"string"!=typeof a||"@"!=(B?a.charAt(0):a[0])||":"!=Q())&&P(),b[a.slice(1)]=R(Q());return b}P()}return a},S=function(a,b,c){var d=T(a,b,c);d===q?delete a[b]:a[b]=d},T=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(s.call(e)==z)for(d=e.length;d--;)S(e,d,c);else p(e,function(a){S(e,a,c)});return c.call(a,b,e)};d.parse=function(a,b){var c,d;return L=0,M=""+a,c=R(Q()),"$"!=Q()&&P(),L=M=null,b&&s.call(b)==v?T((d={},d[""]=c,d),"",b):c}}}return d.runInContext=a,d}var b="function"==typeof define&&define.amd,c={"function":!0,object:!0},d=c[typeof exports]&&exports&&!exports.nodeType&&exports,e=c[typeof window]&&window||this,f=d&&c[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!f||f.global!==f&&f.window!==f&&f.self!==f||(e=f),d&&!b)a(e,d);else{var g=e.JSON,h=e.JSON3,i=!1,j=a(e,e.JSON3={noConflict:function(){return i||(i=!0,e.JSON=g,e.JSON3=h,g=h=null),j}});e.JSON={parse:j.parse,stringify:j.stringify}}b&&define(function(){return j})}.call(this),function(){var a={};a.a=function(){return a.el("a")},a.svg=function(){return a.el("svg")},a.object=function(){return a.el("object")},a.image=function(){return a.el("image")},a.img=function(){return a.el("img")},a.style=function(){return a.el("style")},a.link=function(){return a.el("link")},a.script=function(){return a.el("script")},a.audio=function(){return a.el("audio")},a.video=function(){return a.el("video")},a.text=function(a){return document.createTextNode(a)},a.el=function(a){return document.createElement(a)},createjs.Elements=a}(),function(){var a={};a.ABSOLUTE_PATT=/^(?:\\w+:)?\\/{2}/i,a.RELATIVE_PATT=/^[.\\/]*?\\//i,a.EXTENSION_PATT=/\\/?[^\\/]+\\.(\\w{1,5})$/i,a.parseURI=function(b){var c={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null};if(null==b)return c;var d=createjs.Elements.a();d.href=b;for(var e in c)e in d&&(c[e]=d[e]);var f=b.indexOf("?");f>-1&&(b=b.substr(0,f));var g;return a.ABSOLUTE_PATT.test(b)?c.absolute=!0:a.RELATIVE_PATT.test(b)&&(c.relative=!0),(g=b.match(a.EXTENSION_PATT))&&(c.extension=g[1].toLowerCase()),c},a.formatQueryString=function(a,b){if(null==a)throw new Error("You must specify data.");var c=[];for(var d in a)c.push(d+"="+escape(a[d]));return b&&(c=c.concat(b)),c.join("&")},a.buildURI=function(a,b){if(null==b)return a;var c=[],d=a.indexOf("?");if(-1!=d){var e=a.slice(d+1);c=c.concat(e.split("&"))}return-1!=d?a.slice(0,d)+"?"+this.formatQueryString(b,c):a+"?"+this.formatQueryString(b,c)},a.isCrossDomain=function(a){var b=createjs.Elements.a();b.href=a.src;var c=createjs.Elements.a();c.href=location.href;var d=""!=b.hostname&&(b.port!=c.port||b.protocol!=c.protocol||b.hostname!=c.hostname);return d},a.isLocal=function(a){var b=createjs.Elements.a();return b.href=a.src,""==b.hostname&&"file:"==b.protocol},createjs.URLUtils=a}(),function(){var a={container:null};a.appendToHead=function(b){a.getHead().appendChild(b)},a.appendToBody=function(b){if(null==a.container){a.container=document.createElement("div"),a.container.id="preloadjs-container";var c=a.container.style;c.visibility="hidden",c.position="absolute",c.width=a.container.style.height="10px",c.overflow="hidden",c.transform=c.msTransform=c.webkitTransform=c.oTransform="translate(-10px, -10px)",a.getBody().appendChild(a.container)}a.container.appendChild(b)},a.getHead=function(){return document.head||document.getElementsByTagName("head")[0]},a.getBody=function(){return document.body||document.getElementsByTagName("body")[0]},a.removeChild=function(a){a.parent&&a.parent.removeChild(a)},a.isImageTag=function(a){return a instanceof HTMLImageElement},a.isAudioTag=function(a){return window.HTMLAudioElement?a instanceof HTMLAudioElement:!1},a.isVideoTag=function(a){return window.HTMLVideoElement?a instanceof HTMLVideoElement:!1},createjs.DomUtils=a}(),function(){var a={};a.parseXML=function(a){var b=null;try{if(window.DOMParser){var c=new DOMParser;b=c.parseFromString(a,"text/xml")}}catch(d){}if(!b)try{b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a)}catch(d){b=null}return b},a.parseJSON=function(a){if(null==a)return null;try{return JSON.parse(a)}catch(b){throw b}},createjs.DataUtils=a}(),this.createjs=this.createjs||{},function(){var a={};a.BINARY="binary",a.CSS="css",a.FONT="font",a.FONTCSS="fontcss",a.IMAGE="image",a.JAVASCRIPT="javascript",a.JSON="json",a.JSONP="jsonp",a.MANIFEST="manifest",a.SOUND="sound",a.VIDEO="video",a.SPRITESHEET="spritesheet",a.SVG="svg",a.TEXT="text",a.XML="xml",createjs.Types=a}(),this.createjs=this.createjs||{},function(){var a={};a.POST="POST",a.GET="GET",createjs.Methods=a}(),this.createjs=this.createjs||{},function(){"use strict";function LoadItem(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.Methods.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=b.LOAD_TIMEOUT_DEFAULT}var a=LoadItem.prototype={},b=LoadItem;b.LOAD_TIMEOUT_DEFAULT=8e3,b.create=function(a){if("string"==typeof a){var c=new LoadItem;return c.src=a,c}if(a instanceof b)return a;if(a instanceof Object&&a.src)return null==a.loadTimeout&&(a.loadTimeout=b.LOAD_TIMEOUT_DEFAULT),a;throw new Error("Type not recognized.")},a.set=function(a){for(var b in a)this[b]=a[b];return this},createjs.LoadItem=b}(),function(){var a={};a.isBinary=function(a){switch(a){case createjs.Types.IMAGE:case createjs.Types.BINARY:return!0;default:return!1}},a.isText=function(a){switch(a){case createjs.Types.TEXT:case createjs.Types.JSON:case createjs.Types.MANIFEST:case createjs.Types.XML:case createjs.Types.CSS:case createjs.Types.SVG:case createjs.Types.JAVASCRIPT:case createjs.Types.SPRITESHEET:return!0;default:return!1}},a.getTypeByExtension=function(a){if(null==a)return createjs.Types.TEXT;switch(a.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.Types.IMAGE;case"ogg":case"mp3":case"webm":return createjs.Types.SOUND;case"mp4":case"webm":case"ts":return createjs.Types.VIDEO;case"json":return createjs.Types.JSON;case"xml":return createjs.Types.XML;case"css":return createjs.Types.CSS;case"js":return createjs.Types.JAVASCRIPT;case"svg":return createjs.Types.SVG;default:return createjs.Types.TEXT}},createjs.RequestUtils=a}(),this.createjs=this.createjs||{},function(){"use strict";function AbstractLoader(a,b,c){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=c,this.resultFormatter=null,this._item=a?createjs.LoadItem.create(a):null,this._preferXHR=b,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var a=createjs.extend(AbstractLoader,createjs.EventDispatcher),b=AbstractLoader;try{Object.defineProperties(b,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},"AbstractLoader.POST")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},"AbstractLoader.GET")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},"AbstractLoader.CSS")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},"AbstractLoader.JSON")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},"AbstractLoader.VIDEO")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},"AbstractLoader.XML")}})}catch(c){}a.getItem=function(){return this._item},a.getResult=function(a){return a?this._rawResult:this._result},a.getTag=function(){return this._tag},a.setTag=function(a){this._tag=a},a.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var a=new createjs.Event("initialize");a.loader=this._request,this.dispatchEvent(a),this._request.load()},a.cancel=function(){this.canceled=!0,this.destroy()},a.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},a.getLoadedItems=function(){return this._loadedItems},a._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},a._createTag=function(){return null},a._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},a._sendProgress=function(a){if(!this._isCanceled()){var b=null;"number"==typeof a?(this.progress=a,b=new createjs.ProgressEvent(this.progress)):(b=a,this.progress=a.loaded/a.total,b.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(b)}},a._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var a=new createjs.Event("complete");a.rawResult=this._rawResult,null!=this._result&&(a.result=this._result),this.dispatchEvent(a)}},a._sendError=function(a){!this._isCanceled()&&this.hasEventListener("error")&&(null==a&&(a=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(a))},a._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},a.resultFormatter=null,a.handleEvent=function(a){switch(a.type){case"complete":this._rawResult=a.target._response;var b=this.resultFormatter&&this.resultFormatter(this);b instanceof Function?b.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=b||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(a);break;case"error":this._sendError(a);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+a.type.toUpperCase()+"_ERROR"))}},a._resultFormatSuccess=function(a){this._result=a,this._sendComplete()},a._resultFormatFailed=function(a){this._sendError(a)},a.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(AbstractLoader,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function AbstractMediaLoader(a,b,c){this.AbstractLoader_constructor(a,b,c),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var a=createjs.extend(AbstractMediaLoader,createjs.AbstractLoader);a.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},a._createTag=function(){},a._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},a._updateXHR=function(a){a.loader.setResponseType&&a.loader.setResponseType("blob")},a._formatResult=function(a){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var b=window.URL||window.webkitURL,c=a.getResult(!0);a.getTag().src=b.createObjectURL(c)}return a.getTag()},createjs.AbstractMediaLoader=createjs.promote(AbstractMediaLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var AbstractRequest=function(a){this._item=a},a=createjs.extend(AbstractRequest,createjs.EventDispatcher);a.load=function(){},a.destroy=function(){},a.cancel=function(){},createjs.AbstractRequest=createjs.promote(AbstractRequest,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function TagRequest(a,b,c){this.AbstractRequest_constructor(a),this._tag=b,this._tagSrcAttribute=c,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1}var a=createjs.extend(TagRequest,createjs.AbstractRequest);a.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var a=new createjs.Event("initialize");a.loader=this._tag,this.dispatchEvent(a),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(createjs.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)},a.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},a._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;("loaded"==a.readyState||"complete"==a.readyState)&&this._handleTagComplete()},a._handleError=function(){this._clean(),this.dispatchEvent("error")},a._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this.dispatchEvent("complete")},a._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},a._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},a._handleStalled=function(){},createjs.TagRequest=createjs.promote(TagRequest,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function MediaTagRequest(a,b,c){this.AbstractRequest_constructor(a),this._tag=b,this._tagSrcAttribute=c,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var a=createjs.extend(MediaTagRequest,createjs.TagRequest);a.load=function(){var a=createjs.proxy(this._handleStalled,this);this._stalledCallback=a;var b=createjs.proxy(this._handleProgress,this);this._handleProgress=b,this._tag.addEventListener("stalled",a),this._tag.addEventListener("progress",b),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},a._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;("loaded"==a.readyState||"complete"==a.readyState)&&this._handleTagComplete()},a._handleStalled=function(){},a._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new createjs.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)}},a._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(MediaTagRequest,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function XHRRequest(a){this.AbstractRequest_constructor(a),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(a)}var a=createjs.extend(XHRRequest,createjs.AbstractRequest);XHRRequest.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],a.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response},a.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},a.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values?this._request.send(createjs.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(a){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,a))}},a.setResponseType=function(a){"blob"===a&&(a=window.URL?"blob":"arraybuffer",this._responseType=a),this._request.responseType=a},a.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},a.getResponseHeader=function(a){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(a):null},a._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new createjs.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)}},a._handleLoadStart=function(){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},a._handleAbort=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,a))},a._handleError=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(a.message))},a._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},a._handleLoad=function(){if(!this.loaded){this.loaded=!0;var a=this._checkError();if(a)return void this._handleError(a);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(b){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===b.name&&window.BlobBuilder){var c=new BlobBuilder;c.append(this._response),this._response=c.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},a._handleTimeout=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,a))},a._checkError=function(){var a=parseInt(this._request.status);return a>=400&&599>=a?new Error(a):0==a&&/^https?:/.test(location.protocol)?new Error(0):null},a._getResponse=function(){if(null!=this._response)return this._response;\nif(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(a){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(a){}return null},a._createXHR=function(a){var b=createjs.URLUtils.isCrossDomain(a),c={},d=null;if(window.XMLHttpRequest)d=new XMLHttpRequest,b&&void 0===d.withCredentials&&window.XDomainRequest&&(d=new XDomainRequest);else{for(var e=0,f=s.ACTIVEX_VERSIONS.length;f>e;e++){var g=s.ACTIVEX_VERSIONS[e];try{d=new ActiveXObject(g);break}catch(h){}}if(null==d)return!1}null==a.mimeType&&createjs.RequestUtils.isText(a.type)&&(a.mimeType="text/plain; charset=utf-8"),a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType),this._xhrLevel="string"==typeof d.responseType?2:1;var i=null;if(i=a.method==createjs.Methods.GET?createjs.URLUtils.buildURI(a.src,a.values):a.src,d.open(a.method||createjs.Methods.GET,i,!0),b&&d instanceof XMLHttpRequest&&1==this._xhrLevel&&(c.Origin=location.origin),a.values&&a.method==createjs.Methods.POST&&(c["Content-Type"]="application/x-www-form-urlencoded"),b||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest"),a.headers)for(var j in a.headers)c[j]=a.headers[j];for(j in c)d.setRequestHeader(j,c[j]);return d instanceof XMLHttpRequest&&void 0!==a.withCredentials&&(d.withCredentials=a.withCredentials),this._request=d,!0},a._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},a.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(XHRRequest,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function LoadQueue(a,b,c){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.FontLoader,createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(a,b,c)}var a=createjs.extend(LoadQueue,createjs.AbstractLoader),b=LoadQueue;try{Object.defineProperties(b,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},"AbstractLoader.POST")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},"AbstractLoader.GET")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},"AbstractLoader.CSS")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},"AbstractLoader.JSON")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},"AbstractLoader.VIDEO")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},"AbstractLoader.XML")}})}catch(c){}a.init=function(a,b,c){this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(a),this._paused=!1,this._basePath=b,this._crossOrigin=c,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=0/0},a.registerLoader=function(a){if(!a||!a.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(a))throw new Error("loader already exists.");this._availableLoaders.unshift(a)},a.unregisterLoader=function(a){var b=this._availableLoaders.indexOf(a);-1!=b&&b<this._defaultLoaderLength-1&&this._availableLoaders.splice(b,1)},a.setPreferXHR=function(a){return this.preferXHR=0!=a&&null!=window.XMLHttpRequest,this.preferXHR},a.removeAll=function(){this.remove()},a.remove=function(a){var b=null;if(a&&!Array.isArray(a))b=[a];else if(a)b=a;else if(arguments.length>0)return;var c=!1;if(b){for(;b.length;){var d=b.pop(),e=this.getResult(d);for(f=this._loadQueue.length-1;f>=0;f--)if(g=this._loadQueue[f].getItem(),g.id==d||g.src==d){this._loadQueue.splice(f,1)[0].cancel();break}for(f=this._loadQueueBackup.length-1;f>=0;f--)if(g=this._loadQueueBackup[f].getItem(),g.id==d||g.src==d){this._loadQueueBackup.splice(f,1)[0].cancel();break}if(e)this._disposeItem(this.getItem(d));else for(var f=this._currentLoads.length-1;f>=0;f--){var g=this._currentLoads[f].getItem();if(g.id==d||g.src==d){this._currentLoads.splice(f,1)[0].cancel(),c=!0;break}}}c&&this._loadNext()}else{this.close();for(var h in this._loadItemsById)this._disposeItem(this._loadItemsById[h]);this.init(this.preferXHR,this._basePath)}},a.reset=function(){this.close();for(var a in this._loadItemsById)this._disposeItem(this._loadItemsById[a]);for(var b=[],c=0,d=this._loadQueueBackup.length;d>c;c++)b.push(this._loadQueueBackup[c].getItem());this.loadManifest(b,!1)},a.installPlugin=function(a){if(null!=a&&null!=a.getPreloadHandlers){this._plugins.push(a);var b=a.getPreloadHandlers();if(b.scope=a,null!=b.types)for(var c=0,d=b.types.length;d>c;c++)this._typeCallbacks[b.types[c]]=b;if(null!=b.extensions)for(c=0,d=b.extensions.length;d>c;c++)this._extensionCallbacks[b.extensions[c]]=b}},a.setMaxConnections=function(a){this._maxConnections=a,!this._paused&&this._loadQueue.length>0&&this._loadNext()},a.loadFile=function(a,b,c){if(null==a){var d=new createjs.ErrorEvent("PRELOAD_NO_FILE");return void this._sendError(d)}this._addItem(a,null,c),this.setPaused(b!==!1?!1:!0)},a.loadManifest=function(a,c,d){var e=null,f=null;if(Array.isArray(a)){if(0==a.length){var g=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(g)}e=a}else if("string"==typeof a)e=[{src:a,type:b.MANIFEST}];else{if("object"!=typeof a){var g=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");return void this._sendError(g)}if(void 0!==a.src){if(null==a.type)a.type=b.MANIFEST;else if(a.type!=b.MANIFEST){var g=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(g)}e=[a]}else void 0!==a.manifest&&(e=a.manifest,f=a.path)}for(var h=0,i=e.length;i>h;h++)this._addItem(e[h],f,d);this.setPaused(c!==!1?!1:!0)},a.load=function(){this.setPaused(!1)},a.getItem=function(a){return this._loadItemsById[a]||this._loadItemsBySrc[a]},a.getResult=function(a,b){var c=this._loadItemsById[a]||this._loadItemsBySrc[a];if(null==c)return null;var d=c.id;return b&&this._loadedRawResults[d]?this._loadedRawResults[d]:this._loadedResults[d]},a.getItems=function(a){var b=[];for(var c in this._loadItemsById){var d=this._loadItemsById[c],e=this.getResult(c);(a!==!0||null!=e)&&b.push({item:d,result:e,rawResult:this.getResult(c,!0)})}return b},a.setPaused=function(a){this._paused=a,this._paused||this._loadNext()},a.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=0/0},a._addItem=function(a,b,c){var d=this._createLoadItem(a,b,c);if(null!=d){var e=this._createLoader(d);null!=e&&("plugins"in e&&(e.plugins=this._plugins),d._loader=e,this._loadQueue.push(e),this._loadQueueBackup.push(e),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&d.type==createjs.Types.JAVASCRIPT||d.maintainOrder===!0)&&(this._scriptOrder.push(d),this._loadedScripts.push(null)))}},a._createLoadItem=function(a,b,c){var d=createjs.LoadItem.create(a);if(null==d)return null;var e="",f=c||this._basePath;if(d.src instanceof Object){if(!d.type)return null;if(b){e=b;var g=createjs.URLUtils.parseURI(b);null==f||g.absolute||g.relative||(e=f+e)}else null!=f&&(e=f)}else{var h=createjs.URLUtils.parseURI(d.src);h.extension&&(d.ext=h.extension),null==d.type&&(d.type=createjs.RequestUtils.getTypeByExtension(d.ext));var i=d.src;if(!h.absolute&&!h.relative)if(b){e=b;var g=createjs.URLUtils.parseURI(b);i=b+i,null==f||g.absolute||g.relative||(e=f+e)}else null!=f&&(e=f);d.src=e+d.src}d.path=e,(void 0===d.id||null===d.id||""===d.id)&&(d.id=i);var j=this._typeCallbacks[d.type]||this._extensionCallbacks[d.ext];if(j){var k=j.callback.call(j.scope,d,this);if(k===!1)return null;k===!0||null!=k&&(d._loader=k),h=createjs.URLUtils.parseURI(d.src),null!=h.extension&&(d.ext=h.extension)}return this._loadItemsById[d.id]=d,this._loadItemsBySrc[d.src]=d,null==d.crossOrigin&&(d.crossOrigin=this._crossOrigin),d},a._createLoader=function(a){if(null!=a._loader)return a._loader;for(var b=this.preferXHR,c=0;c<this._availableLoaders.length;c++){var d=this._availableLoaders[c];if(d&&d.canLoadItem(a))return new d(a,b)}return null},a._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var a=0;a<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);a++){var b=this._loadQueue[a];this._canStartLoad(b)&&(this._loadQueue.splice(a,1),a--,this._loadItem(b))}}},a._loadItem=function(a){a.on("fileload",this._handleFileLoad,this),a.on("progress",this._handleProgress,this),a.on("complete",this._handleFileComplete,this),a.on("error",this._handleError,this),a.on("fileerror",this._handleFileError,this),this._currentLoads.push(a),this._sendFileStart(a.getItem()),a.load()},a._handleFileLoad=function(a){a.target=null,this.dispatchEvent(a)},a._handleFileError=function(a){var b=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,a.item);this._sendError(b)},a._handleError=function(a){var b=a.target;this._numItemsLoaded++,this._finishOrderedItem(b,!0),this._updateProgress();var c=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,b.getItem());this._sendError(c),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(b),this._cleanLoadItem(b),this._loadNext())},a._handleFileComplete=function(a){var b=a.target,c=b.getItem(),d=b.getResult();this._loadedResults[c.id]=d;var e=b.getResult(!0);null!=e&&e!==d&&(this._loadedRawResults[c.id]=e),this._saveLoadedItems(b),this._removeLoadItem(b),this._finishOrderedItem(b)||this._processFinishedLoad(c,b),this._cleanLoadItem(b)},a._saveLoadedItems=function(a){var b=a.getLoadedItems();if(null!==b)for(var c=0;c<b.length;c++){var d=b[c].item;this._loadItemsBySrc[d.src]=d,this._loadItemsById[d.id]=d,this._loadedResults[d.id]=b[c].result,this._loadedRawResults[d.id]=b[c].rawResult}},a._finishOrderedItem=function(a,b){var c=a.getItem();if(this.maintainScriptOrder&&c.type==createjs.Types.JAVASCRIPT||c.maintainOrder){a instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var d=createjs.indexOf(this._scriptOrder,c);return-1==d?!1:(this._loadedScripts[d]=b===!0?!0:c,this._checkScriptLoadOrder(),!0)}return!1},a._checkScriptLoadOrder=function(){for(var a=this._loadedScripts.length,b=0;a>b;b++){var c=this._loadedScripts[b];if(null===c)break;if(c!==!0){var d=this._loadedResults[c.id];c.type==createjs.Types.JAVASCRIPT&&createjs.DomUtils.appendToHead(d);var e=c._loader;this._processFinishedLoad(c,e),this._loadedScripts[b]=!0}}},a._processFinishedLoad=function(a,b){if(this._numItemsLoaded++,!this.maintainScriptOrder&&a.type==createjs.Types.JAVASCRIPT){var c=b.getTag();createjs.DomUtils.appendToHead(c)}this._updateProgress(),this._sendFileComplete(a,b),this._loadNext()},a._canStartLoad=function(a){if(!this.maintainScriptOrder||a.preferXHR)return!0;var b=a.getItem();if(b.type!=createjs.Types.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var c=this._scriptOrder.indexOf(b),d=0;c>d;){var e=this._loadedScripts[d];if(null==e)return!1;d++}return this._currentlyLoadingScript=!0,!0},a._removeLoadItem=function(a){for(var b=this._currentLoads.length,c=0;b>c;c++)if(this._currentLoads[c]==a){this._currentLoads.splice(c,1);break}},a._cleanLoadItem=function(a){var b=a.getItem();b&&delete b._loader},a._handleProgress=function(a){var b=a.target;this._sendFileProgress(b.getItem(),b.progress),this._updateProgress()},a._updateProgress=function(){var a=this._numItemsLoaded/this._numItems,b=this._numItems-this._numItemsLoaded;if(b>0){for(var c=0,d=0,e=this._currentLoads.length;e>d;d++)c+=this._currentLoads[d].progress;a+=c/b*(b/this._numItems)}this._lastProgress!=a&&(this._sendProgress(a),this._lastProgress=a)},a._disposeItem=function(a){delete this._loadedResults[a.id],delete this._loadedRawResults[a.id],delete this._loadItemsById[a.id],delete this._loadItemsBySrc[a.src]},a._sendFileProgress=function(a,b){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var c=new createjs.Event("fileprogress");c.progress=b,c.loaded=b,c.total=1,c.item=a,this.dispatchEvent(c)}},a._sendFileComplete=function(a,b){if(!this._isCanceled()&&!this._paused){var c=new createjs.Event("fileload");c.loader=b,c.item=a,c.result=this._loadedResults[a.id],c.rawResult=this._loadedRawResults[a.id],a.completeHandler&&a.completeHandler(c),this.hasEventListener("fileload")&&this.dispatchEvent(c)}},a._sendFileStart=function(a){var b=new createjs.Event("filestart");b.item=a,this.hasEventListener("filestart")&&this.dispatchEvent(b)},a.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(LoadQueue,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function TextLoader(a){this.AbstractLoader_constructor(a,!0,createjs.Types.TEXT)}var a=(createjs.extend(TextLoader,createjs.AbstractLoader),TextLoader);a.canLoadItem=function(a){return a.type==createjs.Types.TEXT},createjs.TextLoader=createjs.promote(TextLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function BinaryLoader(a){this.AbstractLoader_constructor(a,!0,createjs.Types.BINARY),this.on("initialize",this._updateXHR,this)}var a=createjs.extend(BinaryLoader,createjs.AbstractLoader),b=BinaryLoader;b.canLoadItem=function(a){return a.type==createjs.Types.BINARY},a._updateXHR=function(a){a.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(BinaryLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function CSSLoader(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",this._tag=b?createjs.Elements.style():createjs.Elements.link(),this._tag.rel="stylesheet",this._tag.type="text/css"}var a=createjs.extend(CSSLoader,createjs.AbstractLoader),b=CSSLoader;b.canLoadItem=function(a){return a.type==createjs.Types.CSS},a._formatResult=function(a){if(this._preferXHR){var b=a.getTag();if(b.styleSheet)b.styleSheet.cssText=a.getResult(!0);else{var c=createjs.Elements.text(a.getResult(!0));b.appendChild(c)}}else b=this._tag;return createjs.DomUtils.appendToHead(b),b},createjs.CSSLoader=createjs.promote(CSSLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function FontLoader(a,b){this.AbstractLoader_constructor(a,b,a.type),this._faces={},this._watched=[],this._count=0,this._watchInterval=null,this._loadTimeout=null,this._injectCSS=void 0===a.injectCSS?!0:a.injectCSS,this.dispatchEvent("initialize")}var a=createjs.extend(FontLoader,createjs.AbstractLoader);FontLoader.canLoadItem=function(a){return a.type==createjs.Types.FONT||a.type==createjs.Types.FONTCSS},FontLoader.sampleText="abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ",FontLoader._ctx=document.createElement("canvas").getContext("2d"),FontLoader._referenceFonts=["serif","monospace"],FontLoader.WEIGHT_REGEX=/[- ._]*(thin|normal|book|regular|medium|black|heavy|[1-9]00|(?:extra|ultra|semi|demi)?[- ._]*(?:light|bold))[- ._]*/gi,FontLoader.STYLE_REGEX=/[- ._]*(italic|oblique)[- ._]*/gi,FontLoader.FONT_FORMAT={woff2:"woff2",woff:"woff",ttf:"truetype",otf:"truetype"},FontLoader.FONT_WEIGHT={thin:100,extralight:200,ultralight:200,light:300,semilight:300,demilight:300,book:"normal",regular:"normal",semibold:600,demibold:600,extrabold:800,ultrabold:800,black:900,heavy:900},FontLoader.WATCH_DURATION=10,a.load=function(){if(this.type==createjs.Types.FONTCSS){var a=this._watchCSS();if(!a)return void this.AbstractLoader_load()}else if(this._item.src instanceof Array)this._watchFontArray();else{var b=this._defFromSrc(this._item.src);this._watchFont(b),this._injectStyleTag(this._cssFromDef(b))}this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this.dispatchEvent("loadstart")},a._handleTimeout=function(){this._stopWatching(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT"))},a._createRequest=function(){return this._request},a.handleEvent=function(a){switch(a.type){case"complete":this._rawResult=a.target._response,this._result=!0,this._parseCSS(this._rawResult);break;case"error":this._stopWatching(),this.AbstractLoader_handleEvent(a)}},a._watchCSS=function(){var a=this._item.src;return a instanceof HTMLStyleElement&&(this._injectCSS&&!a.parentNode&&(document.head||document.getElementsByTagName("head")[0]).appendChild(a),this._injectCSS=!1,a="\\n"+a.textContent),-1!==a.search(/\\n|\\r|@font-face/i)?(this._parseCSS(a),!0):(this._request=new createjs.XHRRequest(this._item),!1)},a._parseCSS=function(a){for(var b=/@font-face\\s*\\{([^}]+)}/g;;){var c=b.exec(a);if(!c)break;this._watchFont(this._parseFontFace(c[1]))}this._injectStyleTag(a)},a._watchFontArray=function(){for(var a,b=this._item.src,c="",d=b.length-1;d>=0;d--){var e=b[d];a="string"==typeof e?this._defFromSrc(e):this._defFromObj(e),this._watchFont(a),c+=this._cssFromDef(a)+"\\n"}this._injectStyleTag(c)},a._injectStyleTag=function(a){if(this._injectCSS){var b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),b.appendChild(c)}},a._parseFontFace=function(a){var b=this._getCSSValue(a,"font-family"),c=this._getCSSValue(a,"src");return b&&c?this._defFromObj({family:b,src:c,style:this._getCSSValue(a,"font-style"),weight:this._getCSSValue(a,"font-weight")}):null},a._watchFont=function(a){a&&!this._faces[a.id]&&(this._faces[a.id]=a,this._watched.push(a),this._count++,this._calculateReferenceSizes(a),this._startWatching())},a._startWatching=function(){null==this._watchInterval&&(this._watchInterval=setInterval(createjs.proxy(this._watch,this),FontLoader.WATCH_DURATION))},a._stopWatching=function(){clearInterval(this._watchInterval),clearTimeout(this._loadTimeout),this._watchInterval=null},a._watch=function(){for(var a=this._watched,b=FontLoader._referenceFonts,c=a.length,d=c-1;d>=0;d--)for(var e=a[d],f=e.refs,g=f.length-1;g>=0;g--){var h=this._getTextWidth(e.family+","+b[g],e.weight,e.style);if(h!=f[g]){var i=new createjs.Event("fileload");e.type="font-family",i.item=e,this.dispatchEvent(i),a.splice(d,1);break}}if(c!==a.length){var i=new createjs.ProgressEvent(this._count-a.length,this._count);this.dispatchEvent(i)}0===c&&(this._stopWatching(),this._sendComplete())},a._calculateReferenceSizes=function(a){for(var b=FontLoader._referenceFonts,c=a.refs=[],d=0;d<b.length;d++)c[d]=this._getTextWidth(b[d],a.weight,a.style)},a._defFromSrc=function(a){var b,c=/[- ._]+/g,d=a,e=null;b=d.search(/[?#]/),-1!==b&&(d=d.substr(0,b)),b=d.lastIndexOf("."),-1!==b&&(e=d.substr(b+1),d=d.substr(0,b)),b=d.lastIndexOf("/"),-1!==b&&(d=d.substr(b+1));var f=d,g=f.match(FontLoader.WEIGHT_REGEX);g&&(g=g[0],f=f.replace(g,""),g=g.replace(c,"").toLowerCase());var h=d.match(FontLoader.STYLE_REGEX);h&&(f=f.replace(h[0],""),h="italic"),f=f.replace(c,"");var i="local(\'"+d.replace(c," ")+"\'), url(\'"+a+"\')",j=FontLoader.FONT_FORMAT[e];return j&&(i+=" format(\'"+j+"\')"),this._defFromObj({family:f,weight:FontLoader.FONT_WEIGHT[g]||g,style:h,src:i})},a._defFromObj=function(a){var b={family:a.family,src:a.src,style:a.style||"normal",weight:a.weight||"normal"};return b.id=b.family+";"+b.style+";"+b.weight,b},a._cssFromDef=function(a){return"@font-face {\\n\tfont-family: \'"+a.family+"\';\\n\tfont-style: "+a.style+";\\n\tfont-weight: "+a.weight+";\\n\tsrc: "+a.src+";\\n}"},a._getTextWidth=function(a,b,c){var d=FontLoader._ctx;return d.font=c+" "+b+" 72px "+a,d.measureText(FontLoader.sampleText).width},a._getCSSValue=function(a,b){var c=new RegExp(b+":s*([^;}]+?)s*[;}]"),d=c.exec(a);return d&&d[1]?d[1]:null},createjs.FontLoader=createjs.promote(FontLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function ImageLoader(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.DomUtils.isImageTag(a)?this._tag=a:createjs.DomUtils.isImageTag(a.src)?this._tag=a.src:createjs.DomUtils.isImageTag(a.tag)&&(this._tag=a.tag),null!=this._tag?this._preferXHR=!1:this._tag=createjs.Elements.img(),this.on("initialize",this._updateXHR,this)}var a=createjs.extend(ImageLoader,createjs.AbstractLoader),b=ImageLoader;b.canLoadItem=function(a){return a.type==createjs.Types.IMAGE},a.load=function(){if(""!=this._tag.src&&this._tag.complete)return void this._sendComplete();var a=this._item.crossOrigin;1==a&&(a="Anonymous"),null==a||createjs.URLUtils.isLocal(this._item)||(this._tag.crossOrigin=a),this.AbstractLoader_load()},a._updateXHR=function(a){a.loader.mimeType="text/plain; charset=x-user-defined-binary",a.loader.setResponseType&&a.loader.setResponseType("blob")},a._formatResult=function(){return this._formatImage},a._formatImage=function(a,b){var c=this._tag,d=window.URL||window.webkitURL;if(this._preferXHR)if(d){var e=d.createObjectURL(this.getResult(!0));c.src=e,c.addEventListener("load",this._cleanUpURL,!1),c.addEventListener("error",this._cleanUpURL,!1)}else c.src=this._item.src;else;c.complete?a(c):(c.onload=createjs.proxy(function(){a(this._tag),c.onload=c.onerror=null},this),c.onerror=createjs.proxy(function(a){b(new createjs.ErrorEvent("IMAGE_FORMAT",null,a)),c.onload=c.onerror=null},this))},a._cleanUpURL=function(a){var b=window.URL||window.webkitURL;b.revokeObjectURL(a.target.src)},createjs.ImageLoader=createjs.promote(ImageLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function JavaScriptLoader(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(createjs.Elements.script())}var a=createjs.extend(JavaScriptLoader,createjs.AbstractLoader),b=JavaScriptLoader;b.canLoadItem=function(a){return a.type==createjs.Types.JAVASCRIPT},a._formatResult=function(a){var b=a.getTag();return this._preferXHR&&(b.text=a.getResult(!0)),b},createjs.JavaScriptLoader=createjs.promote(JavaScriptLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function JSONLoader(a){this.AbstractLoader_constructor(a,!0,createjs.Types.JSON),this.resultFormatter=this._formatResult}var a=createjs.extend(JSONLoader,createjs.AbstractLoader),b=JSONLoader;b.canLoadItem=function(a){return a.type==createjs.Types.JSON},a._formatResult=function(a){var b=null;try{b=createjs.DataUtils.parseJSON(a.getResult(!0))}catch(c){var d=new createjs.ErrorEvent("JSON_FORMAT",null,c);return this._sendError(d),c}return b},createjs.JSONLoader=createjs.promote(JSONLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function JSONPLoader(a){this.AbstractLoader_constructor(a,!1,createjs.Types.JSONP),this.setTag(createjs.Elements.script()),this.getTag().type="text/javascript"}var a=createjs.extend(JSONPLoader,createjs.AbstractLoader),b=JSONPLoader;b.canLoadItem=function(a){return a.type==createjs.Types.JSONP},a.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},a.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback \'"+this._item.callback+"\' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),createjs.DomUtils.appendToBody(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},a._handleLoad=function(a){this._result=this._rawResult=a,this._sendComplete(),this._dispose()},a._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},a._dispose=function(){createjs.DomUtils.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(JSONPLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function ManifestLoader(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.MANIFEST),this.plugins=null,this._manifestQueue=null}var a=createjs.extend(ManifestLoader,createjs.AbstractLoader),b=ManifestLoader;b.MANIFEST_PROGRESS=.25,b.canLoadItem=function(a){return a.type==createjs.Types.MANIFEST},a.load=function(){this.AbstractLoader_load()},a._createRequest=function(){var a=this._item.callback;this._request=null!=a?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},a.handleEvent=function(a){switch(a.type){case"complete":return this._rawResult=a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(b.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return a.loaded*=b.MANIFEST_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)},a.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},a._loadManifest=function(a){if(a&&a.manifest){var b=this._manifestQueue=new createjs.LoadQueue(this._preferXHR);b.on("fileload",this._handleManifestFileLoad,this),b.on("progress",this._handleManifestProgress,this),b.on("complete",this._handleManifestComplete,this,!0),b.on("error",this._handleManifestError,this,!0);for(var c=0,d=this.plugins.length;d>c;c++)b.installPlugin(this.plugins[c]);b.loadManifest(a)}else this._sendComplete()},a._handleManifestFileLoad=function(a){a.target=null,this.dispatchEvent(a)},a._handleManifestComplete=function(){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},a._handleManifestProgress=function(a){this.progress=a.progress*(1-b.MANIFEST_PROGRESS)+b.MANIFEST_PROGRESS,this._sendProgress(this.progress)},a._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data,this.dispatchEvent(b)},createjs.ManifestLoader=createjs.promote(ManifestLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function SoundLoader(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.Types.SOUND),createjs.DomUtils.isAudioTag(a)?this._tag=a:createjs.DomUtils.isAudioTag(a.src)?this._tag=a:createjs.DomUtils.isAudioTag(a.tag)&&(this._tag=createjs.DomUtils.isAudioTag(a)?a:a.src),null!=this._tag&&(this._preferXHR=!1)}var a=createjs.extend(SoundLoader,createjs.AbstractMediaLoader),b=SoundLoader;b.canLoadItem=function(a){return a.type==createjs.Types.SOUND},a._createTag=function(a){var b=createjs.Elements.audio();return b.autoplay=!1,b.preload="none",b.src=a,b},createjs.SoundLoader=createjs.promote(SoundLoader,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function VideoLoader(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.Types.VIDEO),createjs.DomUtils.isVideoTag(a)||createjs.DomUtils.isVideoTag(a.src)?(this.setTag(createjs.DomUtils.isVideoTag(a)?a:a.src),this._preferXHR=!1):this.setTag(this._createTag())}var a=createjs.extend(VideoLoader,createjs.AbstractMediaLoader),b=VideoLoader;a._createTag=function(){return createjs.Elements.video()},b.canLoadItem=function(a){return a.type==createjs.Types.VIDEO},createjs.VideoLoader=createjs.promote(VideoLoader,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function SpriteSheetLoader(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.SPRITESHEET),this._manifestQueue=null}var a=createjs.extend(SpriteSheetLoader,createjs.AbstractLoader),b=SpriteSheetLoader;b.SPRITESHEET_PROGRESS=.25,b.canLoadItem=function(a){return a.type==createjs.Types.SPRITESHEET},a.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},a._createRequest=function(){var a=this._item.callback;this._request=null!=a?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},a.handleEvent=function(a){switch(a.type){case"complete":return this._rawResult=a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(b.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return a.loaded*=b.SPRITESHEET_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)},a._loadManifest=function(a){if(a&&a.images){var b=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);b.on("complete",this._handleManifestComplete,this,!0),b.on("fileload",this._handleManifestFileLoad,this),b.on("progress",this._handleManifestProgress,this),b.on("error",this._handleManifestError,this,!0),b.loadManifest(a.images)}},a._handleManifestFileLoad=function(a){var b=a.result;if(null!=b){var c=this.getResult().images,d=c.indexOf(a.item.src);c[d]=b}},a._handleManifestComplete=function(){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},a._handleManifestProgress=function(a){this.progress=a.progress*(1-b.SPRITESHEET_PROGRESS)+b.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},a._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data,this.dispatchEvent(b)},createjs.SpriteSheetLoader=createjs.promote(SpriteSheetLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function SVGLoader(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",b?this.setTag(createjs.Elements.svg()):(this.setTag(createjs.Elements.object()),this.getTag().type="image/svg+xml")\n}var a=createjs.extend(SVGLoader,createjs.AbstractLoader),b=SVGLoader;b.canLoadItem=function(a){return a.type==createjs.Types.SVG},a._formatResult=function(a){var b=createjs.DataUtils.parseXML(a.getResult(!0)),c=a.getTag();if(!this._preferXHR&&document.body.contains(c)&&document.body.removeChild(c),null!=b.documentElement){var d=b.documentElement;return document.importNode&&(d=document.importNode(d,!0)),c.appendChild(d),c}return b},createjs.SVGLoader=createjs.promote(SVGLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function XMLLoader(a){this.AbstractLoader_constructor(a,!0,createjs.Types.XML),this.resultFormatter=this._formatResult}var a=createjs.extend(XMLLoader,createjs.AbstractLoader),b=XMLLoader;b.canLoadItem=function(a){return a.type==createjs.Types.XML},a._formatResult=function(a){return createjs.DataUtils.parseXML(a.getResult(!0))},createjs.XMLLoader=createjs.promote(XMLLoader,"AbstractLoader")}();'},function(t,e,r){r(0)(r(4))},function(t,e){t.exports='/* Zepto v1.2.0 - zepto event ajax form ie - zeptojs.com/license */\n!function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t)}):e(t)}(this,function(t){var e=function(){function $(t){return null==t?String(t):S[C.call(t)]||"object"}function F(t){return"function"==$(t)}function k(t){return null!=t&&t==t.window}function M(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function R(t){return"object"==$(t)}function Z(t){return R(t)&&!k(t)&&Object.getPrototypeOf(t)==Object.prototype}function z(t){var e=!!t&&"length"in t&&t.length,n=r.type(t);return"function"!=n&&!k(t)&&("array"==n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function q(t){return a.call(t,function(t){return null!=t})}function H(t){return t.length>0?r.fn.concat.apply([],t):t}function I(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function V(t){return t in l?l[t]:l[t]=new RegExp("(^|\\\\s)"+t+"(\\\\s|$)")}function _(t,e){return"number"!=typeof e||h[I(t)]?e:e+"px"}function B(t){var e,n;return c[t]||(e=f.createElement(t),f.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),c[t]=n),c[t]}function U(t){return"children"in t?u.call(t.children):r.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function X(t,e){var n,r=t?t.length:0;for(n=0;r>n;n++)this[n]=t[n];this.length=r,this.selector=e||""}function J(t,r,i){for(n in r)i&&(Z(r[n])||L(r[n]))?(Z(r[n])&&!Z(t[n])&&(t[n]={}),L(r[n])&&!L(t[n])&&(t[n]=[]),J(t[n],r[n],i)):r[n]!==e&&(t[n]=r[n])}function W(t,e){return null==e?r(t):r(t).filter(e)}function Y(t,e,n,r){return F(e)?e.call(t,n,r):e}function G(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function K(t,n){var r=t.className||"",i=r&&r.baseVal!==e;return n===e?i?r.baseVal:r:void(i?r.baseVal=n:t.className=n)}function Q(t){try{return t?"true"==t||("false"==t?!1:"null"==t?null:+t+""==t?+t:/^[\\[\\{]/.test(t)?r.parseJSON(t):t):t}catch(e){return t}}function tt(t,e){e(t);for(var n=0,r=t.childNodes.length;r>n;n++)tt(t.childNodes[n],e)}var e,n,r,i,O,P,o=[],s=o.concat,a=o.filter,u=o.slice,f=t.document,c={},l={},h={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},p=/^\\s*<(\\w+|!)[^>]*>/,d=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,m=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,g=/^(?:body|html)$/i,v=/([A-Z])/g,y=["val","css","html","text","data","width","height","offset"],x=["after","prepend","before","append"],b=f.createElement("table"),E=f.createElement("tr"),j={tr:f.createElement("tbody"),tbody:b,thead:b,tfoot:b,td:E,th:E,"*":f.createElement("div")},w=/complete|loaded|interactive/,T=/^[\\w-]*$/,S={},C=S.toString,N={},A=f.createElement("div"),D={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},L=Array.isArray||function(t){return t instanceof Array};return N.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,i=t.parentNode,o=!i;return o&&(i=A).appendChild(t),r=~N.qsa(i,e).indexOf(t),o&&A.removeChild(t),r},O=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},P=function(t){return a.call(t,function(e,n){return t.indexOf(e)==n})},N.fragment=function(t,n,i){var o,s,a;return d.test(t)&&(o=r(f.createElement(RegExp.$1))),o||(t.replace&&(t=t.replace(m,"<$1></$2>")),n===e&&(n=p.test(t)&&RegExp.$1),n in j||(n="*"),a=j[n],a.innerHTML=""+t,o=r.each(u.call(a.childNodes),function(){a.removeChild(this)})),Z(i)&&(s=r(o),r.each(i,function(t,e){y.indexOf(t)>-1?s[t](e):s.attr(t,e)})),o},N.Z=function(t,e){return new X(t,e)},N.isZ=function(t){return t instanceof N.Z},N.init=function(t,n){var i;if(!t)return N.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&p.test(t))i=N.fragment(t,RegExp.$1,n),t=null;else{if(n!==e)return r(n).find(t);i=N.qsa(f,t)}else{if(F(t))return r(f).ready(t);if(N.isZ(t))return t;if(L(t))i=q(t);else if(R(t))i=[t],t=null;else if(p.test(t))i=N.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==e)return r(n).find(t);i=N.qsa(f,t)}}return N.Z(i,t)},r=function(t,e){return N.init(t,e)},r.extend=function(t){var e,n=u.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){J(t,n,e)}),t},N.qsa=function(t,e){var n,r="#"==e[0],i=!r&&"."==e[0],o=r||i?e.slice(1):e,s=T.test(o);return t.getElementById&&s&&r?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:u.call(s&&!r&&t.getElementsByClassName?i?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},r.contains=f.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},r.type=$,r.isFunction=F,r.isWindow=k,r.isArray=L,r.isPlainObject=Z,r.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},r.isNumeric=function(t){var e=Number(t),n=typeof t;return null!=t&&"boolean"!=n&&("string"!=n||t.length)&&!isNaN(e)&&isFinite(e)||!1},r.inArray=function(t,e,n){return o.indexOf.call(e,t,n)},r.camelCase=O,r.trim=function(t){return null==t?"":String.prototype.trim.call(t)},r.uuid=0,r.support={},r.expr={},r.noop=function(){},r.map=function(t,e){var n,i,o,r=[];if(z(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&r.push(n);else for(o in t)n=e(t[o],o),null!=n&&r.push(n);return H(r)},r.each=function(t,e){var n,r;if(z(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(r in t)if(e.call(t[r],r,t[r])===!1)return t;return t},r.grep=function(t,e){return a.call(t,e)},t.JSON&&(r.parseJSON=JSON.parse),r.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){S["[object "+e+"]"]=e.toLowerCase()}),r.fn={constructor:N.Z,length:0,forEach:o.forEach,reduce:o.reduce,push:o.push,sort:o.sort,splice:o.splice,indexOf:o.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=N.isZ(e)?e.toArray():e;return s.apply(N.isZ(this)?this.toArray():this,n)},map:function(t){return r(r.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return r(u.apply(this,arguments))},ready:function(t){return w.test(f.readyState)&&f.body?t(r):f.addEventListener("DOMContentLoaded",function(){t(r)},!1),this},get:function(t){return t===e?u.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return o.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return F(t)?this.not(this.not(t)):r(a.call(this,function(e){return N.matches(e,t)}))},add:function(t,e){return r(P(this.concat(r(t,e))))},is:function(t){return this.length>0&&N.matches(this[0],t)},not:function(t){var n=[];if(F(t)&&t.call!==e)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):z(t)&&F(t.item)?u.call(t):r(t);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return r(n)},has:function(t){return this.filter(function(){return R(t)?r.contains(this,t):r(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!R(t)?t:r(t)},last:function(){var t=this[this.length-1];return t&&!R(t)?t:r(t)},find:function(t){var e,n=this;return e=t?"object"==typeof t?r(t).filter(function(){var t=this;return o.some.call(n,function(e){return r.contains(e,t)})}):1==this.length?r(N.qsa(this[0],t)):this.map(function(){return N.qsa(this,t)}):r()},closest:function(t,e){var n=[],i="object"==typeof t&&r(t);return this.each(function(r,o){for(;o&&!(i?i.indexOf(o)>=0:N.matches(o,t));)o=o!==e&&!M(o)&&o.parentNode;o&&n.indexOf(o)<0&&n.push(o)}),r(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=r.map(n,function(t){return(t=t.parentNode)&&!M(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return W(e,t)},parent:function(t){return W(P(this.pluck("parentNode")),t)},children:function(t){return W(this.map(function(){return U(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||u.call(this.childNodes)})},siblings:function(t){return W(this.map(function(t,e){return a.call(U(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return r.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=B(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=F(t);if(this[0]&&!e)var n=r(t).get(0),i=n.parentNode||this.length>1;return this.each(function(o){r(this).wrapAll(e?t.call(this,o):i?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){r(this[0]).before(t=r(t));for(var e;(e=t.children()).length;)t=e.first();r(t).append(this)}return this},wrapInner:function(t){var e=F(t);return this.each(function(n){var i=r(this),o=i.contents(),s=e?t.call(this,n):t;o.length?o.wrapAll(s):i.append(s)})},unwrap:function(){return this.parent().each(function(){r(this).replaceWith(r(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var n=r(this);(t===e?"none"==n.css("display"):t)?n.show():n.hide()})},prev:function(t){return r(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return r(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;r(this).empty().append(Y(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=Y(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,r){var i;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(R(t))for(n in t)G(this,n,t[n]);else G(this,t,Y(this,r,e,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(i=this[0].getAttribute(t))?i:e},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){G(this,t)},this)})},prop:function(t,e){return t=D[t]||t,1 in arguments?this.each(function(n){this[t]=Y(this,e,n,this[t])}):this[0]&&this[0][t]},removeProp:function(t){return t=D[t]||t,this.each(function(){delete this[t]})},data:function(t,n){var r="data-"+t.replace(v,"-$1").toLowerCase(),i=1 in arguments?this.attr(r,n):this.attr(r);return null!==i?Q(i):e},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=Y(this,t,e,this.value)})):this[0]&&(this[0].multiple?r(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=r(this),i=Y(this,e,t,n.offset()),o=n.offsetParent().offset(),s={top:i.top-o.top,left:i.left-o.left};"static"==n.css("position")&&(s.position="relative"),n.css(s)});if(!this.length)return null;if(f.documentElement!==this[0]&&!r.contains(f.documentElement,this[0]))return{top:0,left:0};var n=this[0].getBoundingClientRect();return{left:n.left+t.pageXOffset,top:n.top+t.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(t,e){if(arguments.length<2){var i=this[0];if("string"==typeof t){if(!i)return;return i.style[O(t)]||getComputedStyle(i,"").getPropertyValue(t)}if(L(t)){if(!i)return;var o={},s=getComputedStyle(i,"");return r.each(t,function(t,e){o[e]=i.style[O(e)]||s.getPropertyValue(e)}),o}}var a="";if("string"==$(t))e||0===e?a=I(t)+":"+_(t,e):this.each(function(){this.style.removeProperty(I(t))});else for(n in t)t[n]||0===t[n]?a+=I(n)+":"+_(n,t[n])+";":this.each(function(){this.style.removeProperty(I(n))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(r(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?o.some.call(this,function(t){return this.test(K(t))},V(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){i=[];var n=K(this),o=Y(this,t,e,n);o.split(/\\s+/g).forEach(function(t){r(this).hasClass(t)||i.push(t)},this),i.length&&K(this,n+(n?" ":"")+i.join(" "))}}):this},removeClass:function(t){return this.each(function(n){if("className"in this){if(t===e)return K(this,"");i=K(this),Y(this,t,n,i).split(/\\s+/g).forEach(function(t){i=i.replace(V(t)," ")}),K(this,i.trim())}})},toggleClass:function(t,n){return t?this.each(function(i){var o=r(this),s=Y(this,t,i,K(this));s.split(/\\s+/g).forEach(function(t){(n===e?!o.hasClass(t):n)?o.addClass(t):o.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var n="scrollTop"in this[0];return t===e?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var n="scrollLeft"in this[0];return t===e?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=g.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(r(t).css("margin-top"))||0,n.left-=parseFloat(r(t).css("margin-left"))||0,i.top+=parseFloat(r(e[0]).css("border-top-width"))||0,i.left+=parseFloat(r(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||f.body;t&&!g.test(t.nodeName)&&"static"==r(t).css("position");)t=t.offsetParent;return t})}},r.fn.detach=r.fn.remove,["width","height"].forEach(function(t){var n=t.replace(/./,function(t){return t[0].toUpperCase()});r.fn[t]=function(i){var o,s=this[0];return i===e?k(s)?s["inner"+n]:M(s)?s.documentElement["scroll"+n]:(o=this.offset())&&o[t]:this.each(function(e){s=r(this),s.css(t,Y(this,i,e,s[t]()))})}}),x.forEach(function(n,i){var o=i%2;r.fn[n]=function(){var n,a,s=r.map(arguments,function(t){var i=[];return n=$(t),"array"==n?(t.forEach(function(t){return t.nodeType!==e?i.push(t):r.zepto.isZ(t)?i=i.concat(t.get()):void(i=i.concat(N.fragment(t)))}),i):"object"==n||null==t?t:N.fragment(t)}),u=this.length>1;return s.length<1?this:this.each(function(e,n){a=o?n:n.parentNode,n=0==i?n.nextSibling:1==i?n.firstChild:2==i?n:null;var c=r.contains(f.documentElement,a);s.forEach(function(e){if(u)e=e.cloneNode(!0);else if(!a)return r(e).remove();a.insertBefore(e,n),c&&tt(e,function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var n=e.ownerDocument?e.ownerDocument.defaultView:t;n.eval.call(n,e.innerHTML)}})})})},r.fn[o?n+"To":"insert"+(i?"Before":"After")]=function(t){return r(t)[n](this),this}}),N.Z.prototype=X.prototype=r.fn,N.uniq=P,N.deserializeValue=Q,r.zepto=N,r}();return t.Zepto=e,void 0===t.$&&(t.$=e),function(e){function h(t){return t._zid||(t._zid=n++)}function p(t,e,n,r){if(e=d(e),e.ns)var i=m(e.ns);return(a[h(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||i.test(t.ns))&&(!n||h(t.fn)===h(n))&&(!r||t.sel==r)})}function d(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function m(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function g(t,e){return t.del&&!f&&t.e in c||!!e}function v(t){return l[t]||f&&c[t]||t}function y(t,n,i,o,s,u,f){var c=h(t),p=a[c]||(a[c]=[]);n.split(/\\s/).forEach(function(n){if("ready"==n)return e(document).ready(i);var a=d(n);a.fn=i,a.sel=s,a.e in l&&(i=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?a.fn.apply(this,arguments):void 0}),a.del=u;var c=u||i;a.proxy=function(e){if(e=T(e),!e.isImmediatePropagationStopped()){e.data=o;var n=c.apply(t,e._args==r?[e]:[e].concat(e._args));return n===!1&&(e.preventDefault(),e.stopPropagation()),n}},a.i=p.length,p.push(a),"addEventListener"in t&&t.addEventListener(v(a.e),a.proxy,g(a,f))})}function x(t,e,n,r,i){var o=h(t);(e||"").split(/\\s/).forEach(function(e){p(t,e,n,r).forEach(function(e){delete a[o][e.i],"removeEventListener"in t&&t.removeEventListener(v(e.e),e.proxy,g(e,i))})})}function T(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(w,function(e,r){var i=n[e];t[e]=function(){return this[r]=b,i&&i.apply(n,arguments)},t[r]=E}),t.timeStamp||(t.timeStamp=Date.now()),(n.defaultPrevented!==r?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=b)),t}function S(t){var e,n={originalEvent:t};for(e in t)j.test(e)||t[e]===r||(n[e]=t[e]);return T(n,t)}var r,n=1,i=Array.prototype.slice,o=e.isFunction,s=function(t){return"string"==typeof t},a={},u={},f="onfocusin"in t,c={focus:"focusin",blur:"focusout"},l={mouseenter:"mouseover",mouseleave:"mouseout"};u.click=u.mousedown=u.mouseup=u.mousemove="MouseEvents",e.event={add:y,remove:x},e.proxy=function(t,n){var r=2 in arguments&&i.call(arguments,2);if(o(t)){var a=function(){return t.apply(n,r?r.concat(i.call(arguments)):arguments)};return a._zid=h(t),a}if(s(n))return r?(r.unshift(t[n],t),e.proxy.apply(null,r)):e.proxy(t[n],t);throw new TypeError("expected function")},e.fn.bind=function(t,e,n){return this.on(t,e,n)},e.fn.unbind=function(t,e){return this.off(t,e)},e.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var b=function(){return!0},E=function(){return!1},j=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,e,n){return this.on(e,t,n)},e.fn.undelegate=function(t,e,n){return this.off(e,t,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,a,u,f){var c,l,h=this;return t&&!s(t)?(e.each(t,function(t,e){h.on(t,n,a,e,f)}),h):(s(n)||o(u)||u===!1||(u=a,a=n,n=r),(u===r||a===!1)&&(u=a,a=r),u===!1&&(u=E),h.each(function(r,o){f&&(c=function(t){return x(o,t.type,u),u.apply(this,arguments)}),n&&(l=function(t){var r,s=e(t.target).closest(n,o).get(0);return s&&s!==o?(r=e.extend(S(t),{currentTarget:s,liveFired:o}),(c||u).apply(s,[r].concat(i.call(arguments,1)))):void 0}),y(o,t,u,a,n,l||c)}))},e.fn.off=function(t,n,i){var a=this;return t&&!s(t)?(e.each(t,function(t,e){a.off(t,n,e)}),a):(s(n)||o(i)||i===!1||(i=n,n=r),i===!1&&(i=E),a.each(function(){x(this,t,i,n)}))},e.fn.trigger=function(t,n){return t=s(t)||e.isPlainObject(t)?e.Event(t):T(t),t._args=n,this.each(function(){t.type in c&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,n){var r,i;return this.each(function(o,a){r=S(s(t)?e.Event(t):t),r._args=n,r.target=a,e.each(p(a,t.type||t),function(t,e){return i=e.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(t,e){s(t)||(e=t,t=e.type);var n=document.createEvent(u[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0),T(n)}}(e),function(e){function p(t,n,r){var i=e.Event(n);return e(t).trigger(i,r),!i.isDefaultPrevented()}function d(t,e,n,i){return t.global?p(e||r,n,i):void 0}function m(t){t.global&&0===e.active++&&d(t,null,"ajaxStart")}function g(t){t.global&&!--e.active&&d(t,null,"ajaxStop")}function v(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||d(e,n,"ajaxBeforeSend",[t,e])===!1?!1:void d(e,n,"ajaxSend",[t,e])}function y(t,e,n,r){var i=n.context,o="success";n.success.call(i,t,o,e),r&&r.resolveWith(i,[t,o,e]),d(n,i,"ajaxSuccess",[e,n,t]),b(o,e,n)}function x(t,e,n,r,i){var o=r.context;r.error.call(o,n,e,t),i&&i.rejectWith(o,[n,e,t]),d(r,o,"ajaxError",[n,r,t||e]),b(e,n,r)}function b(t,e,n){var r=n.context;n.complete.call(r,e,t),d(n,r,"ajaxComplete",[e,n]),g(n)}function E(t,e,n){if(n.dataFilter==j)return t;var r=n.context;return n.dataFilter.call(r,t,e)}function j(){}function w(t){return t&&(t=t.split(";",2)[0]),t&&(t==c?"html":t==f?"json":a.test(t)?"script":u.test(t)&&"xml")||"text"}function T(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function S(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()&&"jsonp"!=t.dataType||(t.url=T(t.url,t.data),t.data=void 0)}function C(t,n,r,i){return e.isFunction(n)&&(i=r,r=n,n=void 0),e.isFunction(r)||(i=r,r=void 0),{url:t,data:n,success:r,dataType:i}}function O(t,n,r,i){var o,s=e.isArray(n),a=e.isPlainObject(n);e.each(n,function(n,u){o=e.type(u),i&&(n=r?i:i+"["+(a||"object"==o||"array"==o?n:"")+"]"),!i&&s?t.add(u.name,u.value):"array"==o||!r&&"object"==o?O(t,u,r,n):t.add(n,u)})}var i,o,n=+new Date,r=t.document,s=/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,a=/^(?:text|application)\\/javascript/i,u=/^(?:text|application)\\/xml/i,f="application/json",c="text/html",l=/^\\s*$/,h=r.createElement("a");h.href=t.location.href,e.active=0,e.ajaxJSONP=function(i,o){if(!("type"in i))return e.ajax(i);var c,p,s=i.jsonpCallback,a=(e.isFunction(s)?s():s)||"Zepto"+n++,u=r.createElement("script"),f=t[a],l=function(t){e(u).triggerHandler("error",t||"abort")},h={abort:l};return o&&o.promise(h),e(u).on("load error",function(n,r){clearTimeout(p),e(u).off().remove(),"error"!=n.type&&c?y(c[0],h,i,o):x(null,r||"error",h,i,o),t[a]=f,c&&e.isFunction(f)&&f(c[0]),f=c=void 0}),v(h,i)===!1?(l("abort"),h):(t[a]=function(){c=arguments},u.src=i.url.replace(/\\?(.+)=\\?/,"?$1="+a),r.head.appendChild(u),i.timeout>0&&(p=setTimeout(function(){l("timeout")},i.timeout)),h)},e.ajaxSettings={type:"GET",beforeSend:j,success:j,error:j,complete:j,context:null,global:!0,xhr:function(){return new t.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:f,xml:"application/xml, text/xml",html:c,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:j},e.ajax=function(n){var u,f,s=e.extend({},n||{}),a=e.Deferred&&e.Deferred();for(i in e.ajaxSettings)void 0===s[i]&&(s[i]=e.ajaxSettings[i]);m(s),s.crossDomain||(u=r.createElement("a"),u.href=s.url,u.href=u.href,s.crossDomain=h.protocol+"//"+h.host!=u.protocol+"//"+u.host),s.url||(s.url=t.location.toString()),(f=s.url.indexOf("#"))>-1&&(s.url=s.url.slice(0,f)),S(s);var c=s.dataType,p=/\\?.+=\\?/.test(s.url);if(p&&(c="jsonp"),s.cache!==!1&&(n&&n.cache===!0||"script"!=c&&"jsonp"!=c)||(s.url=T(s.url,"_="+Date.now())),"jsonp"==c)return p||(s.url=T(s.url,s.jsonp?s.jsonp+"=?":s.jsonp===!1?"":"callback=?")),e.ajaxJSONP(s,a);var P,d=s.accepts[c],g={},b=function(t,e){g[t.toLowerCase()]=[t,e]},C=/^([\\w-]+:)\\/\\//.test(s.url)?RegExp.$1:t.location.protocol,N=s.xhr(),O=N.setRequestHeader;if(a&&a.promise(N),s.crossDomain||b("X-Requested-With","XMLHttpRequest"),b("Accept",d||"*/*"),(d=s.mimeType||d)&&(d.indexOf(",")>-1&&(d=d.split(",",2)[0]),N.overrideMimeType&&N.overrideMimeType(d)),(s.contentType||s.contentType!==!1&&s.data&&"GET"!=s.type.toUpperCase())&&b("Content-Type",s.contentType||"application/x-www-form-urlencoded"),s.headers)for(o in s.headers)b(o,s.headers[o]);if(N.setRequestHeader=b,N.onreadystatechange=function(){if(4==N.readyState){N.onreadystatechange=j,clearTimeout(P);var t,n=!1;if(N.status>=200&&N.status<300||304==N.status||0==N.status&&"file:"==C){if(c=c||w(s.mimeType||N.getResponseHeader("content-type")),"arraybuffer"==N.responseType||"blob"==N.responseType)t=N.response;else{t=N.responseText;try{t=E(t,c,s),"script"==c?(1,eval)(t):"xml"==c?t=N.responseXML:"json"==c&&(t=l.test(t)?null:e.parseJSON(t))}catch(r){n=r}if(n)return x(n,"parsererror",N,s,a)}y(t,N,s,a)}else x(N.statusText||null,N.status?"error":"abort",N,s,a)}},v(N,s)===!1)return N.abort(),x(null,"abort",N,s,a),N;var A="async"in s?s.async:!0;if(N.open(s.type,s.url,A,s.username,s.password),s.xhrFields)for(o in s.xhrFields)N[o]=s.xhrFields[o];for(o in g)O.apply(N,g[o]);return s.timeout>0&&(P=setTimeout(function(){N.onreadystatechange=j,N.abort(),x(null,"timeout",N,s,a)},s.timeout)),N.send(s.data?s.data:null),N},e.get=function(){return e.ajax(C.apply(null,arguments))},e.post=function(){var t=C.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=C.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,r){if(!this.length)return this;var a,i=this,o=t.split(/\\s/),u=C(t,n,r),f=u.success;return o.length>1&&(u.url=o[0],a=o[1]),u.success=function(t){i.html(a?e("<div>").html(t.replace(s,"")).find(a):t),f&&f.apply(i,arguments)},e.ajax(u),this};var N=encodeURIComponent;e.param=function(t,n){var r=[];return r.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(N(t)+"="+N(n))},O(r,t,n),r.join("&").replace(/%20/g,"+")}}(e),function(t){t.fn.serializeArray=function(){var e,n,r=[],i=function(t){return t.forEach?t.forEach(i):void r.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(r,o){n=o.type,e=o.name,e&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&i(t(o).val())}),r},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(e),function(){try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;t.getComputedStyle=function(t,e){try{return n(t,e)}catch(r){return null}}}}(),e});'},function(t,e,r){"use strict";function a(){console.log("wwww",n.default);var t=new n.default.Stage({el:$("#three")[0]});t.size(window.innerWidth,window.innerHeight).update();var e=new n.default.Sprite;e.position(0,0,-600).update(),t.addChild(e)}var n=function(t){return t&&t.__esModule?t:{default:t}}(r(6));r(1),r(3),function(){var t=[],e=new createjs.LoadQueue;e.on("progress",function(){console.log((100*e.progress|0)+"%")}),e.on("complete",function(){console.log("loading complete"),a()},this),e.loadManifest(t)}()},function(t,e,r){function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n,s;/*!
 * VERSION: 0.8.4
 * DATE: 2017-10-09
 * GIT: https://github.com/shrekshrek/css3d-engine
 * @author: Shrek.wang
 **/
!function(r){n=[e],void 0!==(s=function(t){window.C3D=r(t)}.apply(e,n))&&(t.exports=s)}(function(t){function e(t){return Math.round(t)}function r(t){return Math.round(100*t)/100}function n(t){return t.replace(/\b(\w)|\s(\w)/g,function(t){return t.toUpperCase()})}function s(e){var r;switch(e.type){case"sprite":r=new t.Sprite(e.el?{el:e.el}:void 0);break;case"plane":r=new t.Plane(e.el?{el:e.el}:void 0);break;case"box":r=new t.Box(e.el?{el:e.el}:void 0);break;case"skybox":r=new t.Skybox(e.el?{el:e.el}:void 0)}if(void 0!=e.size&&r.size.apply(r,e.size),void 0!=e.position&&r.position.apply(r,e.position),void 0!=e.rotation&&r.rotation.apply(r,e.rotation),void 0!=e.scale&&r.scale.apply(r,e.scale),void 0!=e.origin&&r.origin.apply(r,e.origin),void 0!=e.visibility&&r.visibility.apply(r,e.visibility),void 0!=e.material&&r.material.apply(r,e.material),void 0!=e.filter&&r.filter.apply(r,e.filter),void 0!=e.name&&r.name.apply(r,[e.name]),void 0!=e.id&&r.id.apply(r,[e.id]),void 0!=e.class&&r.class.apply(r,[e.class]),r.update(),e.children)for(var a=0,n=e.children.length;n>a;a++){var i=e.children[a],o=s(i);r.addChild(o)}return r}var i=function(t,e){var r,a=this;r=t&&Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(){return a.apply(this,arguments)},Object.assign(r,a,e);var n=function(){this.constructor=r};return n.prototype=a.prototype,r.prototype=new n,t&&Object.assign(r.prototype,t),r.__super__=a.prototype,r},o="";return function(){var t=document.createElement("div"),e=["Webkit","Moz","Ms","O"];for(var r in e)if(e[r]+"Transform"in t.style){o=e[r];break}}(),t.getRandomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},t.rgb2hex=function(t,e,r){return(t<<16|e<<8|r).toString(16)},t.hex2rgb=function(t){var e=Math.floor("0x"+t);return[e>>16&255,e>>8&255,255&e]},t.Object=function(){this.initialize.apply(this,arguments)},Object.assign(t.Object.prototype,{x:0,y:0,z:0,position:function(t,e,r){if(void 0==t)throw"position arguments is wrong!";return this.x=t,this.y=void 0==e?t:e,this.z=void 0==r?t:r,this},move:function(t,e,r){if(void 0==t)throw"move arguments is wrong!";return this.x+=t,this.y+=void 0==e?t:e,this.z+=void 0==r?t:r,this},rotationX:0,rotationY:0,rotationZ:0,rotation:function(t,e,r){if(void 0==t)throw"rotation arguments is wrong!";return this.rotationX=t,this.rotationY=void 0==e?t:e,this.rotationZ=void 0==r?t:r,this},rotate:function(t,e,r){if(void 0==t)throw"rotate arguments is wrong!";return this.rotationX+=t,this.rotationY+=void 0==e?t:e,this.rotationZ+=void 0==r?t:r,this},scaleX:1,scaleY:1,scaleZ:1,scale:function(t,e,r){if(void 0==t)throw"scale arguments is wrong!";return this.scaleX=t,this.scaleY=void 0==e?t:e,this.scaleZ=void 0==r?t:r,this},width:0,height:0,depth:0,size:function(t,e,r){if(void 0==t)throw"size arguments is wrong!";return this.width=t,this.height=void 0==e?t:e,this.depth=void 0==r?t:r,this},originX:0,originY:0,originZ:0,__orgO:{x:0,y:0,z:0},__orgT:{x:0,y:0,z:0},__orgF:{x:0,y:0,z:0},origin:function(t,e,r){if(void 0==t)throw"size arguments is wrong!";return this.originX=t,this.originY=void 0==e?t:e,this.originZ=void 0==r?t:r,this},__sort:["X","Y","Z"],sort:function(t,e,r){if(arguments.length>3)throw"sort arguments is wrong!";return this.__sort=[t,e,r],this},initialize:function(){this.x=0,this.y=0,this.z=0,this.rotationX=0,this.rotationY=0,this.rotationZ=0,this.scaleX=1,this.scaleY=1,this.scaleZ=1,this.width=0,this.height=0,this.depth=0,this.originX="50%",this.originY="50%",this.originZ="0px",this.__orgO={x:"50%",y:"50%",z:"0px"},this.__orgT={x:"-50%",y:"-50%",z:"0px"},this.__orgF={x:0,y:0,z:0},this.children=[]},parent:null,children:null,addChild:function(t){if(null!=t.parent&&t.parent.removeChild(t),""!=t.__name){if(void 0!==this[t.__name])throw t.__name+" already exist!";this[t.__name]=t}return this.children.push(t),t.parent=this,this},removeChild:function(t){for(var e=this.children.length-1;e>=0;e--)if(this.children[e]===t)return""!=t.__name&&delete this[t.__name],this.children.splice(e,1),t.parent=null,this;return this},removeAllChild:function(){for(var t=this.children.length-1;t>=0;t--){var e=this.children[t];""!=e.__name&&delete this[e.__name],e.parent=null}return this.children=[],this},remove:function(){return null!=this.parent&&this.parent.removeChild(this),this}}),t.Object.extend=i,t.Sprite=t.Object.extend({el:null,alpha:1,visible:!0,initialize:function(e){t.Sprite.__super__.initialize.apply(this,[e]),this.__name="",this.__id="",this.__class="",this.alpha=1,this.visible=!0;var r;if(e&&e.el)switch(a(e.el)){case"string":r=document.createElement("div"),r.innerHTML=e.el;break;case"object":1===e.el.nodeType&&(r=e.el)}r||(r=document.createElement("div")),r.style.position="absolute",r.style[o+"Transform"]="translateZ(0px)",r.style[o+"TransformStyle"]="preserve-3d",this.el=r,r.le=this},__name:"",name:function(t){return this.__name=t,""==t?delete this.el.dataset.name:this.el.dataset.name=t,this},__id:"",id:function(t){return this.__id=t,this.el.id=t,this},__class:"",class:function(t){return this.__class=t,this.el.className=t,this},update:function(){return this.updateS(),this.updateM(),this.updateO(),this.updateT(),this.updateV(),this},updateS:function(){return this},updateM:function(){if(!this.__mat)return this;for(var t in this.__mat)switch(t){case"bothsides":this.el.style[o+"BackfaceVisibility"]=this.__mat[t]?"visible":"hidden";break;case"image":this.el.style["background"+n(t)]=""!==this.__mat[t]?"url("+this.__mat[t]+")":"";break;default:this.el.style["background"+n(t)]=this.__mat[t]}return this},updateO:function(){if("number"==typeof this.originX){var t=e(this.originX-this.__orgF.x);this.__orgO.x=t+"px",this.__orgT.x=-t+"px"}else this.__orgO.x=this.originX,this.__orgT.x="-"+this.originX;if("number"==typeof this.originY){var r=e(this.originY-this.__orgF.y);this.__orgO.y=r+"px",this.__orgT.y=-r+"px"}else this.__orgO.y=this.originY,this.__orgT.y="-"+this.originY;if("number"==typeof this.originZ){var a=e(this.originZ-this.__orgF.z);this.__orgO.z=a+"px",this.__orgT.z=-a+"px"}else this.__orgO.z=this.__orgT.z="0px";return this.el.style[o+"TransformOrigin"]=this.__orgO.x+" "+this.__orgO.y+" "+this.__orgO.z,this},updateT:function(){var t=this.__sort[0],e=this.__sort[1],a=this.__sort[2];return this.el.style[o+"Transform"]="translate3d("+this.__orgT.x+", "+this.__orgT.y+", "+this.__orgT.z+") translate3d("+r(this.x)+"px,"+r(this.y)+"px,"+r(this.z)+"px) rotate"+t+"("+r(this["rotation"+t])%360+"deg) rotate"+e+"("+r(this["rotation"+e])%360+"deg) rotate"+a+"("+r(this["rotation"+a])%360+"deg) scale3d("+r(this.scaleX)+", "+r(this.scaleY)+", "+r(this.scaleZ)+") ",this},updateV:function(){return this.el.style.opacity=this.alpha,this.el.style.display=this.visible?"block":"none",this},addChild:function(e){return t.Sprite.__super__.addChild.apply(this,[e]),this.el&&e.el&&this.el.appendChild(e.el),this},removeChild:function(t){for(var e=this.children.length-1;e>=0;e--)if(this.children[e]===t)return""!=t.__name&&delete this[t.__name],this.children.splice(e,1),t.parent=null,this.el.removeChild(t.el),this;return this},removeAllChild:function(){for(var t=this.children.length-1;t>=0;t--){var e=this.children[t];""!=e.__name&&delete this[e.__name],e.parent=null,this.el.removeChild(e.el)}return this.children=[],this},on:function(t){if("object"==a(t))for(var e in t)this.el.addEventListener(e,t[e],!1);else 2===arguments.length?this.el.addEventListener(arguments[0],arguments[1],!1):3===arguments.length&&this.el.addEventListener(arguments[0],arguments[1],arguments[2]);return this},off:function(t){if("object"==a(t))for(var e in t)this.el.removeEventListener(e,t[e],!1);else 2===arguments.length&&this.el.removeEventListener(arguments[0],arguments[1],!1);return this},buttonMode:function(t){return this.el.style.cursor=t?"pointer":"auto",this},__mat:null,material:function(t){return this.__mat=t,this},visibility:function(t){return void 0!==t.visible&&(this.visible=t.visible),void 0!==t.alpha&&(this.alpha=t.alpha),this}}),t.Stage=t.Sprite.extend({camera:null,fov:null,__rfix:null,__pfix:null,initialize:function(e){t.Stage.__super__.initialize.apply(this,[e]),e&&e.el||(this.el.style.top="0px",this.el.style.left="0px",this.el.style.width="0px",this.el.style.height="0px"),this.el.style[o+"Perspective"]="800px",this.el.style[o+"TransformStyle"]="flat",this.el.style[o+"Transform"]="",this.el.style.overflow="hidden",this.__rfix=new t.Sprite,this.el.appendChild(this.__rfix.el),this.__pfix=new t.Sprite,this.__rfix.el.appendChild(this.__pfix.el),this.setCamera(new t.Camera)},updateS:function(){return this.el.style.width=e(this.width)+"px",this.el.style.height=e(this.height)+"px",this},updateT:function(){return this.fov=e(.5/Math.tan(.5*this.camera.fov/180*Math.PI)*this.height),this.el.style[o+"Perspective"]=this.fov+"px",this.__rfix.position(e(this.width/2),e(this.height/2),this.fov).rotation(-this.camera.rotationX,-this.camera.rotationY,-this.camera.rotationZ).updateT(),this.__pfix.position(-this.camera.x,-this.camera.y,-this.camera.z).updateT(),this},addChild:function(t){return this.__pfix.addChild(t),this},removeChild:function(t){return this.__pfix.removeChild(t),this},removeAllChild:function(){return this.__pfix.removeAllChild(),this},setCamera:function(t){return this.camera&&(this.camera.stage=null),this.camera=t,this.camera.stage=this,this}}),t.Camera=t.Object.extend({fov:null,stage:null,initialize:function(e){t.Camera.__super__.initialize.apply(this,[e]),this.fov=75},update:function(){return this.updateT(),this},updateS:function(){return this},updateM:function(){return this},updateT:function(){return this.stage&&this.stage.updateT(),this},updateV:function(){return this}}),t.Plane=t.Sprite.extend({initialize:function(e){t.Plane.__super__.initialize.apply(this,[e])},update:function(){return t.Plane.__super__.update.apply(this),this.updateF(),this},updateS:function(){return this.el.style.width=e(this.width)+"px",this.el.style.height=e(this.height)+"px",this},updateF:function(){if(!this.__flt)return this;var t="";for(var e in this.__flt)t+=""!==this.__flt[e]?e+"("+this.__flt[e].join(",")+")":"";return""!==t&&(this.el.style[o+"Filter"]=t),this},__flt:null,filter:function(t){return this.__flt=t,this}}),t.Box=t.Sprite.extend({front:null,back:null,left:null,right:null,up:null,down:null,initialize:function(e){t.Box.__super__.initialize.apply(this,[e]),this.front=new t.Plane,this.front.name="front",this.addChild(this.front),this.back=new t.Plane,this.back.name="back",this.addChild(this.back),this.left=new t.Plane,this.left.name="left",this.addChild(this.left),this.right=new t.Plane,this.right.name="right",this.addChild(this.right),this.up=new t.Plane,this.up.name="up",this.addChild(this.up),this.down=new t.Plane,this.down.name="down",this.addChild(this.down)},update:function(){return t.Box.__super__.update.apply(this),this.updateF(),this},updateS:function(){var t=e(this.width),r=e(this.height),a=e(this.depth);return this.__orgF.x=this.width/2,this.__orgF.y=this.height/2,this.__orgF.z=this.depth/2,this.front.size(t,r,0).position(0,0,a/2).rotation(0,0,0).updateS().updateT(),this.back.size(t,r,0).position(0,0,-a/2).rotation(0,180,0).updateS().updateT(),this.left.size(a,r,0).position(-t/2,0,0).rotation(0,-90,0).updateS().updateT(),this.right.size(a,r,0).position(t/2,0,0).rotation(0,90,0).updateS().updateT(),this.up.size(t,a,0).position(0,-r/2,0).rotation(90,0,0).updateS().updateT(),this.down.size(t,a,0).position(0,r/2,0).rotation(-90,0,0).updateS().updateT(),this},updateM:function(){if(!this.__mat)return this;var t=!0;for(var e in this.__mat)switch(e){case"front":case"back":case"left":case"right":case"up":case"down":void 0==this.__mat[e].bothsides&&(this.__mat[e].bothsides=!1),this[e].material(this.__mat[e]).updateM(),t=!1}return t&&(void 0==this.__mat.bothsides&&(this.__mat.bothsides=!1),this.front.material(this.__mat).updateM(),this.back.material(this.__mat).updateM(),this.left.material(this.__mat).updateM(),this.right.material(this.__mat).updateM(),this.up.material(this.__mat).updateM(),this.down.material(this.__mat).updateM()),this},updateF:function(){return this.__flt?(this.front.filter(this.__flt).updateF(),this.back.filter(this.__flt).updateF(),this.left.filter(this.__flt).updateF(),this.right.filter(this.__flt).updateF(),this.up.filter(this.__flt).updateF(),this.down.filter(this.__flt).updateF(),this):this},__flt:null,filter:function(t){return this.__flt=t,this}}),t.Skybox=t.Box.extend({updateS:function(){var t=e(this.width),r=e(this.height),a=e(this.depth);return this.__orgF.x=this.width/2,this.__orgF.y=this.height/2,this.__orgF.z=this.depth/2,this.front.size(t,r,0).position(0,0,-a/2).rotation(0,0,0).updateS().updateT(),this.back.size(t,r,0).position(0,0,a/2).rotation(0,180,0).updateS().updateT(),this.left.size(a,r,0).position(-t/2,0,0).rotation(0,90,0).updateS().updateT(),this.right.size(a,r,0).position(t/2,0,0).rotation(0,-90,0).updateS().updateT(),this.up.size(t,a,0).position(0,-r/2,0).rotation(-90,0,0).updateS().updateT(),this.down.size(t,a,0).position(0,r/2,0).rotation(90,0,0).updateS().updateT(),this}}),t.create=function(t){if("object"==a(t)){return s(t instanceof Array?{type:"sprite",children:t}:t)}throw"create arguments is wrong!"},t})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYW50YS9pbmRleC4xYWY5MzZhLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA0NmUyNmQ0YWI2NjA4MTQ1ZjE3OCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2NyaXB0LWxvYWRlci9hZGRTY3JpcHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3ByZWxvYWRqcy9saWIvcHJlbG9hZGpzLm1pbi5qcz8xMTQzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcmVsb2FkanMvbGliL3ByZWxvYWRqcy5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3plcHRvL2Rpc3QvemVwdG8ubWluLmpzP2VkZjEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3plcHRvL2Rpc3QvemVwdG8ubWluLmpzIiwid2VicGFjazovLy8uL3NyYy9hbnRhL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9hbnRhL2pzL2NzczNkLm1pbi5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwic3JjIiwibG9nIiwiZXJyb3IiLCJjb25zb2xlIiwiZXhlY1NjcmlwdCIsImF0dGFjaEV2ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2YWwiLCJzdGFydCIsIl9jc3MzZCIsImRlZmF1bHQiLCJzdGFnZSIsIlN0YWdlIiwiZWwiLCIkIiwic2l6ZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInVwZGF0ZSIsInNwTWFpbiIsIlNwcml0ZSIsInBvc2l0aW9uIiwiYWRkQ2hpbGQiLCJvYmoiLCJtYW5pZmVzdCIsInF1ZXVlIiwiY3JlYXRlanMiLCJMb2FkUXVldWUiLCJvbiIsInByb2dyZXNzIiwidGhpcyIsImxvYWRNYW5pZmVzdCIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwidCIsInVuZGVmaW5lZCIsIkMzRCIsImFwcGx5IiwiTWF0aCIsInJvdW5kIiwiZSIsInJlcGxhY2UiLCJ0b1VwcGVyQ2FzZSIsInR5cGUiLCJQbGFuZSIsIkJveCIsIlNreWJveCIsInJvdGF0aW9uIiwic2NhbGUiLCJvcmlnaW4iLCJ2aXNpYmlsaXR5IiwibWF0ZXJpYWwiLCJmaWx0ZXIiLCJpZCIsImNoaWxkcmVuIiwiciIsImxlbmd0aCIsImgiLCJhIiwiYXJndW1lbnRzIiwiYXNzaWduIiwiX19zdXBlcl9fIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJnZXRSYW5kb21Db2xvciIsInJhbmRvbSIsInRvU3RyaW5nIiwic2xpY2UiLCJyZ2IyaGV4IiwiaGV4MnJnYiIsImZsb29yIiwiaW5pdGlhbGl6ZSIsIngiLCJ5IiwieiIsIm1vdmUiLCJyb3RhdGlvblgiLCJyb3RhdGlvblkiLCJyb3RhdGlvbloiLCJyb3RhdGUiLCJzY2FsZVgiLCJzY2FsZVkiLCJzY2FsZVoiLCJ3aWR0aCIsImhlaWdodCIsImRlcHRoIiwib3JpZ2luWCIsIm9yaWdpblkiLCJvcmlnaW5aIiwiX19vcmdPIiwiX19vcmdUIiwiX19vcmdGIiwiX19zb3J0Iiwic29ydCIsInBhcmVudCIsInJlbW92ZUNoaWxkIiwiX19uYW1lIiwicHVzaCIsInNwbGljZSIsInJlbW92ZUFsbENoaWxkIiwicmVtb3ZlIiwiZXh0ZW5kIiwiYWxwaGEiLCJ2aXNpYmxlIiwiX19pZCIsIl9fY2xhc3MiLCJpbm5lckhUTUwiLCJub2RlVHlwZSIsImxlIiwiZGF0YXNldCIsImNsYXNzIiwiY2xhc3NOYW1lIiwidXBkYXRlUyIsInVwZGF0ZU0iLCJ1cGRhdGVPIiwidXBkYXRlVCIsInVwZGF0ZVYiLCJfX21hdCIsIm9wYWNpdHkiLCJkaXNwbGF5IiwiYXBwZW5kQ2hpbGQiLCJvZmYiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYnV0dG9uTW9kZSIsImN1cnNvciIsImNhbWVyYSIsImZvdiIsIl9fcmZpeCIsIl9fcGZpeCIsInRvcCIsImxlZnQiLCJvdmVyZmxvdyIsInNldENhbWVyYSIsIkNhbWVyYSIsInRhbiIsIlBJIiwidXBkYXRlRiIsIl9fZmx0Iiwiam9pbiIsImZyb250IiwiYmFjayIsInJpZ2h0IiwidXAiLCJkb3duIiwiYm90aHNpZGVzIiwiY3JlYXRlIiwiQXJyYXkiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FJLEVBQUFKLEVBQ0FLLEdBQUEsRUFDQUgsV0FVQSxPQU5BSixHQUFBRSxHQUFBTSxLQUFBSCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBSCxHQUdBSSxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBdkJBLEdBQUFELEtBNEJBRixHQUFBUSxFQUFBVCxFQUdBQyxFQUFBUyxFQUFBUCxFQUdBRixFQUFBVSxFQUFBLFNBQUFQLEVBQUFRLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFWLEVBQUFRLElBQ0FHLE9BQUFDLGVBQUFaLEVBQUFRLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxTQUFBZixHQUNBLEdBQUFRLEdBQUFSLEtBQUFnQixXQUNBLFdBQTJCLE1BQUFoQixHQUFBLFNBQzNCLFdBQWlDLE1BQUFBLEdBRWpDLE9BREFKLEdBQUFVLEVBQUFFLEVB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LEVBQUUsRUFBRSxHQUFHYSxTQUFTLEdBQUcsR0FBRyxHQUFHa0UsVUFBVUcsVUFBVTFGLEtBQUtxSCxHQUFHckksS0FBS3dCLEVBQUV4QyxFQUFFLEdBQUd1QixTQUFTLEdBQUd1QixFQUFFLEVBQUUsR0FBR08sVUFBVSxHQUFHLEVBQUUsR0FBR2tFLFVBQVVHLFVBQVUxRixLQUFLc0gsS0FBS3RJLEtBQUt3QixFQUFFeEMsRUFBRSxHQUFHdUIsU0FBUyxFQUFFdUIsRUFBRSxFQUFFLEdBQUdPLFNBQVMsR0FBRyxFQUFFLEdBQUdrRSxVQUFVRyxVQUFVMUYsUUFBUVEsRUFBRWdILE9BQU8sU0FBU2hILEdBQUcsR0FBRyxVQUFBTixFQUFpQk0sR0FBRSxDQUF1RCxNQUFPL0MsR0FBdkQrQyxZQUFhaUgsUUFBT3hHLEtBQUssU0FBU1csU0FBU3BCLEdBQUdBLEdBQWMsS0FBSyw4QkFBOEJBIiwiZmlsZSI6ImFudGEvaW5kZXguMWFmOTM2YS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc3JjKSB7XG5cdGZ1bmN0aW9uIGxvZyhlcnJvcikge1xuXHRcdCh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIilcblx0XHQmJiAoY29uc29sZS5lcnJvciB8fCBjb25zb2xlLmxvZykoXCJbU2NyaXB0IExvYWRlcl1cIiwgZXJyb3IpO1xuXHR9XG5cblx0Ly8gQ2hlY2sgZm9yIElFID08IDhcblx0ZnVuY3Rpb24gaXNJRSgpIHtcblx0XHRyZXR1cm4gdHlwZW9mIGF0dGFjaEV2ZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBhZGRFdmVudExpc3RlbmVyID09PSBcInVuZGVmaW5lZFwiO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRpZiAodHlwZW9mIGV4ZWNTY3JpcHQgIT09IFwidW5kZWZpbmVkXCIgJiYgaXNJRSgpKSB7XG5cdFx0XHRleGVjU2NyaXB0KHNyYyk7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgZXZhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0ZXZhbC5jYWxsKG51bGwsIHNyYyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxvZyhcIkV2YWxFcnJvcjogTm8gZXZhbCBmdW5jdGlvbiBhdmFpbGFibGVcIik7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGxvZyhlcnJvcik7XG5cdH1cbn1cblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuX193ZWJwYWNrX3JlcXVpcmVfXygwKShfX3dlYnBhY2tfcmVxdWlyZV9fKDIpKVxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBcIi8qIVxcbiogQGxpY2Vuc2UgUHJlbG9hZEpTXFxuKiBWaXNpdCBodHRwOi8vY3JlYXRlanMuY29tLyBmb3IgZG9jdW1lbnRhdGlvbiwgdXBkYXRlcyBhbmQgZXhhbXBsZXMuXFxuKlxcbiogQ29weXJpZ2h0IChjKSAyMDExLTIwMTUgZ3NraW5uZXIuY29tLCBpbmMuXFxuKlxcbiogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVQgbGljZW5zZS5cXG4qIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UuaHRtbFxcbipcXG4qIFRoaXMgbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxcbiovXFxudGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgYT1jcmVhdGVqcy5QcmVsb2FkSlM9Y3JlYXRlanMuUHJlbG9hZEpTfHx7fTthLnZlcnNpb249XFxcIjEuMC4wXFxcIixhLmJ1aWxkRGF0ZT1cXFwiVGh1LCAxNCBTZXAgMjAxNyAxOTo0Nzo0NyBHTVRcXFwifSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sY3JlYXRlanMuZXh0ZW5kPWZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIGMoKXt0aGlzLmNvbnN0cnVjdG9yPWF9cmV0dXJuIGMucHJvdG90eXBlPWIucHJvdG90eXBlLGEucHJvdG90eXBlPW5ldyBjfSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGNyZWF0ZWpzLnByb21vdGU9ZnVuY3Rpb24oYSxiKXtcXFwidXNlIHN0cmljdFxcXCI7dmFyIGM9YS5wcm90b3R5cGUsZD1PYmplY3QuZ2V0UHJvdG90eXBlT2YmJk9iamVjdC5nZXRQcm90b3R5cGVPZihjKXx8Yy5fX3Byb3RvX187aWYoZCl7Y1soYis9XFxcIl9cXFwiKStcXFwiY29uc3RydWN0b3JcXFwiXT1kLmNvbnN0cnVjdG9yO2Zvcih2YXIgZSBpbiBkKWMuaGFzT3duUHJvcGVydHkoZSkmJlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBkW2VdJiYoY1tiK2VdPWRbZV0pfXJldHVybiBhfSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGNyZWF0ZWpzLmRlcHJlY2F0ZT1mdW5jdGlvbihhLGIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1cXFwiRGVwcmVjYXRlZCBwcm9wZXJ0eSBvciBtZXRob2QgJ1xcXCIrYitcXFwiJy4gU2VlIGRvY3MgZm9yIGluZm8uXFxcIjtyZXR1cm4gY29uc29sZSYmKGNvbnNvbGUud2Fybj9jb25zb2xlLndhcm4oYyk6Y29uc29sZS5sb2coYykpLGEmJmEuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtjcmVhdGVqcy5wcm94eT1mdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKS5jb25jYXQoYykpfX19KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxjcmVhdGVqcy5pbmRleE9mPWZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylpZihiPT09YVtjXSlyZXR1cm4gYztyZXR1cm4tMX0sdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBFdmVudChhLGIsYyl7dGhpcy50eXBlPWEsdGhpcy50YXJnZXQ9bnVsbCx0aGlzLmN1cnJlbnRUYXJnZXQ9bnVsbCx0aGlzLmV2ZW50UGhhc2U9MCx0aGlzLmJ1YmJsZXM9ISFiLHRoaXMuY2FuY2VsYWJsZT0hIWMsdGhpcy50aW1lU3RhbXA9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5kZWZhdWx0UHJldmVudGVkPSExLHRoaXMucHJvcGFnYXRpb25TdG9wcGVkPSExLHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPSExLHRoaXMucmVtb3ZlZD0hMX12YXIgYT1FdmVudC5wcm90b3R5cGU7YS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD10aGlzLmNhbmNlbGFibGUmJiEwfSxhLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMucHJvcGFnYXRpb25TdG9wcGVkPSEwfSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPXRoaXMucHJvcGFnYXRpb25TdG9wcGVkPSEwfSxhLnJlbW92ZT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlZD0hMH0sYS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRXZlbnQodGhpcy50eXBlLHRoaXMuYnViYmxlcyx0aGlzLmNhbmNlbGFibGUpfSxhLnNldD1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSl0aGlzW2JdPWFbYl07cmV0dXJuIHRoaXN9LGEudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cXFwiW0V2ZW50ICh0eXBlPVxcXCIrdGhpcy50eXBlK1xcXCIpXVxcXCJ9LGNyZWF0ZWpzLkV2ZW50PUV2ZW50fSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gRXJyb3JFdmVudChhLGIsYyl7dGhpcy5FdmVudF9jb25zdHJ1Y3RvcihcXFwiZXJyb3JcXFwiKSx0aGlzLnRpdGxlPWEsdGhpcy5tZXNzYWdlPWIsdGhpcy5kYXRhPWN9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKEVycm9yRXZlbnQsY3JlYXRlanMuRXZlbnQpO2EuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQodGhpcy50aXRsZSx0aGlzLm1lc3NhZ2UsdGhpcy5kYXRhKX0sY3JlYXRlanMuRXJyb3JFdmVudD1jcmVhdGVqcy5wcm9tb3RlKEVycm9yRXZlbnQsXFxcIkV2ZW50XFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBFdmVudERpc3BhdGNoZXIoKXt0aGlzLl9saXN0ZW5lcnM9bnVsbCx0aGlzLl9jYXB0dXJlTGlzdGVuZXJzPW51bGx9dmFyIGE9RXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZTtFdmVudERpc3BhdGNoZXIuaW5pdGlhbGl6ZT1mdW5jdGlvbihiKXtiLmFkZEV2ZW50TGlzdGVuZXI9YS5hZGRFdmVudExpc3RlbmVyLGIub249YS5vbixiLnJlbW92ZUV2ZW50TGlzdGVuZXI9Yi5vZmY9YS5yZW1vdmVFdmVudExpc3RlbmVyLGIucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9YS5yZW1vdmVBbGxFdmVudExpc3RlbmVycyxiLmhhc0V2ZW50TGlzdGVuZXI9YS5oYXNFdmVudExpc3RlbmVyLGIuZGlzcGF0Y2hFdmVudD1hLmRpc3BhdGNoRXZlbnQsYi5fZGlzcGF0Y2hFdmVudD1hLl9kaXNwYXRjaEV2ZW50LGIud2lsbFRyaWdnZXI9YS53aWxsVHJpZ2dlcn0sYS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtkPWM/dGhpcy5fY2FwdHVyZUxpc3RlbmVycz10aGlzLl9jYXB0dXJlTGlzdGVuZXJzfHx7fTp0aGlzLl9saXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzfHx7fTt2YXIgZT1kW2FdO3JldHVybiBlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxiLGMpLGU9ZFthXSxlP2UucHVzaChiKTpkW2FdPVtiXSxifSxhLm9uPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtyZXR1cm4gYi5oYW5kbGVFdmVudCYmKGM9Y3x8YixiPWIuaGFuZGxlRXZlbnQpLGM9Y3x8dGhpcyx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoYSxmdW5jdGlvbihhKXtiLmNhbGwoYyxhLGUpLGQmJmEucmVtb3ZlKCl9LGYpfSxhLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWM/dGhpcy5fY2FwdHVyZUxpc3RlbmVyczp0aGlzLl9saXN0ZW5lcnM7aWYoZCl7dmFyIGU9ZFthXTtpZihlKWZvcih2YXIgZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihlW2ZdPT1iKXsxPT1nP2RlbGV0ZSBkW2FdOmUuc3BsaWNlKGYsMSk7YnJlYWt9fX0sYS5vZmY9YS5yZW1vdmVFdmVudExpc3RlbmVyLGEucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24oYSl7YT8odGhpcy5fbGlzdGVuZXJzJiZkZWxldGUgdGhpcy5fbGlzdGVuZXJzW2FdLHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnMmJmRlbGV0ZSB0aGlzLl9jYXB0dXJlTGlzdGVuZXJzW2FdKTp0aGlzLl9saXN0ZW5lcnM9dGhpcy5fY2FwdHVyZUxpc3RlbmVycz1udWxsfSxhLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2lmKFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYSl7dmFyIGQ9dGhpcy5fbGlzdGVuZXJzO2lmKCEoYnx8ZCYmZFthXSkpcmV0dXJuITA7YT1uZXcgY3JlYXRlanMuRXZlbnQoYSxiLGMpfWVsc2UgYS50YXJnZXQmJmEuY2xvbmUmJihhPWEuY2xvbmUoKSk7dHJ5e2EudGFyZ2V0PXRoaXN9Y2F0Y2goZSl7fWlmKGEuYnViYmxlcyYmdGhpcy5wYXJlbnQpe2Zvcih2YXIgZj10aGlzLGc9W2ZdO2YucGFyZW50OylnLnB1c2goZj1mLnBhcmVudCk7dmFyIGgsaT1nLmxlbmd0aDtmb3IoaD1pLTE7aD49MCYmIWEucHJvcGFnYXRpb25TdG9wcGVkO2gtLSlnW2hdLl9kaXNwYXRjaEV2ZW50KGEsMSsoMD09aCkpO2ZvcihoPTE7aT5oJiYhYS5wcm9wYWdhdGlvblN0b3BwZWQ7aCsrKWdbaF0uX2Rpc3BhdGNoRXZlbnQoYSwzKX1lbHNlIHRoaXMuX2Rpc3BhdGNoRXZlbnQoYSwyKTtyZXR1cm4hYS5kZWZhdWx0UHJldmVudGVkfSxhLmhhc0V2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fbGlzdGVuZXJzLGM9dGhpcy5fY2FwdHVyZUxpc3RlbmVycztyZXR1cm4hIShiJiZiW2FdfHxjJiZjW2FdKX0sYS53aWxsVHJpZ2dlcj1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcztiOyl7aWYoYi5oYXNFdmVudExpc3RlbmVyKGEpKXJldHVybiEwO2I9Yi5wYXJlbnR9cmV0dXJuITF9LGEudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cXFwiW0V2ZW50RGlzcGF0Y2hlcl1cXFwifSxhLl9kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPTI+PWI/dGhpcy5fY2FwdHVyZUxpc3RlbmVyczp0aGlzLl9saXN0ZW5lcnM7aWYoYSYmZSYmKGQ9ZVthLnR5cGVdKSYmKGM9ZC5sZW5ndGgpKXt0cnl7YS5jdXJyZW50VGFyZ2V0PXRoaXN9Y2F0Y2goZil7fXRyeXthLmV2ZW50UGhhc2U9MHxifWNhdGNoKGYpe31hLnJlbW92ZWQ9ITEsZD1kLnNsaWNlKCk7Zm9yKHZhciBnPTA7Yz5nJiYhYS5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ7ZysrKXt2YXIgaD1kW2ddO2guaGFuZGxlRXZlbnQ/aC5oYW5kbGVFdmVudChhKTpoKGEpLGEucmVtb3ZlZCYmKHRoaXMub2ZmKGEudHlwZSxoLDE9PWIpLGEucmVtb3ZlZD0hMSl9fTI9PT1iJiZ0aGlzLl9kaXNwYXRjaEV2ZW50KGEsMi4xKX0sY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyPUV2ZW50RGlzcGF0Y2hlcn0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIFByb2dyZXNzRXZlbnQoYSxiKXt0aGlzLkV2ZW50X2NvbnN0cnVjdG9yKFxcXCJwcm9ncmVzc1xcXCIpLHRoaXMubG9hZGVkPWEsdGhpcy50b3RhbD1udWxsPT1iPzE6Yix0aGlzLnByb2dyZXNzPTA9PWI/MDp0aGlzLmxvYWRlZC90aGlzLnRvdGFsfXZhciBhPWNyZWF0ZWpzLmV4dGVuZChQcm9ncmVzc0V2ZW50LGNyZWF0ZWpzLkV2ZW50KTthLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjcmVhdGVqcy5Qcm9ncmVzc0V2ZW50KHRoaXMubG9hZGVkLHRoaXMudG90YWwpfSxjcmVhdGVqcy5Qcm9ncmVzc0V2ZW50PWNyZWF0ZWpzLnByb21vdGUoUHJvZ3Jlc3NFdmVudCxcXFwiRXZlbnRcXFwiKX0od2luZG93KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixkKXtmdW5jdGlvbiBmKGEpe2lmKGZbYV0hPT1xKXJldHVybiBmW2FdO3ZhciBiO2lmKFxcXCJidWctc3RyaW5nLWNoYXItaW5kZXhcXFwiPT1hKWI9XFxcImFcXFwiIT1cXFwiYVxcXCJbMF07ZWxzZSBpZihcXFwianNvblxcXCI9PWEpYj1mKFxcXCJqc29uLXN0cmluZ2lmeVxcXCIpJiZmKFxcXCJqc29uLXBhcnNlXFxcIik7ZWxzZXt2YXIgYyxlPSd7XFxcImFcXFwiOlsxLHRydWUsZmFsc2UsbnVsbCxcXFwiXFxcXFxcXFx1MDAwMFxcXFxcXFxcYlxcXFxcXFxcblxcXFxcXFxcZlxcXFxcXFxcclxcXFxcXFxcdFxcXCJdfSc7aWYoXFxcImpzb24tc3RyaW5naWZ5XFxcIj09YSl7dmFyIGk9ZC5zdHJpbmdpZnksaz1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgaSYmdDtpZihrKXsoYz1mdW5jdGlvbigpe3JldHVybiAxfSkudG9KU09OPWM7dHJ5e2s9XFxcIjBcXFwiPT09aSgwKSYmXFxcIjBcXFwiPT09aShuZXcgZykmJidcXFwiXFxcIic9PWkobmV3IGgpJiZpKHMpPT09cSYmaShxKT09PXEmJmkoKT09PXEmJlxcXCIxXFxcIj09PWkoYykmJlxcXCJbMV1cXFwiPT1pKFtjXSkmJlxcXCJbbnVsbF1cXFwiPT1pKFtxXSkmJlxcXCJudWxsXFxcIj09aShudWxsKSYmXFxcIltudWxsLG51bGwsbnVsbF1cXFwiPT1pKFtxLHMsbnVsbF0pJiZpKHthOltjLCEwLCExLG51bGwsXFxcIlxcXFx4MDBcXFxcYlxcXFxuXFxcXGZcXFxcclxcdFxcXCJdfSk9PWUmJlxcXCIxXFxcIj09PWkobnVsbCxjKSYmXFxcIltcXFxcbiAxLFxcXFxuIDJcXFxcbl1cXFwiPT1pKFsxLDJdLG51bGwsMSkmJidcXFwiLTI3MTgyMS0wNC0yMFQwMDowMDowMC4wMDBaXFxcIic9PWkobmV3IGooLTg2NGUxMykpJiYnXFxcIisyNzU3NjAtMDktMTNUMDA6MDA6MDAuMDAwWlxcXCInPT1pKG5ldyBqKDg2NGUxMykpJiYnXFxcIi0wMDAwMDEtMDEtMDFUMDA6MDA6MDAuMDAwWlxcXCInPT1pKG5ldyBqKC02MjE5ODc1NTJlNSkpJiYnXFxcIjE5NjktMTItMzFUMjM6NTk6NTkuOTk5WlxcXCInPT1pKG5ldyBqKC0xKSl9Y2F0Y2gobCl7az0hMX19Yj1rfWlmKFxcXCJqc29uLXBhcnNlXFxcIj09YSl7dmFyIG09ZC5wYXJzZTtpZihcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgbSl0cnl7aWYoMD09PW0oXFxcIjBcXFwiKSYmIW0oITEpKXtjPW0oZSk7dmFyIG49NT09Yy5hLmxlbmd0aCYmMT09PWMuYVswXTtpZihuKXt0cnl7bj0hbSgnXFxcIlxcdFxcXCInKX1jYXRjaChsKXt9aWYobil0cnl7bj0xIT09bShcXFwiMDFcXFwiKX1jYXRjaChsKXt9aWYobil0cnl7bj0xIT09bShcXFwiMS5cXFwiKX1jYXRjaChsKXt9fX19Y2F0Y2gobCl7bj0hMX1iPW59fXJldHVybiBmW2FdPSEhYn1ifHwoYj1lLk9iamVjdCgpKSxkfHwoZD1lLk9iamVjdCgpKTt2YXIgZz1iLk51bWJlcnx8ZS5OdW1iZXIsaD1iLlN0cmluZ3x8ZS5TdHJpbmcsaT1iLk9iamVjdHx8ZS5PYmplY3Qsaj1iLkRhdGV8fGUuRGF0ZSxrPWIuU3ludGF4RXJyb3J8fGUuU3ludGF4RXJyb3IsbD1iLlR5cGVFcnJvcnx8ZS5UeXBlRXJyb3IsbT1iLk1hdGh8fGUuTWF0aCxuPWIuSlNPTnx8ZS5KU09OO1xcXCJvYmplY3RcXFwiPT10eXBlb2YgbiYmbiYmKGQuc3RyaW5naWZ5PW4uc3RyaW5naWZ5LGQucGFyc2U9bi5wYXJzZSk7dmFyIG8scCxxLHI9aS5wcm90b3R5cGUscz1yLnRvU3RyaW5nLHQ9bmV3IGooLTB4Yzc4MmI1YjgwMGNlYyk7dHJ5e3Q9LTEwOTI1Mj09dC5nZXRVVENGdWxsWWVhcigpJiYwPT09dC5nZXRVVENNb250aCgpJiYxPT09dC5nZXRVVENEYXRlKCkmJjEwPT10LmdldFVUQ0hvdXJzKCkmJjM3PT10LmdldFVUQ01pbnV0ZXMoKSYmNj09dC5nZXRVVENTZWNvbmRzKCkmJjcwOD09dC5nZXRVVENNaWxsaXNlY29uZHMoKX1jYXRjaCh1KXt9aWYoIWYoXFxcImpzb25cXFwiKSl7dmFyIHY9XFxcIltvYmplY3QgRnVuY3Rpb25dXFxcIix3PVxcXCJbb2JqZWN0IERhdGVdXFxcIix4PVxcXCJbb2JqZWN0IE51bWJlcl1cXFwiLHk9XFxcIltvYmplY3QgU3RyaW5nXVxcXCIsej1cXFwiW29iamVjdCBBcnJheV1cXFwiLEE9XFxcIltvYmplY3QgQm9vbGVhbl1cXFwiLEI9ZihcXFwiYnVnLXN0cmluZy1jaGFyLWluZGV4XFxcIik7aWYoIXQpdmFyIEM9bS5mbG9vcixEPVswLDMxLDU5LDkwLDEyMCwxNTEsMTgxLDIxMiwyNDMsMjczLDMwNCwzMzRdLEU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRFtiXSszNjUqKGEtMTk3MCkrQygoYS0xOTY5KyhiPSsoYj4xKSkpLzQpLUMoKGEtMTkwMStiKS8xMDApK0MoKGEtMTYwMStiKS80MDApfTtpZigobz1yLmhhc093blByb3BlcnR5KXx8KG89ZnVuY3Rpb24oYSl7dmFyIGIsYz17fTtyZXR1cm4oYy5fX3Byb3RvX189bnVsbCxjLl9fcHJvdG9fXz17dG9TdHJpbmc6MX0sYykudG9TdHJpbmchPXM/bz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl9fcHJvdG9fXyxjPWEgaW4odGhpcy5fX3Byb3RvX189bnVsbCx0aGlzKTtyZXR1cm4gdGhpcy5fX3Byb3RvX189YixjfTooYj1jLmNvbnN0cnVjdG9yLG89ZnVuY3Rpb24oYSl7dmFyIGM9KHRoaXMuY29uc3RydWN0b3J8fGIpLnByb3RvdHlwZTtyZXR1cm4gYSBpbiB0aGlzJiYhKGEgaW4gYyYmdGhpc1thXT09PWNbYV0pfSksYz1udWxsLG8uY2FsbCh0aGlzLGEpfSkscD1mdW5jdGlvbihhLGIpe3ZhciBkLGUsZixnPTA7KGQ9ZnVuY3Rpb24oKXt0aGlzLnZhbHVlT2Y9MH0pLnByb3RvdHlwZS52YWx1ZU9mPTAsZT1uZXcgZDtmb3IoZiBpbiBlKW8uY2FsbChlLGYpJiZnKys7cmV0dXJuIGQ9ZT1udWxsLGc/cD0yPT1nP2Z1bmN0aW9uKGEsYil7dmFyIGMsZD17fSxlPXMuY2FsbChhKT09djtmb3IoYyBpbiBhKWUmJlxcXCJwcm90b3R5cGVcXFwiPT1jfHxvLmNhbGwoZCxjKXx8IShkW2NdPTEpfHwhby5jYWxsKGEsYyl8fGIoYyl9OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPXMuY2FsbChhKT09djtmb3IoYyBpbiBhKWUmJlxcXCJwcm90b3R5cGVcXFwiPT1jfHwhby5jYWxsKGEsYyl8fChkPVxcXCJjb25zdHJ1Y3RvclxcXCI9PT1jKXx8YihjKTsoZHx8by5jYWxsKGEsYz1cXFwiY29uc3RydWN0b3JcXFwiKSkmJmIoYyl9OihlPVtcXFwidmFsdWVPZlxcXCIsXFxcInRvU3RyaW5nXFxcIixcXFwidG9Mb2NhbGVTdHJpbmdcXFwiLFxcXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVxcXCIsXFxcImlzUHJvdG90eXBlT2ZcXFwiLFxcXCJoYXNPd25Qcm9wZXJ0eVxcXCIsXFxcImNvbnN0cnVjdG9yXFxcIl0scD1mdW5jdGlvbihhLGIpe3ZhciBkLGYsZz1zLmNhbGwoYSk9PXYsaD0hZyYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGEuY29uc3RydWN0b3ImJmNbdHlwZW9mIGEuaGFzT3duUHJvcGVydHldJiZhLmhhc093blByb3BlcnR5fHxvO2ZvcihkIGluIGEpZyYmXFxcInByb3RvdHlwZVxcXCI9PWR8fCFoLmNhbGwoYSxkKXx8YihkKTtmb3IoZj1lLmxlbmd0aDtkPWVbLS1mXTtoLmNhbGwoYSxkKSYmYihkKSk7fSkscChhLGIpfSwhZihcXFwianNvbi1zdHJpbmdpZnlcXFwiKSl7dmFyIEY9ezkyOlxcXCJcXFxcXFxcXFxcXFxcXFxcXFxcIiwzNDonXFxcXFxcXFxcXFwiJyw4OlxcXCJcXFxcXFxcXGJcXFwiLDEyOlxcXCJcXFxcXFxcXGZcXFwiLDEwOlxcXCJcXFxcXFxcXG5cXFwiLDEzOlxcXCJcXFxcXFxcXHJcXFwiLDk6XFxcIlxcXFxcXFxcdFxcXCJ9LEc9XFxcIjAwMDAwMFxcXCIsSD1mdW5jdGlvbihhLGIpe3JldHVybihHKyhifHwwKSkuc2xpY2UoLWEpfSxJPVxcXCJcXFxcXFxcXHUwMFxcXCIsSj1mdW5jdGlvbihhKXtmb3IodmFyIGI9J1xcXCInLGM9MCxkPWEubGVuZ3RoLGU9IUJ8fGQ+MTAsZj1lJiYoQj9hLnNwbGl0KFxcXCJcXFwiKTphKTtkPmM7YysrKXt2YXIgZz1hLmNoYXJDb2RlQXQoYyk7c3dpdGNoKGcpe2Nhc2UgODpjYXNlIDk6Y2FzZSAxMDpjYXNlIDEyOmNhc2UgMTM6Y2FzZSAzNDpjYXNlIDkyOmIrPUZbZ107YnJlYWs7ZGVmYXVsdDppZigzMj5nKXtiKz1JK0goMixnLnRvU3RyaW5nKDE2KSk7YnJlYWt9Yis9ZT9mW2NdOmEuY2hhckF0KGMpfX1yZXR1cm4gYisnXFxcIid9LEs9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGgsaSxqLGssbSxuLHIsdCx1LHYsQixELEYsRyxJLEw7dHJ5e2g9YlthXX1jYXRjaChNKXt9aWYoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBoJiZoKWlmKGk9cy5jYWxsKGgpLGkhPXd8fG8uY2FsbChoLFxcXCJ0b0pTT05cXFwiKSlcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgaC50b0pTT04mJihpIT14JiZpIT15JiZpIT16fHxvLmNhbGwoaCxcXFwidG9KU09OXFxcIikpJiYoaD1oLnRvSlNPTihhKSk7ZWxzZSBpZihoPi0xLzAmJjEvMD5oKXtpZihFKXtmb3IobT1DKGgvODY0ZTUpLGo9QyhtLzM2NS4yNDI1KSsxOTcwLTE7RShqKzEsMCk8PW07aisrKTtmb3Ioaz1DKChtLUUoaiwwKSkvMzAuNDIpO0UoaixrKzEpPD1tO2srKyk7bT0xK20tRShqLGspLG49KGglODY0ZTUrODY0ZTUpJTg2NGU1LHI9QyhuLzM2ZTUpJTI0LHQ9QyhuLzZlNCklNjAsdT1DKG4vMWUzKSU2MCx2PW4lMWUzfWVsc2Ugaj1oLmdldFVUQ0Z1bGxZZWFyKCksaz1oLmdldFVUQ01vbnRoKCksbT1oLmdldFVUQ0RhdGUoKSxyPWguZ2V0VVRDSG91cnMoKSx0PWguZ2V0VVRDTWludXRlcygpLHU9aC5nZXRVVENTZWNvbmRzKCksdj1oLmdldFVUQ01pbGxpc2Vjb25kcygpO2g9KDA+PWp8fGo+PTFlND8oMD5qP1xcXCItXFxcIjpcXFwiK1xcXCIpK0goNiwwPmo/LWo6aik6SCg0LGopKStcXFwiLVxcXCIrSCgyLGsrMSkrXFxcIi1cXFwiK0goMixtKStcXFwiVFxcXCIrSCgyLHIpK1xcXCI6XFxcIitIKDIsdCkrXFxcIjpcXFwiK0goMix1KStcXFwiLlxcXCIrSCgzLHYpK1xcXCJaXFxcIn1lbHNlIGg9bnVsbDtpZihjJiYoaD1jLmNhbGwoYixhLGgpKSxudWxsPT09aClyZXR1cm5cXFwibnVsbFxcXCI7aWYoaT1zLmNhbGwoaCksaT09QSlyZXR1cm5cXFwiXFxcIitoO2lmKGk9PXgpcmV0dXJuIGg+LTEvMCYmMS8wPmg/XFxcIlxcXCIraDpcXFwibnVsbFxcXCI7aWYoaT09eSlyZXR1cm4gSihcXFwiXFxcIitoKTtpZihcXFwib2JqZWN0XFxcIj09dHlwZW9mIGgpe2ZvcihHPWcubGVuZ3RoO0ctLTspaWYoZ1tHXT09PWgpdGhyb3cgbCgpO2lmKGcucHVzaChoKSxCPVtdLEk9ZixmKz1lLGk9PXope2ZvcihGPTAsRz1oLmxlbmd0aDtHPkY7RisrKUQ9SyhGLGgsYyxkLGUsZixnKSxCLnB1c2goRD09PXE/XFxcIm51bGxcXFwiOkQpO0w9Qi5sZW5ndGg/ZT9cXFwiW1xcXFxuXFxcIitmK0Iuam9pbihcXFwiLFxcXFxuXFxcIitmKStcXFwiXFxcXG5cXFwiK0krXFxcIl1cXFwiOlxcXCJbXFxcIitCLmpvaW4oXFxcIixcXFwiKStcXFwiXVxcXCI6XFxcIltdXFxcIn1lbHNlIHAoZHx8aCxmdW5jdGlvbihhKXt2YXIgYj1LKGEsaCxjLGQsZSxmLGcpO2IhPT1xJiZCLnB1c2goSihhKStcXFwiOlxcXCIrKGU/XFxcIiBcXFwiOlxcXCJcXFwiKStiKX0pLEw9Qi5sZW5ndGg/ZT9cXFwie1xcXFxuXFxcIitmK0Iuam9pbihcXFwiLFxcXFxuXFxcIitmKStcXFwiXFxcXG5cXFwiK0krXFxcIn1cXFwiOlxcXCJ7XFxcIitCLmpvaW4oXFxcIixcXFwiKStcXFwifVxcXCI6XFxcInt9XFxcIjtyZXR1cm4gZy5wb3AoKSxMfX07ZC5zdHJpbmdpZnk9ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGYsZyxoO2lmKGNbdHlwZW9mIGJdJiZiKWlmKChoPXMuY2FsbChiKSk9PXYpZj1iO2Vsc2UgaWYoaD09eil7Zz17fTtmb3IodmFyIGksaj0wLGs9Yi5sZW5ndGg7az5qO2k9YltqKytdLGg9cy5jYWxsKGkpLChoPT15fHxoPT14KSYmKGdbaV09MSkpO31pZihkKWlmKChoPXMuY2FsbChkKSk9PXgpe2lmKChkLT1kJTEpPjApZm9yKGU9XFxcIlxcXCIsZD4xMCYmKGQ9MTApO2UubGVuZ3RoPGQ7ZSs9XFxcIiBcXFwiKTt9ZWxzZSBoPT15JiYoZT1kLmxlbmd0aDw9MTA/ZDpkLnNsaWNlKDAsMTApKTtyZXR1cm4gSyhcXFwiXFxcIiwoaT17fSxpW1xcXCJcXFwiXT1hLGkpLGYsZyxlLFxcXCJcXFwiLFtdKX19aWYoIWYoXFxcImpzb24tcGFyc2VcXFwiKSl7dmFyIEwsTSxOPWguZnJvbUNoYXJDb2RlLE89ezkyOlxcXCJcXFxcXFxcXFxcXCIsMzQ6J1xcXCInLDQ3OlxcXCIvXFxcIiw5ODpcXFwiXFxcXGJcXFwiLDExNjpcXFwiXFx0XFxcIiwxMTA6XFxcIlxcXFxuXFxcIiwxMDI6XFxcIlxcXFxmXFxcIiwxMTQ6XFxcIlxcXFxyXFxcIn0sUD1mdW5jdGlvbigpe3Rocm93IEw9TT1udWxsLGsoKX0sUT1mdW5jdGlvbigpe2Zvcih2YXIgYSxiLGMsZCxlLGY9TSxnPWYubGVuZ3RoO2c+TDspc3dpdGNoKGU9Zi5jaGFyQ29kZUF0KEwpKXtjYXNlIDk6Y2FzZSAxMDpjYXNlIDEzOmNhc2UgMzI6TCsrO2JyZWFrO2Nhc2UgMTIzOmNhc2UgMTI1OmNhc2UgOTE6Y2FzZSA5MzpjYXNlIDU4OmNhc2UgNDQ6cmV0dXJuIGE9Qj9mLmNoYXJBdChMKTpmW0xdLEwrKyxhO2Nhc2UgMzQ6Zm9yKGE9XFxcIkBcXFwiLEwrKztnPkw7KWlmKGU9Zi5jaGFyQ29kZUF0KEwpLDMyPmUpUCgpO2Vsc2UgaWYoOTI9PWUpc3dpdGNoKGU9Zi5jaGFyQ29kZUF0KCsrTCkpe2Nhc2UgOTI6Y2FzZSAzNDpjYXNlIDQ3OmNhc2UgOTg6Y2FzZSAxMTY6Y2FzZSAxMTA6Y2FzZSAxMDI6Y2FzZSAxMTQ6YSs9T1tlXSxMKys7YnJlYWs7Y2FzZSAxMTc6Zm9yKGI9KytMLGM9TCs0O2M+TDtMKyspZT1mLmNoYXJDb2RlQXQoTCksZT49NDgmJjU3Pj1lfHxlPj05NyYmMTAyPj1lfHxlPj02NSYmNzA+PWV8fFAoKTthKz1OKFxcXCIweFxcXCIrZi5zbGljZShiLEwpKTticmVhaztkZWZhdWx0OlAoKX1lbHNle2lmKDM0PT1lKWJyZWFrO2ZvcihlPWYuY2hhckNvZGVBdChMKSxiPUw7ZT49MzImJjkyIT1lJiYzNCE9ZTspZT1mLmNoYXJDb2RlQXQoKytMKTthKz1mLnNsaWNlKGIsTCl9aWYoMzQ9PWYuY2hhckNvZGVBdChMKSlyZXR1cm4gTCsrLGE7UCgpO2RlZmF1bHQ6aWYoYj1MLDQ1PT1lJiYoZD0hMCxlPWYuY2hhckNvZGVBdCgrK0wpKSxlPj00OCYmNTc+PWUpe2Zvcig0OD09ZSYmKGU9Zi5jaGFyQ29kZUF0KEwrMSksZT49NDgmJjU3Pj1lKSYmUCgpLGQ9ITE7Zz5MJiYoZT1mLmNoYXJDb2RlQXQoTCksZT49NDgmJjU3Pj1lKTtMKyspO2lmKDQ2PT1mLmNoYXJDb2RlQXQoTCkpe2ZvcihjPSsrTDtnPmMmJihlPWYuY2hhckNvZGVBdChjKSxlPj00OCYmNTc+PWUpO2MrKyk7Yz09TCYmUCgpLEw9Y31pZihlPWYuY2hhckNvZGVBdChMKSwxMDE9PWV8fDY5PT1lKXtmb3IoZT1mLmNoYXJDb2RlQXQoKytMKSwoNDM9PWV8fDQ1PT1lKSYmTCsrLGM9TDtnPmMmJihlPWYuY2hhckNvZGVBdChjKSxlPj00OCYmNTc+PWUpO2MrKyk7Yz09TCYmUCgpLEw9Y31yZXR1cm4rZi5zbGljZShiLEwpfWlmKGQmJlAoKSxcXFwidHJ1ZVxcXCI9PWYuc2xpY2UoTCxMKzQpKXJldHVybiBMKz00LCEwO2lmKFxcXCJmYWxzZVxcXCI9PWYuc2xpY2UoTCxMKzUpKXJldHVybiBMKz01LCExO2lmKFxcXCJudWxsXFxcIj09Zi5zbGljZShMLEwrNCkpcmV0dXJuIEwrPTQsbnVsbDtQKCl9cmV0dXJuXFxcIiRcXFwifSxSPWZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoXFxcIiRcXFwiPT1hJiZQKCksXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBhKXtpZihcXFwiQFxcXCI9PShCP2EuY2hhckF0KDApOmFbMF0pKXJldHVybiBhLnNsaWNlKDEpO2lmKFxcXCJbXFxcIj09YSl7Zm9yKGI9W107YT1RKCksXFxcIl1cXFwiIT1hO2N8fChjPSEwKSljJiYoXFxcIixcXFwiPT1hPyhhPVEoKSxcXFwiXVxcXCI9PWEmJlAoKSk6UCgpKSxcXFwiLFxcXCI9PWEmJlAoKSxiLnB1c2goUihhKSk7cmV0dXJuIGJ9aWYoXFxcIntcXFwiPT1hKXtmb3IoYj17fTthPVEoKSxcXFwifVxcXCIhPWE7Y3x8KGM9ITApKWMmJihcXFwiLFxcXCI9PWE/KGE9USgpLFxcXCJ9XFxcIj09YSYmUCgpKTpQKCkpLChcXFwiLFxcXCI9PWF8fFxcXCJzdHJpbmdcXFwiIT10eXBlb2YgYXx8XFxcIkBcXFwiIT0oQj9hLmNoYXJBdCgwKTphWzBdKXx8XFxcIjpcXFwiIT1RKCkpJiZQKCksYlthLnNsaWNlKDEpXT1SKFEoKSk7cmV0dXJuIGJ9UCgpfXJldHVybiBhfSxTPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1UKGEsYixjKTtkPT09cT9kZWxldGUgYVtiXTphW2JdPWR9LFQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9YVtiXTtpZihcXFwib2JqZWN0XFxcIj09dHlwZW9mIGUmJmUpaWYocy5jYWxsKGUpPT16KWZvcihkPWUubGVuZ3RoO2QtLTspUyhlLGQsYyk7ZWxzZSBwKGUsZnVuY3Rpb24oYSl7UyhlLGEsYyl9KTtyZXR1cm4gYy5jYWxsKGEsYixlKX07ZC5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7cmV0dXJuIEw9MCxNPVxcXCJcXFwiK2EsYz1SKFEoKSksXFxcIiRcXFwiIT1RKCkmJlAoKSxMPU09bnVsbCxiJiZzLmNhbGwoYik9PXY/VCgoZD17fSxkW1xcXCJcXFwiXT1jLGQpLFxcXCJcXFwiLGIpOmN9fX1yZXR1cm4gZC5ydW5JbkNvbnRleHQ9YSxkfXZhciBiPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQsYz17XFxcImZ1bmN0aW9uXFxcIjohMCxvYmplY3Q6ITB9LGQ9Y1t0eXBlb2YgZXhwb3J0c10mJmV4cG9ydHMmJiFleHBvcnRzLm5vZGVUeXBlJiZleHBvcnRzLGU9Y1t0eXBlb2Ygd2luZG93XSYmd2luZG93fHx0aGlzLGY9ZCYmY1t0eXBlb2YgbW9kdWxlXSYmbW9kdWxlJiYhbW9kdWxlLm5vZGVUeXBlJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIGdsb2JhbCYmZ2xvYmFsO2lmKCFmfHxmLmdsb2JhbCE9PWYmJmYud2luZG93IT09ZiYmZi5zZWxmIT09Znx8KGU9ZiksZCYmIWIpYShlLGQpO2Vsc2V7dmFyIGc9ZS5KU09OLGg9ZS5KU09OMyxpPSExLGo9YShlLGUuSlNPTjM9e25vQ29uZmxpY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gaXx8KGk9ITAsZS5KU09OPWcsZS5KU09OMz1oLGc9aD1udWxsKSxqfX0pO2UuSlNPTj17cGFyc2U6ai5wYXJzZSxzdHJpbmdpZnk6ai5zdHJpbmdpZnl9fWImJmRlZmluZShmdW5jdGlvbigpe3JldHVybiBqfSl9LmNhbGwodGhpcyksZnVuY3Rpb24oKXt2YXIgYT17fTthLmE9ZnVuY3Rpb24oKXtyZXR1cm4gYS5lbChcXFwiYVxcXCIpfSxhLnN2Zz1mdW5jdGlvbigpe3JldHVybiBhLmVsKFxcXCJzdmdcXFwiKX0sYS5vYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5lbChcXFwib2JqZWN0XFxcIil9LGEuaW1hZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gYS5lbChcXFwiaW1hZ2VcXFwiKX0sYS5pbWc9ZnVuY3Rpb24oKXtyZXR1cm4gYS5lbChcXFwiaW1nXFxcIil9LGEuc3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5lbChcXFwic3R5bGVcXFwiKX0sYS5saW5rPWZ1bmN0aW9uKCl7cmV0dXJuIGEuZWwoXFxcImxpbmtcXFwiKX0sYS5zY3JpcHQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5lbChcXFwic2NyaXB0XFxcIil9LGEuYXVkaW89ZnVuY3Rpb24oKXtyZXR1cm4gYS5lbChcXFwiYXVkaW9cXFwiKX0sYS52aWRlbz1mdW5jdGlvbigpe3JldHVybiBhLmVsKFxcXCJ2aWRlb1xcXCIpfSxhLnRleHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpfSxhLmVsPWZ1bmN0aW9uKGEpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpfSxjcmVhdGVqcy5FbGVtZW50cz1hfSgpLGZ1bmN0aW9uKCl7dmFyIGE9e307YS5BQlNPTFVURV9QQVRUPS9eKD86XFxcXHcrOik/XFxcXC97Mn0vaSxhLlJFTEFUSVZFX1BBVFQ9L15bLlxcXFwvXSo/XFxcXC8vaSxhLkVYVEVOU0lPTl9QQVRUPS9cXFxcLz9bXlxcXFwvXStcXFxcLihcXFxcd3sxLDV9KSQvaSxhLnBhcnNlVVJJPWZ1bmN0aW9uKGIpe3ZhciBjPXthYnNvbHV0ZTohMSxyZWxhdGl2ZTohMSxwcm90b2NvbDpudWxsLGhvc3RuYW1lOm51bGwscG9ydDpudWxsLHBhdGhuYW1lOm51bGwsc2VhcmNoOm51bGwsaGFzaDpudWxsLGhvc3Q6bnVsbH07aWYobnVsbD09YilyZXR1cm4gYzt2YXIgZD1jcmVhdGVqcy5FbGVtZW50cy5hKCk7ZC5ocmVmPWI7Zm9yKHZhciBlIGluIGMpZSBpbiBkJiYoY1tlXT1kW2VdKTt2YXIgZj1iLmluZGV4T2YoXFxcIj9cXFwiKTtmPi0xJiYoYj1iLnN1YnN0cigwLGYpKTt2YXIgZztyZXR1cm4gYS5BQlNPTFVURV9QQVRULnRlc3QoYik/Yy5hYnNvbHV0ZT0hMDphLlJFTEFUSVZFX1BBVFQudGVzdChiKSYmKGMucmVsYXRpdmU9ITApLChnPWIubWF0Y2goYS5FWFRFTlNJT05fUEFUVCkpJiYoYy5leHRlbnNpb249Z1sxXS50b0xvd2VyQ2FzZSgpKSxjfSxhLmZvcm1hdFF1ZXJ5U3RyaW5nPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YSl0aHJvdyBuZXcgRXJyb3IoXFxcIllvdSBtdXN0IHNwZWNpZnkgZGF0YS5cXFwiKTt2YXIgYz1bXTtmb3IodmFyIGQgaW4gYSljLnB1c2goZCtcXFwiPVxcXCIrZXNjYXBlKGFbZF0pKTtyZXR1cm4gYiYmKGM9Yy5jb25jYXQoYikpLGMuam9pbihcXFwiJlxcXCIpfSxhLmJ1aWxkVVJJPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YilyZXR1cm4gYTt2YXIgYz1bXSxkPWEuaW5kZXhPZihcXFwiP1xcXCIpO2lmKC0xIT1kKXt2YXIgZT1hLnNsaWNlKGQrMSk7Yz1jLmNvbmNhdChlLnNwbGl0KFxcXCImXFxcIikpfXJldHVybi0xIT1kP2Euc2xpY2UoMCxkKStcXFwiP1xcXCIrdGhpcy5mb3JtYXRRdWVyeVN0cmluZyhiLGMpOmErXFxcIj9cXFwiK3RoaXMuZm9ybWF0UXVlcnlTdHJpbmcoYixjKX0sYS5pc0Nyb3NzRG9tYWluPWZ1bmN0aW9uKGEpe3ZhciBiPWNyZWF0ZWpzLkVsZW1lbnRzLmEoKTtiLmhyZWY9YS5zcmM7dmFyIGM9Y3JlYXRlanMuRWxlbWVudHMuYSgpO2MuaHJlZj1sb2NhdGlvbi5ocmVmO3ZhciBkPVxcXCJcXFwiIT1iLmhvc3RuYW1lJiYoYi5wb3J0IT1jLnBvcnR8fGIucHJvdG9jb2whPWMucHJvdG9jb2x8fGIuaG9zdG5hbWUhPWMuaG9zdG5hbWUpO3JldHVybiBkfSxhLmlzTG9jYWw9ZnVuY3Rpb24oYSl7dmFyIGI9Y3JlYXRlanMuRWxlbWVudHMuYSgpO3JldHVybiBiLmhyZWY9YS5zcmMsXFxcIlxcXCI9PWIuaG9zdG5hbWUmJlxcXCJmaWxlOlxcXCI9PWIucHJvdG9jb2x9LGNyZWF0ZWpzLlVSTFV0aWxzPWF9KCksZnVuY3Rpb24oKXt2YXIgYT17Y29udGFpbmVyOm51bGx9O2EuYXBwZW5kVG9IZWFkPWZ1bmN0aW9uKGIpe2EuZ2V0SGVhZCgpLmFwcGVuZENoaWxkKGIpfSxhLmFwcGVuZFRvQm9keT1mdW5jdGlvbihiKXtpZihudWxsPT1hLmNvbnRhaW5lcil7YS5jb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwiZGl2XFxcIiksYS5jb250YWluZXIuaWQ9XFxcInByZWxvYWRqcy1jb250YWluZXJcXFwiO3ZhciBjPWEuY29udGFpbmVyLnN0eWxlO2MudmlzaWJpbGl0eT1cXFwiaGlkZGVuXFxcIixjLnBvc2l0aW9uPVxcXCJhYnNvbHV0ZVxcXCIsYy53aWR0aD1hLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9XFxcIjEwcHhcXFwiLGMub3ZlcmZsb3c9XFxcImhpZGRlblxcXCIsYy50cmFuc2Zvcm09Yy5tc1RyYW5zZm9ybT1jLndlYmtpdFRyYW5zZm9ybT1jLm9UcmFuc2Zvcm09XFxcInRyYW5zbGF0ZSgtMTBweCwgLTEwcHgpXFxcIixhLmdldEJvZHkoKS5hcHBlbmRDaGlsZChhLmNvbnRhaW5lcil9YS5jb250YWluZXIuYXBwZW5kQ2hpbGQoYil9LGEuZ2V0SGVhZD1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwiaGVhZFxcXCIpWzBdfSxhLmdldEJvZHk9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuYm9keXx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXFxcImJvZHlcXFwiKVswXX0sYS5yZW1vdmVDaGlsZD1mdW5jdGlvbihhKXthLnBhcmVudCYmYS5wYXJlbnQucmVtb3ZlQ2hpbGQoYSl9LGEuaXNJbWFnZVRhZz1mdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnR9LGEuaXNBdWRpb1RhZz1mdW5jdGlvbihhKXtyZXR1cm4gd2luZG93LkhUTUxBdWRpb0VsZW1lbnQ/YSBpbnN0YW5jZW9mIEhUTUxBdWRpb0VsZW1lbnQ6ITF9LGEuaXNWaWRlb1RhZz1mdW5jdGlvbihhKXtyZXR1cm4gd2luZG93LkhUTUxWaWRlb0VsZW1lbnQ/YSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQ6ITF9LGNyZWF0ZWpzLkRvbVV0aWxzPWF9KCksZnVuY3Rpb24oKXt2YXIgYT17fTthLnBhcnNlWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7dHJ5e2lmKHdpbmRvdy5ET01QYXJzZXIpe3ZhciBjPW5ldyBET01QYXJzZXI7Yj1jLnBhcnNlRnJvbVN0cmluZyhhLFxcXCJ0ZXh0L3htbFxcXCIpfX1jYXRjaChkKXt9aWYoIWIpdHJ5e2I9bmV3IEFjdGl2ZVhPYmplY3QoXFxcIk1pY3Jvc29mdC5YTUxET01cXFwiKSxiLmFzeW5jPSExLGIubG9hZFhNTChhKX1jYXRjaChkKXtiPW51bGx9cmV0dXJuIGJ9LGEucGFyc2VKU09OPWZ1bmN0aW9uKGEpe2lmKG51bGw9PWEpcmV0dXJuIG51bGw7dHJ5e3JldHVybiBKU09OLnBhcnNlKGEpfWNhdGNoKGIpe3Rocm93IGJ9fSxjcmVhdGVqcy5EYXRhVXRpbHM9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7dmFyIGE9e307YS5CSU5BUlk9XFxcImJpbmFyeVxcXCIsYS5DU1M9XFxcImNzc1xcXCIsYS5GT05UPVxcXCJmb250XFxcIixhLkZPTlRDU1M9XFxcImZvbnRjc3NcXFwiLGEuSU1BR0U9XFxcImltYWdlXFxcIixhLkpBVkFTQ1JJUFQ9XFxcImphdmFzY3JpcHRcXFwiLGEuSlNPTj1cXFwianNvblxcXCIsYS5KU09OUD1cXFwianNvbnBcXFwiLGEuTUFOSUZFU1Q9XFxcIm1hbmlmZXN0XFxcIixhLlNPVU5EPVxcXCJzb3VuZFxcXCIsYS5WSURFTz1cXFwidmlkZW9cXFwiLGEuU1BSSVRFU0hFRVQ9XFxcInNwcml0ZXNoZWV0XFxcIixhLlNWRz1cXFwic3ZnXFxcIixhLlRFWFQ9XFxcInRleHRcXFwiLGEuWE1MPVxcXCJ4bWxcXFwiLGNyZWF0ZWpzLlR5cGVzPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe3ZhciBhPXt9O2EuUE9TVD1cXFwiUE9TVFxcXCIsYS5HRVQ9XFxcIkdFVFxcXCIsY3JlYXRlanMuTWV0aG9kcz1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gTG9hZEl0ZW0oKXt0aGlzLnNyYz1udWxsLHRoaXMudHlwZT1udWxsLHRoaXMuaWQ9bnVsbCx0aGlzLm1haW50YWluT3JkZXI9ITEsdGhpcy5jYWxsYmFjaz1udWxsLHRoaXMuZGF0YT1udWxsLHRoaXMubWV0aG9kPWNyZWF0ZWpzLk1ldGhvZHMuR0VULHRoaXMudmFsdWVzPW51bGwsdGhpcy5oZWFkZXJzPW51bGwsdGhpcy53aXRoQ3JlZGVudGlhbHM9ITEsdGhpcy5taW1lVHlwZT1udWxsLHRoaXMuY3Jvc3NPcmlnaW49bnVsbCx0aGlzLmxvYWRUaW1lb3V0PWIuTE9BRF9USU1FT1VUX0RFRkFVTFR9dmFyIGE9TG9hZEl0ZW0ucHJvdG90eXBlPXt9LGI9TG9hZEl0ZW07Yi5MT0FEX1RJTUVPVVRfREVGQVVMVD04ZTMsYi5jcmVhdGU9ZnVuY3Rpb24oYSl7aWYoXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBhKXt2YXIgYz1uZXcgTG9hZEl0ZW07cmV0dXJuIGMuc3JjPWEsY31pZihhIGluc3RhbmNlb2YgYilyZXR1cm4gYTtpZihhIGluc3RhbmNlb2YgT2JqZWN0JiZhLnNyYylyZXR1cm4gbnVsbD09YS5sb2FkVGltZW91dCYmKGEubG9hZFRpbWVvdXQ9Yi5MT0FEX1RJTUVPVVRfREVGQVVMVCksYTt0aHJvdyBuZXcgRXJyb3IoXFxcIlR5cGUgbm90IHJlY29nbml6ZWQuXFxcIil9LGEuc2V0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKXRoaXNbYl09YVtiXTtyZXR1cm4gdGhpc30sY3JlYXRlanMuTG9hZEl0ZW09Yn0oKSxmdW5jdGlvbigpe3ZhciBhPXt9O2EuaXNCaW5hcnk9ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgY3JlYXRlanMuVHlwZXMuSU1BR0U6Y2FzZSBjcmVhdGVqcy5UeXBlcy5CSU5BUlk6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGEuaXNUZXh0PWZ1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlIGNyZWF0ZWpzLlR5cGVzLlRFWFQ6Y2FzZSBjcmVhdGVqcy5UeXBlcy5KU09OOmNhc2UgY3JlYXRlanMuVHlwZXMuTUFOSUZFU1Q6Y2FzZSBjcmVhdGVqcy5UeXBlcy5YTUw6Y2FzZSBjcmVhdGVqcy5UeXBlcy5DU1M6Y2FzZSBjcmVhdGVqcy5UeXBlcy5TVkc6Y2FzZSBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUOmNhc2UgY3JlYXRlanMuVHlwZXMuU1BSSVRFU0hFRVQ6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19LGEuZ2V0VHlwZUJ5RXh0ZW5zaW9uPWZ1bmN0aW9uKGEpe2lmKG51bGw9PWEpcmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlRFWFQ7c3dpdGNoKGEudG9Mb3dlckNhc2UoKSl7Y2FzZVxcXCJqcGVnXFxcIjpjYXNlXFxcImpwZ1xcXCI6Y2FzZVxcXCJnaWZcXFwiOmNhc2VcXFwicG5nXFxcIjpjYXNlXFxcIndlYnBcXFwiOmNhc2VcXFwiYm1wXFxcIjpyZXR1cm4gY3JlYXRlanMuVHlwZXMuSU1BR0U7Y2FzZVxcXCJvZ2dcXFwiOmNhc2VcXFwibXAzXFxcIjpjYXNlXFxcIndlYm1cXFwiOnJldHVybiBjcmVhdGVqcy5UeXBlcy5TT1VORDtjYXNlXFxcIm1wNFxcXCI6Y2FzZVxcXCJ3ZWJtXFxcIjpjYXNlXFxcInRzXFxcIjpyZXR1cm4gY3JlYXRlanMuVHlwZXMuVklERU87Y2FzZVxcXCJqc29uXFxcIjpyZXR1cm4gY3JlYXRlanMuVHlwZXMuSlNPTjtjYXNlXFxcInhtbFxcXCI6cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlhNTDtjYXNlXFxcImNzc1xcXCI6cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkNTUztjYXNlXFxcImpzXFxcIjpyZXR1cm4gY3JlYXRlanMuVHlwZXMuSkFWQVNDUklQVDtjYXNlXFxcInN2Z1xcXCI6cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlNWRztkZWZhdWx0OnJldHVybiBjcmVhdGVqcy5UeXBlcy5URVhUfX0sY3JlYXRlanMuUmVxdWVzdFV0aWxzPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBBYnN0cmFjdExvYWRlcihhLGIsYyl7dGhpcy5FdmVudERpc3BhdGNoZXJfY29uc3RydWN0b3IoKSx0aGlzLmxvYWRlZD0hMSx0aGlzLmNhbmNlbGVkPSExLHRoaXMucHJvZ3Jlc3M9MCx0aGlzLnR5cGU9Yyx0aGlzLnJlc3VsdEZvcm1hdHRlcj1udWxsLHRoaXMuX2l0ZW09YT9jcmVhdGVqcy5Mb2FkSXRlbS5jcmVhdGUoYSk6bnVsbCx0aGlzLl9wcmVmZXJYSFI9Yix0aGlzLl9yZXN1bHQ9bnVsbCx0aGlzLl9yYXdSZXN1bHQ9bnVsbCx0aGlzLl9sb2FkZWRJdGVtcz1udWxsLHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZT1udWxsLHRoaXMuX3RhZz1udWxsfXZhciBhPWNyZWF0ZWpzLmV4dGVuZChBYnN0cmFjdExvYWRlcixjcmVhdGVqcy5FdmVudERpc3BhdGNoZXIpLGI9QWJzdHJhY3RMb2FkZXI7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGIse1BPU1Q6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuTWV0aG9kcy5QT1NUfSxcXFwiQWJzdHJhY3RMb2FkZXIuUE9TVFxcXCIpfSxHRVQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuTWV0aG9kcy5HRVR9LFxcXCJBYnN0cmFjdExvYWRlci5HRVRcXFwiKX0sQklOQVJZOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkJJTkFSWX0sXFxcIkFic3RyYWN0TG9hZGVyLkJJTkFSWVxcXCIpfSxDU1M6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuQ1NTfSxcXFwiQWJzdHJhY3RMb2FkZXIuQ1NTXFxcIil9LEZPTlQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuRk9OVH0sXFxcIkFic3RyYWN0TG9hZGVyLkZPTlRcXFwiKX0sRk9OVENTUzp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5GT05UQ1NTfSxcXFwiQWJzdHJhY3RMb2FkZXIuRk9OVENTU1xcXCIpfSxJTUFHRTp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5JTUFHRX0sXFxcIkFic3RyYWN0TG9hZGVyLklNQUdFXFxcIil9LEpBVkFTQ1JJUFQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuSkFWQVNDUklQVH0sXFxcIkFic3RyYWN0TG9hZGVyLkpBVkFTQ1JJUFRcXFwiKX0sSlNPTjp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5KU09OfSxcXFwiQWJzdHJhY3RMb2FkZXIuSlNPTlxcXCIpfSxKU09OUDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5KU09OUH0sXFxcIkFic3RyYWN0TG9hZGVyLkpTT05QXFxcIil9LE1BTklGRVNUOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLk1BTklGRVNUfSxcXFwiQWJzdHJhY3RMb2FkZXIuTUFOSUZFU1RcXFwiKX0sU09VTkQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuU09VTkR9LFxcXCJBYnN0cmFjdExvYWRlci5TT1VORFxcXCIpfSxWSURFTzp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5WSURFT30sXFxcIkFic3RyYWN0TG9hZGVyLlZJREVPXFxcIil9LFNQUklURVNIRUVUOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlNQUklURVNIRUVUfSxcXFwiQWJzdHJhY3RMb2FkZXIuU1BSSVRFU0hFRVRcXFwiKX0sU1ZHOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlNWR30sXFxcIkFic3RyYWN0TG9hZGVyLlNWR1xcXCIpfSxURVhUOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlRFWFR9LFxcXCJBYnN0cmFjdExvYWRlci5URVhUXFxcIil9LFhNTDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5YTUx9LFxcXCJBYnN0cmFjdExvYWRlci5YTUxcXFwiKX19KX1jYXRjaChjKXt9YS5nZXRJdGVtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2l0ZW19LGEuZ2V0UmVzdWx0PWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuX3Jhd1Jlc3VsdDp0aGlzLl9yZXN1bHR9LGEuZ2V0VGFnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RhZ30sYS5zZXRUYWc9ZnVuY3Rpb24oYSl7dGhpcy5fdGFnPWF9LGEubG9hZD1mdW5jdGlvbigpe3RoaXMuX2NyZWF0ZVJlcXVlc3QoKSx0aGlzLl9yZXF1ZXN0Lm9uKFxcXCJjb21wbGV0ZVxcXCIsdGhpcyx0aGlzKSx0aGlzLl9yZXF1ZXN0Lm9uKFxcXCJwcm9ncmVzc1xcXCIsdGhpcyx0aGlzKSx0aGlzLl9yZXF1ZXN0Lm9uKFxcXCJsb2FkU3RhcnRcXFwiLHRoaXMsdGhpcyksdGhpcy5fcmVxdWVzdC5vbihcXFwiYWJvcnRcXFwiLHRoaXMsdGhpcyksdGhpcy5fcmVxdWVzdC5vbihcXFwidGltZW91dFxcXCIsdGhpcyx0aGlzKSx0aGlzLl9yZXF1ZXN0Lm9uKFxcXCJlcnJvclxcXCIsdGhpcyx0aGlzKTt2YXIgYT1uZXcgY3JlYXRlanMuRXZlbnQoXFxcImluaXRpYWxpemVcXFwiKTthLmxvYWRlcj10aGlzLl9yZXF1ZXN0LHRoaXMuZGlzcGF0Y2hFdmVudChhKSx0aGlzLl9yZXF1ZXN0LmxvYWQoKX0sYS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbGVkPSEwLHRoaXMuZGVzdHJveSgpfSxhLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9yZXF1ZXN0JiYodGhpcy5fcmVxdWVzdC5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpLHRoaXMuX3JlcXVlc3QuZGVzdHJveSgpKSx0aGlzLl9yZXF1ZXN0PW51bGwsdGhpcy5faXRlbT1udWxsLHRoaXMuX3Jhd1Jlc3VsdD1udWxsLHRoaXMuX3Jlc3VsdD1udWxsLHRoaXMuX2xvYWRJdGVtcz1udWxsLHRoaXMucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMoKX0sYS5nZXRMb2FkZWRJdGVtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2FkZWRJdGVtc30sYS5fY3JlYXRlUmVxdWVzdD1mdW5jdGlvbigpe3RoaXMuX3JlcXVlc3Q9dGhpcy5fcHJlZmVyWEhSP25ldyBjcmVhdGVqcy5YSFJSZXF1ZXN0KHRoaXMuX2l0ZW0pOm5ldyBjcmVhdGVqcy5UYWdSZXF1ZXN0KHRoaXMuX2l0ZW0sdGhpcy5fdGFnfHx0aGlzLl9jcmVhdGVUYWcoKSx0aGlzLl90YWdTcmNBdHRyaWJ1dGUpfSxhLl9jcmVhdGVUYWc9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sYS5fc2VuZExvYWRTdGFydD1mdW5jdGlvbigpe3RoaXMuX2lzQ2FuY2VsZWQoKXx8dGhpcy5kaXNwYXRjaEV2ZW50KFxcXCJsb2Fkc3RhcnRcXFwiKX0sYS5fc2VuZFByb2dyZXNzPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLl9pc0NhbmNlbGVkKCkpe3ZhciBiPW51bGw7XFxcIm51bWJlclxcXCI9PXR5cGVvZiBhPyh0aGlzLnByb2dyZXNzPWEsYj1uZXcgY3JlYXRlanMuUHJvZ3Jlc3NFdmVudCh0aGlzLnByb2dyZXNzKSk6KGI9YSx0aGlzLnByb2dyZXNzPWEubG9hZGVkL2EudG90YWwsYi5wcm9ncmVzcz10aGlzLnByb2dyZXNzLChpc05hTih0aGlzLnByb2dyZXNzKXx8MS8wPT10aGlzLnByb2dyZXNzKSYmKHRoaXMucHJvZ3Jlc3M9MCkpLHRoaXMuaGFzRXZlbnRMaXN0ZW5lcihcXFwicHJvZ3Jlc3NcXFwiKSYmdGhpcy5kaXNwYXRjaEV2ZW50KGIpfX0sYS5fc2VuZENvbXBsZXRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2lzQ2FuY2VsZWQoKSl7dGhpcy5sb2FkZWQ9ITA7dmFyIGE9bmV3IGNyZWF0ZWpzLkV2ZW50KFxcXCJjb21wbGV0ZVxcXCIpO2EucmF3UmVzdWx0PXRoaXMuX3Jhd1Jlc3VsdCxudWxsIT10aGlzLl9yZXN1bHQmJihhLnJlc3VsdD10aGlzLl9yZXN1bHQpLHRoaXMuZGlzcGF0Y2hFdmVudChhKX19LGEuX3NlbmRFcnJvcj1mdW5jdGlvbihhKXshdGhpcy5faXNDYW5jZWxlZCgpJiZ0aGlzLmhhc0V2ZW50TGlzdGVuZXIoXFxcImVycm9yXFxcIikmJihudWxsPT1hJiYoYT1uZXcgY3JlYXRlanMuRXJyb3JFdmVudChcXFwiUFJFTE9BRF9FUlJPUl9FTVBUWVxcXCIpKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSxhLl9pc0NhbmNlbGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXdpbmRvdy5jcmVhdGVqc3x8dGhpcy5jYW5jZWxlZD8hMDohMX0sYS5yZXN1bHRGb3JtYXR0ZXI9bnVsbCxhLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKGEpe3N3aXRjaChhLnR5cGUpe2Nhc2VcXFwiY29tcGxldGVcXFwiOnRoaXMuX3Jhd1Jlc3VsdD1hLnRhcmdldC5fcmVzcG9uc2U7dmFyIGI9dGhpcy5yZXN1bHRGb3JtYXR0ZXImJnRoaXMucmVzdWx0Rm9ybWF0dGVyKHRoaXMpO2IgaW5zdGFuY2VvZiBGdW5jdGlvbj9iLmNhbGwodGhpcyxjcmVhdGVqcy5wcm94eSh0aGlzLl9yZXN1bHRGb3JtYXRTdWNjZXNzLHRoaXMpLGNyZWF0ZWpzLnByb3h5KHRoaXMuX3Jlc3VsdEZvcm1hdEZhaWxlZCx0aGlzKSk6KHRoaXMuX3Jlc3VsdD1ifHx0aGlzLl9yYXdSZXN1bHQsdGhpcy5fc2VuZENvbXBsZXRlKCkpO2JyZWFrO2Nhc2VcXFwicHJvZ3Jlc3NcXFwiOnRoaXMuX3NlbmRQcm9ncmVzcyhhKTticmVhaztjYXNlXFxcImVycm9yXFxcIjp0aGlzLl9zZW5kRXJyb3IoYSk7YnJlYWs7Y2FzZVxcXCJsb2Fkc3RhcnRcXFwiOnRoaXMuX3NlbmRMb2FkU3RhcnQoKTticmVhaztjYXNlXFxcImFib3J0XFxcIjpjYXNlXFxcInRpbWVvdXRcXFwiOnRoaXMuX2lzQ2FuY2VsZWQoKXx8dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFxcXCJQUkVMT0FEX1xcXCIrYS50eXBlLnRvVXBwZXJDYXNlKCkrXFxcIl9FUlJPUlxcXCIpKX19LGEuX3Jlc3VsdEZvcm1hdFN1Y2Nlc3M9ZnVuY3Rpb24oYSl7dGhpcy5fcmVzdWx0PWEsdGhpcy5fc2VuZENvbXBsZXRlKCl9LGEuX3Jlc3VsdEZvcm1hdEZhaWxlZD1mdW5jdGlvbihhKXt0aGlzLl9zZW5kRXJyb3IoYSl9LGEudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cXFwiW1ByZWxvYWRKUyBBYnN0cmFjdExvYWRlcl1cXFwifSxjcmVhdGVqcy5BYnN0cmFjdExvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKEFic3RyYWN0TG9hZGVyLFxcXCJFdmVudERpc3BhdGNoZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIEFic3RyYWN0TWVkaWFMb2FkZXIoYSxiLGMpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSxiLGMpLHRoaXMucmVzdWx0Rm9ybWF0dGVyPXRoaXMuX2Zvcm1hdFJlc3VsdCx0aGlzLl90YWdTcmNBdHRyaWJ1dGU9XFxcInNyY1xcXCIsdGhpcy5vbihcXFwiaW5pdGlhbGl6ZVxcXCIsdGhpcy5fdXBkYXRlWEhSLHRoaXMpfXZhciBhPWNyZWF0ZWpzLmV4dGVuZChBYnN0cmFjdE1lZGlhTG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKTthLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLl90YWd8fCh0aGlzLl90YWc9dGhpcy5fY3JlYXRlVGFnKHRoaXMuX2l0ZW0uc3JjKSksdGhpcy5fdGFnLnByZWxvYWQ9XFxcImF1dG9cXFwiLHRoaXMuX3RhZy5sb2FkKCksdGhpcy5BYnN0cmFjdExvYWRlcl9sb2FkKCl9LGEuX2NyZWF0ZVRhZz1mdW5jdGlvbigpe30sYS5fY3JlYXRlUmVxdWVzdD1mdW5jdGlvbigpe3RoaXMuX3JlcXVlc3Q9dGhpcy5fcHJlZmVyWEhSP25ldyBjcmVhdGVqcy5YSFJSZXF1ZXN0KHRoaXMuX2l0ZW0pOm5ldyBjcmVhdGVqcy5NZWRpYVRhZ1JlcXVlc3QodGhpcy5faXRlbSx0aGlzLl90YWd8fHRoaXMuX2NyZWF0ZVRhZygpLHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZSl9LGEuX3VwZGF0ZVhIUj1mdW5jdGlvbihhKXthLmxvYWRlci5zZXRSZXNwb25zZVR5cGUmJmEubG9hZGVyLnNldFJlc3BvbnNlVHlwZShcXFwiYmxvYlxcXCIpfSxhLl9mb3JtYXRSZXN1bHQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5fdGFnLnJlbW92ZUV2ZW50TGlzdGVuZXImJnRoaXMuX3RhZy5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJjYW5wbGF5dGhyb3VnaFxcXCIsdGhpcy5fbG9hZGVkSGFuZGxlciksdGhpcy5fdGFnLm9uc3RhbGxlZD1udWxsLHRoaXMuX3ByZWZlclhIUil7dmFyIGI9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTCxjPWEuZ2V0UmVzdWx0KCEwKTthLmdldFRhZygpLnNyYz1iLmNyZWF0ZU9iamVjdFVSTChjKX1yZXR1cm4gYS5nZXRUYWcoKX0sY3JlYXRlanMuQWJzdHJhY3RNZWRpYUxvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKEFic3RyYWN0TWVkaWFMb2FkZXIsXFxcIkFic3RyYWN0TG9hZGVyXFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgQWJzdHJhY3RSZXF1ZXN0PWZ1bmN0aW9uKGEpe3RoaXMuX2l0ZW09YX0sYT1jcmVhdGVqcy5leHRlbmQoQWJzdHJhY3RSZXF1ZXN0LGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlcik7YS5sb2FkPWZ1bmN0aW9uKCl7fSxhLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LGEuY2FuY2VsPWZ1bmN0aW9uKCl7fSxjcmVhdGVqcy5BYnN0cmFjdFJlcXVlc3Q9Y3JlYXRlanMucHJvbW90ZShBYnN0cmFjdFJlcXVlc3QsXFxcIkV2ZW50RGlzcGF0Y2hlclxcXCIpfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gVGFnUmVxdWVzdChhLGIsYyl7dGhpcy5BYnN0cmFjdFJlcXVlc3RfY29uc3RydWN0b3IoYSksdGhpcy5fdGFnPWIsdGhpcy5fdGFnU3JjQXR0cmlidXRlPWMsdGhpcy5fbG9hZGVkSGFuZGxlcj1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUYWdDb21wbGV0ZSx0aGlzKSx0aGlzLl9hZGRlZFRvRE9NPSExfXZhciBhPWNyZWF0ZWpzLmV4dGVuZChUYWdSZXF1ZXN0LGNyZWF0ZWpzLkFic3RyYWN0UmVxdWVzdCk7YS5sb2FkPWZ1bmN0aW9uKCl7dGhpcy5fdGFnLm9ubG9hZD1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUYWdDb21wbGV0ZSx0aGlzKSx0aGlzLl90YWcub25yZWFkeXN0YXRlY2hhbmdlPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2UsdGhpcyksdGhpcy5fdGFnLm9uZXJyb3I9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlRXJyb3IsdGhpcyk7dmFyIGE9bmV3IGNyZWF0ZWpzLkV2ZW50KFxcXCJpbml0aWFsaXplXFxcIik7YS5sb2FkZXI9dGhpcy5fdGFnLHRoaXMuZGlzcGF0Y2hFdmVudChhKSx0aGlzLl9sb2FkVGltZW91dD1zZXRUaW1lb3V0KGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRpbWVvdXQsdGhpcyksdGhpcy5faXRlbS5sb2FkVGltZW91dCksdGhpcy5fdGFnW3RoaXMuX3RhZ1NyY0F0dHJpYnV0ZV09dGhpcy5faXRlbS5zcmMsbnVsbD09dGhpcy5fdGFnLnBhcmVudE5vZGUmJihjcmVhdGVqcy5Eb21VdGlscy5hcHBlbmRUb0JvZHkodGhpcy5fdGFnKSx0aGlzLl9hZGRlZFRvRE9NPSEwKX0sYS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW4oKSx0aGlzLl90YWc9bnVsbCx0aGlzLkFic3RyYWN0UmVxdWVzdF9kZXN0cm95KCl9LGEuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2U9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpO3ZhciBhPXRoaXMuX3RhZzsoXFxcImxvYWRlZFxcXCI9PWEucmVhZHlTdGF0ZXx8XFxcImNvbXBsZXRlXFxcIj09YS5yZWFkeVN0YXRlKSYmdGhpcy5faGFuZGxlVGFnQ29tcGxldGUoKX0sYS5faGFuZGxlRXJyb3I9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhbigpLHRoaXMuZGlzcGF0Y2hFdmVudChcXFwiZXJyb3JcXFwiKX0sYS5faGFuZGxlVGFnQ29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLl9yYXdSZXN1bHQ9dGhpcy5fdGFnLHRoaXMuX3Jlc3VsdD10aGlzLnJlc3VsdEZvcm1hdHRlciYmdGhpcy5yZXN1bHRGb3JtYXR0ZXIodGhpcyl8fHRoaXMuX3Jhd1Jlc3VsdCx0aGlzLl9jbGVhbigpLHRoaXMuZGlzcGF0Y2hFdmVudChcXFwiY29tcGxldGVcXFwiKX0sYS5faGFuZGxlVGltZW91dD1mdW5jdGlvbigpe3RoaXMuX2NsZWFuKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FdmVudChcXFwidGltZW91dFxcXCIpKX0sYS5fY2xlYW49ZnVuY3Rpb24oKXt0aGlzLl90YWcub25sb2FkPW51bGwsdGhpcy5fdGFnLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHRoaXMuX3RhZy5vbmVycm9yPW51bGwsdGhpcy5fYWRkZWRUb0RPTSYmbnVsbCE9dGhpcy5fdGFnLnBhcmVudE5vZGUmJnRoaXMuX3RhZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX3RhZyksY2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KX0sYS5faGFuZGxlU3RhbGxlZD1mdW5jdGlvbigpe30sY3JlYXRlanMuVGFnUmVxdWVzdD1jcmVhdGVqcy5wcm9tb3RlKFRhZ1JlcXVlc3QsXFxcIkFic3RyYWN0UmVxdWVzdFxcXCIpfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gTWVkaWFUYWdSZXF1ZXN0KGEsYixjKXt0aGlzLkFic3RyYWN0UmVxdWVzdF9jb25zdHJ1Y3RvcihhKSx0aGlzLl90YWc9Yix0aGlzLl90YWdTcmNBdHRyaWJ1dGU9Yyx0aGlzLl9sb2FkZWRIYW5kbGVyPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRhZ0NvbXBsZXRlLHRoaXMpfXZhciBhPWNyZWF0ZWpzLmV4dGVuZChNZWRpYVRhZ1JlcXVlc3QsY3JlYXRlanMuVGFnUmVxdWVzdCk7YS5sb2FkPWZ1bmN0aW9uKCl7dmFyIGE9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlU3RhbGxlZCx0aGlzKTt0aGlzLl9zdGFsbGVkQ2FsbGJhY2s9YTt2YXIgYj1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVQcm9ncmVzcyx0aGlzKTt0aGlzLl9oYW5kbGVQcm9ncmVzcz1iLHRoaXMuX3RhZy5hZGRFdmVudExpc3RlbmVyKFxcXCJzdGFsbGVkXFxcIixhKSx0aGlzLl90YWcuYWRkRXZlbnRMaXN0ZW5lcihcXFwicHJvZ3Jlc3NcXFwiLGIpLHRoaXMuX3RhZy5hZGRFdmVudExpc3RlbmVyJiZ0aGlzLl90YWcuYWRkRXZlbnRMaXN0ZW5lcihcXFwiY2FucGxheXRocm91Z2hcXFwiLHRoaXMuX2xvYWRlZEhhbmRsZXIsITEpLHRoaXMuVGFnUmVxdWVzdF9sb2FkKCl9LGEuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2U9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpO3ZhciBhPXRoaXMuX3RhZzsoXFxcImxvYWRlZFxcXCI9PWEucmVhZHlTdGF0ZXx8XFxcImNvbXBsZXRlXFxcIj09YS5yZWFkeVN0YXRlKSYmdGhpcy5faGFuZGxlVGFnQ29tcGxldGUoKX0sYS5faGFuZGxlU3RhbGxlZD1mdW5jdGlvbigpe30sYS5faGFuZGxlUHJvZ3Jlc3M9ZnVuY3Rpb24oYSl7aWYoYSYmIShhLmxvYWRlZD4wJiYwPT1hLnRvdGFsKSl7dmFyIGI9bmV3IGNyZWF0ZWpzLlByb2dyZXNzRXZlbnQoYS5sb2FkZWQsYS50b3RhbCk7dGhpcy5kaXNwYXRjaEV2ZW50KGIpfX0sYS5fY2xlYW49ZnVuY3Rpb24oKXt0aGlzLl90YWcucmVtb3ZlRXZlbnRMaXN0ZW5lciYmdGhpcy5fdGFnLnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcImNhbnBsYXl0aHJvdWdoXFxcIix0aGlzLl9sb2FkZWRIYW5kbGVyKSx0aGlzLl90YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwic3RhbGxlZFxcXCIsdGhpcy5fc3RhbGxlZENhbGxiYWNrKSx0aGlzLl90YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwicHJvZ3Jlc3NcXFwiLHRoaXMuX3Byb2dyZXNzQ2FsbGJhY2spLHRoaXMuVGFnUmVxdWVzdF9fY2xlYW4oKX0sY3JlYXRlanMuTWVkaWFUYWdSZXF1ZXN0PWNyZWF0ZWpzLnByb21vdGUoTWVkaWFUYWdSZXF1ZXN0LFxcXCJUYWdSZXF1ZXN0XFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBYSFJSZXF1ZXN0KGEpe3RoaXMuQWJzdHJhY3RSZXF1ZXN0X2NvbnN0cnVjdG9yKGEpLHRoaXMuX3JlcXVlc3Q9bnVsbCx0aGlzLl9sb2FkVGltZW91dD1udWxsLHRoaXMuX3hockxldmVsPTEsdGhpcy5fcmVzcG9uc2U9bnVsbCx0aGlzLl9yYXdSZXNwb25zZT1udWxsLHRoaXMuX2NhbmNlbGVkPSExLHRoaXMuX2hhbmRsZUxvYWRTdGFydFByb3h5PWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUxvYWRTdGFydCx0aGlzKSx0aGlzLl9oYW5kbGVQcm9ncmVzc1Byb3h5PWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVByb2dyZXNzLHRoaXMpLHRoaXMuX2hhbmRsZUFib3J0UHJveHk9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlQWJvcnQsdGhpcyksdGhpcy5faGFuZGxlRXJyb3JQcm94eT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVFcnJvcix0aGlzKSx0aGlzLl9oYW5kbGVUaW1lb3V0UHJveHk9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGltZW91dCx0aGlzKSx0aGlzLl9oYW5kbGVMb2FkUHJveHk9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZCx0aGlzKSx0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlUHJveHk9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZSx0aGlzKSwhdGhpcy5fY3JlYXRlWEhSKGEpfXZhciBhPWNyZWF0ZWpzLmV4dGVuZChYSFJSZXF1ZXN0LGNyZWF0ZWpzLkFic3RyYWN0UmVxdWVzdCk7WEhSUmVxdWVzdC5BQ1RJVkVYX1ZFUlNJT05TPVtcXFwiTXN4bWwyLlhNTEhUVFAuNi4wXFxcIixcXFwiTXN4bWwyLlhNTEhUVFAuNS4wXFxcIixcXFwiTXN4bWwyLlhNTEhUVFAuNC4wXFxcIixcXFwiTVNYTUwyLlhNTEhUVFAuMy4wXFxcIixcXFwiTVNYTUwyLlhNTEhUVFBcXFwiLFxcXCJNaWNyb3NvZnQuWE1MSFRUUFxcXCJdLGEuZ2V0UmVzdWx0PWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0aGlzLl9yYXdSZXNwb25zZT90aGlzLl9yYXdSZXNwb25zZTp0aGlzLl9yZXNwb25zZX0sYS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbGVkPSEwLHRoaXMuX2NsZWFuKCksdGhpcy5fcmVxdWVzdC5hYm9ydCgpfSxhLmxvYWQ9ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLl9yZXF1ZXN0KXJldHVybiB2b2lkIHRoaXMuX2hhbmRsZUVycm9yKCk7bnVsbCE9dGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyPyh0aGlzLl9yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXFxcImxvYWRzdGFydFxcXCIsdGhpcy5faGFuZGxlTG9hZFN0YXJ0UHJveHksITEpLHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcXFwicHJvZ3Jlc3NcXFwiLHRoaXMuX2hhbmRsZVByb2dyZXNzUHJveHksITEpLHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcXFwiYWJvcnRcXFwiLHRoaXMuX2hhbmRsZUFib3J0UHJveHksITEpLHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcXFwiZXJyb3JcXFwiLHRoaXMuX2hhbmRsZUVycm9yUHJveHksITEpLHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcXFwidGltZW91dFxcXCIsdGhpcy5faGFuZGxlVGltZW91dFByb3h5LCExKSx0aGlzLl9yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXFxcImxvYWRcXFwiLHRoaXMuX2hhbmRsZUxvYWRQcm94eSwhMSksdGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFxcXCJyZWFkeXN0YXRlY2hhbmdlXFxcIix0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlUHJveHksITEpKToodGhpcy5fcmVxdWVzdC5vbmxvYWRzdGFydD10aGlzLl9oYW5kbGVMb2FkU3RhcnRQcm94eSx0aGlzLl9yZXF1ZXN0Lm9ucHJvZ3Jlc3M9dGhpcy5faGFuZGxlUHJvZ3Jlc3NQcm94eSx0aGlzLl9yZXF1ZXN0Lm9uYWJvcnQ9dGhpcy5faGFuZGxlQWJvcnRQcm94eSx0aGlzLl9yZXF1ZXN0Lm9uZXJyb3I9dGhpcy5faGFuZGxlRXJyb3JQcm94eSx0aGlzLl9yZXF1ZXN0Lm9udGltZW91dD10aGlzLl9oYW5kbGVUaW1lb3V0UHJveHksdGhpcy5fcmVxdWVzdC5vbmxvYWQ9dGhpcy5faGFuZGxlTG9hZFByb3h5LHRoaXMuX3JlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlPXRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2VQcm94eSksMT09dGhpcy5feGhyTGV2ZWwmJih0aGlzLl9sb2FkVGltZW91dD1zZXRUaW1lb3V0KGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRpbWVvdXQsdGhpcyksdGhpcy5faXRlbS5sb2FkVGltZW91dCkpO3RyeXt0aGlzLl9pdGVtLnZhbHVlcz90aGlzLl9yZXF1ZXN0LnNlbmQoY3JlYXRlanMuVVJMVXRpbHMuZm9ybWF0UXVlcnlTdHJpbmcodGhpcy5faXRlbS52YWx1ZXMpKTp0aGlzLl9yZXF1ZXN0LnNlbmQoKX1jYXRjaChhKXt0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXFxcIlhIUl9TRU5EXFxcIixudWxsLGEpKX19LGEuc2V0UmVzcG9uc2VUeXBlPWZ1bmN0aW9uKGEpe1xcXCJibG9iXFxcIj09PWEmJihhPXdpbmRvdy5VUkw/XFxcImJsb2JcXFwiOlxcXCJhcnJheWJ1ZmZlclxcXCIsdGhpcy5fcmVzcG9uc2VUeXBlPWEpLHRoaXMuX3JlcXVlc3QucmVzcG9uc2VUeXBlPWF9LGEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIGluc3RhbmNlb2YgRnVuY3Rpb24/dGhpcy5fcmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTpudWxsfSxhLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9yZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyIGluc3RhbmNlb2YgRnVuY3Rpb24/dGhpcy5fcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcihhKTpudWxsfSxhLl9oYW5kbGVQcm9ncmVzcz1mdW5jdGlvbihhKXtpZihhJiYhKGEubG9hZGVkPjAmJjA9PWEudG90YWwpKXt2YXIgYj1uZXcgY3JlYXRlanMuUHJvZ3Jlc3NFdmVudChhLmxvYWRlZCxhLnRvdGFsKTt0aGlzLmRpc3BhdGNoRXZlbnQoYil9fSxhLl9oYW5kbGVMb2FkU3RhcnQ9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpLHRoaXMuZGlzcGF0Y2hFdmVudChcXFwibG9hZHN0YXJ0XFxcIil9LGEuX2hhbmRsZUFib3J0PWZ1bmN0aW9uKGEpe3RoaXMuX2NsZWFuKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFxcXCJYSFJfQUJPUlRFRFxcXCIsbnVsbCxhKSl9LGEuX2hhbmRsZUVycm9yPWZ1bmN0aW9uKGEpe3RoaXMuX2NsZWFuKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KGEubWVzc2FnZSkpfSxhLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlPWZ1bmN0aW9uKCl7ND09dGhpcy5fcmVxdWVzdC5yZWFkeVN0YXRlJiZ0aGlzLl9oYW5kbGVMb2FkKCl9LGEuX2hhbmRsZUxvYWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5sb2FkZWQpe3RoaXMubG9hZGVkPSEwO3ZhciBhPXRoaXMuX2NoZWNrRXJyb3IoKTtpZihhKXJldHVybiB2b2lkIHRoaXMuX2hhbmRsZUVycm9yKGEpO2lmKHRoaXMuX3Jlc3BvbnNlPXRoaXMuX2dldFJlc3BvbnNlKCksXFxcImFycmF5YnVmZmVyXFxcIj09PXRoaXMuX3Jlc3BvbnNlVHlwZSl0cnl7dGhpcy5fcmVzcG9uc2U9bmV3IEJsb2IoW3RoaXMuX3Jlc3BvbnNlXSl9Y2F0Y2goYil7aWYod2luZG93LkJsb2JCdWlsZGVyPXdpbmRvdy5CbG9iQnVpbGRlcnx8d2luZG93LldlYktpdEJsb2JCdWlsZGVyfHx3aW5kb3cuTW96QmxvYkJ1aWxkZXJ8fHdpbmRvdy5NU0Jsb2JCdWlsZGVyLFxcXCJUeXBlRXJyb3JcXFwiPT09Yi5uYW1lJiZ3aW5kb3cuQmxvYkJ1aWxkZXIpe3ZhciBjPW5ldyBCbG9iQnVpbGRlcjtjLmFwcGVuZCh0aGlzLl9yZXNwb25zZSksdGhpcy5fcmVzcG9uc2U9Yy5nZXRCbG9iKCl9fXRoaXMuX2NsZWFuKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FdmVudChcXFwiY29tcGxldGVcXFwiKSl9fSxhLl9oYW5kbGVUaW1lb3V0PWZ1bmN0aW9uKGEpe3RoaXMuX2NsZWFuKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFxcXCJQUkVMT0FEX1RJTUVPVVRcXFwiLG51bGwsYSkpfSxhLl9jaGVja0Vycm9yPWZ1bmN0aW9uKCl7dmFyIGE9cGFyc2VJbnQodGhpcy5fcmVxdWVzdC5zdGF0dXMpO3JldHVybiBhPj00MDAmJjU5OT49YT9uZXcgRXJyb3IoYSk6MD09YSYmL15odHRwcz86Ly50ZXN0KGxvY2F0aW9uLnByb3RvY29sKT9uZXcgRXJyb3IoMCk6bnVsbH0sYS5fZ2V0UmVzcG9uc2U9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLl9yZXNwb25zZSlyZXR1cm4gdGhpcy5fcmVzcG9uc2U7XFxuaWYobnVsbCE9dGhpcy5fcmVxdWVzdC5yZXNwb25zZSlyZXR1cm4gdGhpcy5fcmVxdWVzdC5yZXNwb25zZTt0cnl7aWYobnVsbCE9dGhpcy5fcmVxdWVzdC5yZXNwb25zZVRleHQpcmV0dXJuIHRoaXMuX3JlcXVlc3QucmVzcG9uc2VUZXh0fWNhdGNoKGEpe310cnl7aWYobnVsbCE9dGhpcy5fcmVxdWVzdC5yZXNwb25zZVhNTClyZXR1cm4gdGhpcy5fcmVxdWVzdC5yZXNwb25zZVhNTH1jYXRjaChhKXt9cmV0dXJuIG51bGx9LGEuX2NyZWF0ZVhIUj1mdW5jdGlvbihhKXt2YXIgYj1jcmVhdGVqcy5VUkxVdGlscy5pc0Nyb3NzRG9tYWluKGEpLGM9e30sZD1udWxsO2lmKHdpbmRvdy5YTUxIdHRwUmVxdWVzdClkPW5ldyBYTUxIdHRwUmVxdWVzdCxiJiZ2b2lkIDA9PT1kLndpdGhDcmVkZW50aWFscyYmd2luZG93LlhEb21haW5SZXF1ZXN0JiYoZD1uZXcgWERvbWFpblJlcXVlc3QpO2Vsc2V7Zm9yKHZhciBlPTAsZj1zLkFDVElWRVhfVkVSU0lPTlMubGVuZ3RoO2Y+ZTtlKyspe3ZhciBnPXMuQUNUSVZFWF9WRVJTSU9OU1tlXTt0cnl7ZD1uZXcgQWN0aXZlWE9iamVjdChnKTticmVha31jYXRjaChoKXt9fWlmKG51bGw9PWQpcmV0dXJuITF9bnVsbD09YS5taW1lVHlwZSYmY3JlYXRlanMuUmVxdWVzdFV0aWxzLmlzVGV4dChhLnR5cGUpJiYoYS5taW1lVHlwZT1cXFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFxcXCIpLGEubWltZVR5cGUmJmQub3ZlcnJpZGVNaW1lVHlwZSYmZC5vdmVycmlkZU1pbWVUeXBlKGEubWltZVR5cGUpLHRoaXMuX3hockxldmVsPVxcXCJzdHJpbmdcXFwiPT10eXBlb2YgZC5yZXNwb25zZVR5cGU/MjoxO3ZhciBpPW51bGw7aWYoaT1hLm1ldGhvZD09Y3JlYXRlanMuTWV0aG9kcy5HRVQ/Y3JlYXRlanMuVVJMVXRpbHMuYnVpbGRVUkkoYS5zcmMsYS52YWx1ZXMpOmEuc3JjLGQub3BlbihhLm1ldGhvZHx8Y3JlYXRlanMuTWV0aG9kcy5HRVQsaSwhMCksYiYmZCBpbnN0YW5jZW9mIFhNTEh0dHBSZXF1ZXN0JiYxPT10aGlzLl94aHJMZXZlbCYmKGMuT3JpZ2luPWxvY2F0aW9uLm9yaWdpbiksYS52YWx1ZXMmJmEubWV0aG9kPT1jcmVhdGVqcy5NZXRob2RzLlBPU1QmJihjW1xcXCJDb250ZW50LVR5cGVcXFwiXT1cXFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXFxcIiksYnx8Y1tcXFwiWC1SZXF1ZXN0ZWQtV2l0aFxcXCJdfHwoY1tcXFwiWC1SZXF1ZXN0ZWQtV2l0aFxcXCJdPVxcXCJYTUxIdHRwUmVxdWVzdFxcXCIpLGEuaGVhZGVycylmb3IodmFyIGogaW4gYS5oZWFkZXJzKWNbal09YS5oZWFkZXJzW2pdO2ZvcihqIGluIGMpZC5zZXRSZXF1ZXN0SGVhZGVyKGosY1tqXSk7cmV0dXJuIGQgaW5zdGFuY2VvZiBYTUxIdHRwUmVxdWVzdCYmdm9pZCAwIT09YS53aXRoQ3JlZGVudGlhbHMmJihkLndpdGhDcmVkZW50aWFscz1hLndpdGhDcmVkZW50aWFscyksdGhpcy5fcmVxdWVzdD1kLCEwfSxhLl9jbGVhbj1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCksbnVsbCE9dGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyPyh0aGlzLl9yZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcImxvYWRzdGFydFxcXCIsdGhpcy5faGFuZGxlTG9hZFN0YXJ0UHJveHkpLHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwicHJvZ3Jlc3NcXFwiLHRoaXMuX2hhbmRsZVByb2dyZXNzUHJveHkpLHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwiYWJvcnRcXFwiLHRoaXMuX2hhbmRsZUFib3J0UHJveHkpLHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwiZXJyb3JcXFwiLHRoaXMuX2hhbmRsZUVycm9yUHJveHkpLHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwidGltZW91dFxcXCIsdGhpcy5faGFuZGxlVGltZW91dFByb3h5KSx0aGlzLl9yZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcImxvYWRcXFwiLHRoaXMuX2hhbmRsZUxvYWRQcm94eSksdGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJyZWFkeXN0YXRlY2hhbmdlXFxcIix0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlUHJveHkpKToodGhpcy5fcmVxdWVzdC5vbmxvYWRzdGFydD1udWxsLHRoaXMuX3JlcXVlc3Qub25wcm9ncmVzcz1udWxsLHRoaXMuX3JlcXVlc3Qub25hYm9ydD1udWxsLHRoaXMuX3JlcXVlc3Qub25lcnJvcj1udWxsLHRoaXMuX3JlcXVlc3Qub250aW1lb3V0PW51bGwsdGhpcy5fcmVxdWVzdC5vbmxvYWQ9bnVsbCx0aGlzLl9yZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsKX0sYS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblxcXCJbUHJlbG9hZEpTIFhIUlJlcXVlc3RdXFxcIn0sY3JlYXRlanMuWEhSUmVxdWVzdD1jcmVhdGVqcy5wcm9tb3RlKFhIUlJlcXVlc3QsXFxcIkFic3RyYWN0UmVxdWVzdFxcXCIpfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gTG9hZFF1ZXVlKGEsYixjKXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKCksdGhpcy5fcGx1Z2lucz1bXSx0aGlzLl90eXBlQ2FsbGJhY2tzPXt9LHRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrcz17fSx0aGlzLm5leHQ9bnVsbCx0aGlzLm1haW50YWluU2NyaXB0T3JkZXI9ITAsdGhpcy5zdG9wT25FcnJvcj0hMSx0aGlzLl9tYXhDb25uZWN0aW9ucz0xLHRoaXMuX2F2YWlsYWJsZUxvYWRlcnM9W2NyZWF0ZWpzLkZvbnRMb2FkZXIsY3JlYXRlanMuSW1hZ2VMb2FkZXIsY3JlYXRlanMuSmF2YVNjcmlwdExvYWRlcixjcmVhdGVqcy5DU1NMb2FkZXIsY3JlYXRlanMuSlNPTkxvYWRlcixjcmVhdGVqcy5KU09OUExvYWRlcixjcmVhdGVqcy5Tb3VuZExvYWRlcixjcmVhdGVqcy5NYW5pZmVzdExvYWRlcixjcmVhdGVqcy5TcHJpdGVTaGVldExvYWRlcixjcmVhdGVqcy5YTUxMb2FkZXIsY3JlYXRlanMuU1ZHTG9hZGVyLGNyZWF0ZWpzLkJpbmFyeUxvYWRlcixjcmVhdGVqcy5WaWRlb0xvYWRlcixjcmVhdGVqcy5UZXh0TG9hZGVyXSx0aGlzLl9kZWZhdWx0TG9hZGVyTGVuZ3RoPXRoaXMuX2F2YWlsYWJsZUxvYWRlcnMubGVuZ3RoLHRoaXMuaW5pdChhLGIsYyl9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKExvYWRRdWV1ZSxjcmVhdGVqcy5BYnN0cmFjdExvYWRlciksYj1Mb2FkUXVldWU7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGIse1BPU1Q6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuTWV0aG9kcy5QT1NUfSxcXFwiQWJzdHJhY3RMb2FkZXIuUE9TVFxcXCIpfSxHRVQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuTWV0aG9kcy5HRVR9LFxcXCJBYnN0cmFjdExvYWRlci5HRVRcXFwiKX0sQklOQVJZOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkJJTkFSWX0sXFxcIkFic3RyYWN0TG9hZGVyLkJJTkFSWVxcXCIpfSxDU1M6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuQ1NTfSxcXFwiQWJzdHJhY3RMb2FkZXIuQ1NTXFxcIil9LEZPTlQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuRk9OVH0sXFxcIkFic3RyYWN0TG9hZGVyLkZPTlRcXFwiKX0sRk9OVENTUzp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5GT05UQ1NTfSxcXFwiQWJzdHJhY3RMb2FkZXIuRk9OVENTU1xcXCIpfSxJTUFHRTp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5JTUFHRX0sXFxcIkFic3RyYWN0TG9hZGVyLklNQUdFXFxcIil9LEpBVkFTQ1JJUFQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuSkFWQVNDUklQVH0sXFxcIkFic3RyYWN0TG9hZGVyLkpBVkFTQ1JJUFRcXFwiKX0sSlNPTjp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5KU09OfSxcXFwiQWJzdHJhY3RMb2FkZXIuSlNPTlxcXCIpfSxKU09OUDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5KU09OUH0sXFxcIkFic3RyYWN0TG9hZGVyLkpTT05QXFxcIil9LE1BTklGRVNUOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLk1BTklGRVNUfSxcXFwiQWJzdHJhY3RMb2FkZXIuTUFOSUZFU1RcXFwiKX0sU09VTkQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuU09VTkR9LFxcXCJBYnN0cmFjdExvYWRlci5TT1VORFxcXCIpfSxWSURFTzp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5WSURFT30sXFxcIkFic3RyYWN0TG9hZGVyLlZJREVPXFxcIil9LFNQUklURVNIRUVUOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlNQUklURVNIRUVUfSxcXFwiQWJzdHJhY3RMb2FkZXIuU1BSSVRFU0hFRVRcXFwiKX0sU1ZHOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlNWR30sXFxcIkFic3RyYWN0TG9hZGVyLlNWR1xcXCIpfSxURVhUOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlRFWFR9LFxcXCJBYnN0cmFjdExvYWRlci5URVhUXFxcIil9LFhNTDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5YTUx9LFxcXCJBYnN0cmFjdExvYWRlci5YTUxcXFwiKX19KX1jYXRjaChjKXt9YS5pbml0PWZ1bmN0aW9uKGEsYixjKXt0aGlzLnByZWZlclhIUj0hMCx0aGlzLl9wcmVmZXJYSFI9ITAsdGhpcy5zZXRQcmVmZXJYSFIoYSksdGhpcy5fcGF1c2VkPSExLHRoaXMuX2Jhc2VQYXRoPWIsdGhpcy5fY3Jvc3NPcmlnaW49Yyx0aGlzLl9sb2FkU3RhcnRXYXNEaXNwYXRjaGVkPSExLHRoaXMuX2N1cnJlbnRseUxvYWRpbmdTY3JpcHQ9bnVsbCx0aGlzLl9jdXJyZW50TG9hZHM9W10sdGhpcy5fbG9hZFF1ZXVlPVtdLHRoaXMuX2xvYWRRdWV1ZUJhY2t1cD1bXSx0aGlzLl9sb2FkSXRlbXNCeUlkPXt9LHRoaXMuX2xvYWRJdGVtc0J5U3JjPXt9LHRoaXMuX2xvYWRlZFJlc3VsdHM9e30sdGhpcy5fbG9hZGVkUmF3UmVzdWx0cz17fSx0aGlzLl9udW1JdGVtcz0wLHRoaXMuX251bUl0ZW1zTG9hZGVkPTAsdGhpcy5fc2NyaXB0T3JkZXI9W10sdGhpcy5fbG9hZGVkU2NyaXB0cz1bXSx0aGlzLl9sYXN0UHJvZ3Jlc3M9MC8wfSxhLnJlZ2lzdGVyTG9hZGVyPWZ1bmN0aW9uKGEpe2lmKCFhfHwhYS5jYW5Mb2FkSXRlbSl0aHJvdyBuZXcgRXJyb3IoXFxcImxvYWRlciBpcyBvZiBhbiBpbmNvcnJlY3QgdHlwZS5cXFwiKTtpZigtMSE9dGhpcy5fYXZhaWxhYmxlTG9hZGVycy5pbmRleE9mKGEpKXRocm93IG5ldyBFcnJvcihcXFwibG9hZGVyIGFscmVhZHkgZXhpc3RzLlxcXCIpO3RoaXMuX2F2YWlsYWJsZUxvYWRlcnMudW5zaGlmdChhKX0sYS51bnJlZ2lzdGVyTG9hZGVyPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2F2YWlsYWJsZUxvYWRlcnMuaW5kZXhPZihhKTstMSE9YiYmYjx0aGlzLl9kZWZhdWx0TG9hZGVyTGVuZ3RoLTEmJnRoaXMuX2F2YWlsYWJsZUxvYWRlcnMuc3BsaWNlKGIsMSl9LGEuc2V0UHJlZmVyWEhSPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnByZWZlclhIUj0wIT1hJiZudWxsIT13aW5kb3cuWE1MSHR0cFJlcXVlc3QsdGhpcy5wcmVmZXJYSFJ9LGEucmVtb3ZlQWxsPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmUoKX0sYS5yZW1vdmU9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZihhJiYhQXJyYXkuaXNBcnJheShhKSliPVthXTtlbHNlIGlmKGEpYj1hO2Vsc2UgaWYoYXJndW1lbnRzLmxlbmd0aD4wKXJldHVybjt2YXIgYz0hMTtpZihiKXtmb3IoO2IubGVuZ3RoOyl7dmFyIGQ9Yi5wb3AoKSxlPXRoaXMuZ2V0UmVzdWx0KGQpO2ZvcihmPXRoaXMuX2xvYWRRdWV1ZS5sZW5ndGgtMTtmPj0wO2YtLSlpZihnPXRoaXMuX2xvYWRRdWV1ZVtmXS5nZXRJdGVtKCksZy5pZD09ZHx8Zy5zcmM9PWQpe3RoaXMuX2xvYWRRdWV1ZS5zcGxpY2UoZiwxKVswXS5jYW5jZWwoKTticmVha31mb3IoZj10aGlzLl9sb2FkUXVldWVCYWNrdXAubGVuZ3RoLTE7Zj49MDtmLS0paWYoZz10aGlzLl9sb2FkUXVldWVCYWNrdXBbZl0uZ2V0SXRlbSgpLGcuaWQ9PWR8fGcuc3JjPT1kKXt0aGlzLl9sb2FkUXVldWVCYWNrdXAuc3BsaWNlKGYsMSlbMF0uY2FuY2VsKCk7YnJlYWt9aWYoZSl0aGlzLl9kaXNwb3NlSXRlbSh0aGlzLmdldEl0ZW0oZCkpO2Vsc2UgZm9yKHZhciBmPXRoaXMuX2N1cnJlbnRMb2Fkcy5sZW5ndGgtMTtmPj0wO2YtLSl7dmFyIGc9dGhpcy5fY3VycmVudExvYWRzW2ZdLmdldEl0ZW0oKTtpZihnLmlkPT1kfHxnLnNyYz09ZCl7dGhpcy5fY3VycmVudExvYWRzLnNwbGljZShmLDEpWzBdLmNhbmNlbCgpLGM9ITA7YnJlYWt9fX1jJiZ0aGlzLl9sb2FkTmV4dCgpfWVsc2V7dGhpcy5jbG9zZSgpO2Zvcih2YXIgaCBpbiB0aGlzLl9sb2FkSXRlbXNCeUlkKXRoaXMuX2Rpc3Bvc2VJdGVtKHRoaXMuX2xvYWRJdGVtc0J5SWRbaF0pO3RoaXMuaW5pdCh0aGlzLnByZWZlclhIUix0aGlzLl9iYXNlUGF0aCl9fSxhLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpO2Zvcih2YXIgYSBpbiB0aGlzLl9sb2FkSXRlbXNCeUlkKXRoaXMuX2Rpc3Bvc2VJdGVtKHRoaXMuX2xvYWRJdGVtc0J5SWRbYV0pO2Zvcih2YXIgYj1bXSxjPTAsZD10aGlzLl9sb2FkUXVldWVCYWNrdXAubGVuZ3RoO2Q+YztjKyspYi5wdXNoKHRoaXMuX2xvYWRRdWV1ZUJhY2t1cFtjXS5nZXRJdGVtKCkpO3RoaXMubG9hZE1hbmlmZXN0KGIsITEpfSxhLmluc3RhbGxQbHVnaW49ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmbnVsbCE9YS5nZXRQcmVsb2FkSGFuZGxlcnMpe3RoaXMuX3BsdWdpbnMucHVzaChhKTt2YXIgYj1hLmdldFByZWxvYWRIYW5kbGVycygpO2lmKGIuc2NvcGU9YSxudWxsIT1iLnR5cGVzKWZvcih2YXIgYz0wLGQ9Yi50eXBlcy5sZW5ndGg7ZD5jO2MrKyl0aGlzLl90eXBlQ2FsbGJhY2tzW2IudHlwZXNbY11dPWI7aWYobnVsbCE9Yi5leHRlbnNpb25zKWZvcihjPTAsZD1iLmV4dGVuc2lvbnMubGVuZ3RoO2Q+YztjKyspdGhpcy5fZXh0ZW5zaW9uQ2FsbGJhY2tzW2IuZXh0ZW5zaW9uc1tjXV09Yn19LGEuc2V0TWF4Q29ubmVjdGlvbnM9ZnVuY3Rpb24oYSl7dGhpcy5fbWF4Q29ubmVjdGlvbnM9YSwhdGhpcy5fcGF1c2VkJiZ0aGlzLl9sb2FkUXVldWUubGVuZ3RoPjAmJnRoaXMuX2xvYWROZXh0KCl9LGEubG9hZEZpbGU9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGw9PWEpe3ZhciBkPW5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFxcXCJQUkVMT0FEX05PX0ZJTEVcXFwiKTtyZXR1cm4gdm9pZCB0aGlzLl9zZW5kRXJyb3IoZCl9dGhpcy5fYWRkSXRlbShhLG51bGwsYyksdGhpcy5zZXRQYXVzZWQoYiE9PSExPyExOiEwKX0sYS5sb2FkTWFuaWZlc3Q9ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPW51bGwsZj1udWxsO2lmKEFycmF5LmlzQXJyYXkoYSkpe2lmKDA9PWEubGVuZ3RoKXt2YXIgZz1uZXcgY3JlYXRlanMuRXJyb3JFdmVudChcXFwiUFJFTE9BRF9NQU5JRkVTVF9FTVBUWVxcXCIpO3JldHVybiB2b2lkIHRoaXMuX3NlbmRFcnJvcihnKX1lPWF9ZWxzZSBpZihcXFwic3RyaW5nXFxcIj09dHlwZW9mIGEpZT1be3NyYzphLHR5cGU6Yi5NQU5JRkVTVH1dO2Vsc2V7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBhKXt2YXIgZz1uZXcgY3JlYXRlanMuRXJyb3JFdmVudChcXFwiUFJFTE9BRF9NQU5JRkVTVF9OVUxMXFxcIik7cmV0dXJuIHZvaWQgdGhpcy5fc2VuZEVycm9yKGcpfWlmKHZvaWQgMCE9PWEuc3JjKXtpZihudWxsPT1hLnR5cGUpYS50eXBlPWIuTUFOSUZFU1Q7ZWxzZSBpZihhLnR5cGUhPWIuTUFOSUZFU1Qpe3ZhciBnPW5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFxcXCJQUkVMT0FEX01BTklGRVNUX1RZUEVcXFwiKTt0aGlzLl9zZW5kRXJyb3IoZyl9ZT1bYV19ZWxzZSB2b2lkIDAhPT1hLm1hbmlmZXN0JiYoZT1hLm1hbmlmZXN0LGY9YS5wYXRoKX1mb3IodmFyIGg9MCxpPWUubGVuZ3RoO2k+aDtoKyspdGhpcy5fYWRkSXRlbShlW2hdLGYsZCk7dGhpcy5zZXRQYXVzZWQoYyE9PSExPyExOiEwKX0sYS5sb2FkPWZ1bmN0aW9uKCl7dGhpcy5zZXRQYXVzZWQoITEpfSxhLmdldEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX2xvYWRJdGVtc0J5SWRbYV18fHRoaXMuX2xvYWRJdGVtc0J5U3JjW2FdfSxhLmdldFJlc3VsdD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX2xvYWRJdGVtc0J5SWRbYV18fHRoaXMuX2xvYWRJdGVtc0J5U3JjW2FdO2lmKG51bGw9PWMpcmV0dXJuIG51bGw7dmFyIGQ9Yy5pZDtyZXR1cm4gYiYmdGhpcy5fbG9hZGVkUmF3UmVzdWx0c1tkXT90aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2RdOnRoaXMuX2xvYWRlZFJlc3VsdHNbZF19LGEuZ2V0SXRlbXM9ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIHRoaXMuX2xvYWRJdGVtc0J5SWQpe3ZhciBkPXRoaXMuX2xvYWRJdGVtc0J5SWRbY10sZT10aGlzLmdldFJlc3VsdChjKTsoYSE9PSEwfHxudWxsIT1lKSYmYi5wdXNoKHtpdGVtOmQscmVzdWx0OmUscmF3UmVzdWx0OnRoaXMuZ2V0UmVzdWx0KGMsITApfSl9cmV0dXJuIGJ9LGEuc2V0UGF1c2VkPWZ1bmN0aW9uKGEpe3RoaXMuX3BhdXNlZD1hLHRoaXMuX3BhdXNlZHx8dGhpcy5fbG9hZE5leHQoKX0sYS5jbG9zZT1mdW5jdGlvbigpe2Zvcig7dGhpcy5fY3VycmVudExvYWRzLmxlbmd0aDspdGhpcy5fY3VycmVudExvYWRzLnBvcCgpLmNhbmNlbCgpO3RoaXMuX3NjcmlwdE9yZGVyLmxlbmd0aD0wLHRoaXMuX2xvYWRlZFNjcmlwdHMubGVuZ3RoPTAsdGhpcy5sb2FkU3RhcnRXYXNEaXNwYXRjaGVkPSExLHRoaXMuX2l0ZW1Db3VudD0wLHRoaXMuX2xhc3RQcm9ncmVzcz0wLzB9LGEuX2FkZEl0ZW09ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuX2NyZWF0ZUxvYWRJdGVtKGEsYixjKTtpZihudWxsIT1kKXt2YXIgZT10aGlzLl9jcmVhdGVMb2FkZXIoZCk7bnVsbCE9ZSYmKFxcXCJwbHVnaW5zXFxcImluIGUmJihlLnBsdWdpbnM9dGhpcy5fcGx1Z2lucyksZC5fbG9hZGVyPWUsdGhpcy5fbG9hZFF1ZXVlLnB1c2goZSksdGhpcy5fbG9hZFF1ZXVlQmFja3VwLnB1c2goZSksdGhpcy5fbnVtSXRlbXMrKyx0aGlzLl91cGRhdGVQcm9ncmVzcygpLCh0aGlzLm1haW50YWluU2NyaXB0T3JkZXImJmQudHlwZT09Y3JlYXRlanMuVHlwZXMuSkFWQVNDUklQVHx8ZC5tYWludGFpbk9yZGVyPT09ITApJiYodGhpcy5fc2NyaXB0T3JkZXIucHVzaChkKSx0aGlzLl9sb2FkZWRTY3JpcHRzLnB1c2gobnVsbCkpKX19LGEuX2NyZWF0ZUxvYWRJdGVtPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jcmVhdGVqcy5Mb2FkSXRlbS5jcmVhdGUoYSk7aWYobnVsbD09ZClyZXR1cm4gbnVsbDt2YXIgZT1cXFwiXFxcIixmPWN8fHRoaXMuX2Jhc2VQYXRoO2lmKGQuc3JjIGluc3RhbmNlb2YgT2JqZWN0KXtpZighZC50eXBlKXJldHVybiBudWxsO2lmKGIpe2U9Yjt2YXIgZz1jcmVhdGVqcy5VUkxVdGlscy5wYXJzZVVSSShiKTtudWxsPT1mfHxnLmFic29sdXRlfHxnLnJlbGF0aXZlfHwoZT1mK2UpfWVsc2UgbnVsbCE9ZiYmKGU9Zil9ZWxzZXt2YXIgaD1jcmVhdGVqcy5VUkxVdGlscy5wYXJzZVVSSShkLnNyYyk7aC5leHRlbnNpb24mJihkLmV4dD1oLmV4dGVuc2lvbiksbnVsbD09ZC50eXBlJiYoZC50eXBlPWNyZWF0ZWpzLlJlcXVlc3RVdGlscy5nZXRUeXBlQnlFeHRlbnNpb24oZC5leHQpKTt2YXIgaT1kLnNyYztpZighaC5hYnNvbHV0ZSYmIWgucmVsYXRpdmUpaWYoYil7ZT1iO3ZhciBnPWNyZWF0ZWpzLlVSTFV0aWxzLnBhcnNlVVJJKGIpO2k9YitpLG51bGw9PWZ8fGcuYWJzb2x1dGV8fGcucmVsYXRpdmV8fChlPWYrZSl9ZWxzZSBudWxsIT1mJiYoZT1mKTtkLnNyYz1lK2Quc3JjfWQucGF0aD1lLCh2b2lkIDA9PT1kLmlkfHxudWxsPT09ZC5pZHx8XFxcIlxcXCI9PT1kLmlkKSYmKGQuaWQ9aSk7dmFyIGo9dGhpcy5fdHlwZUNhbGxiYWNrc1tkLnR5cGVdfHx0aGlzLl9leHRlbnNpb25DYWxsYmFja3NbZC5leHRdO2lmKGope3ZhciBrPWouY2FsbGJhY2suY2FsbChqLnNjb3BlLGQsdGhpcyk7aWYoaz09PSExKXJldHVybiBudWxsO2s9PT0hMHx8bnVsbCE9ayYmKGQuX2xvYWRlcj1rKSxoPWNyZWF0ZWpzLlVSTFV0aWxzLnBhcnNlVVJJKGQuc3JjKSxudWxsIT1oLmV4dGVuc2lvbiYmKGQuZXh0PWguZXh0ZW5zaW9uKX1yZXR1cm4gdGhpcy5fbG9hZEl0ZW1zQnlJZFtkLmlkXT1kLHRoaXMuX2xvYWRJdGVtc0J5U3JjW2Quc3JjXT1kLG51bGw9PWQuY3Jvc3NPcmlnaW4mJihkLmNyb3NzT3JpZ2luPXRoaXMuX2Nyb3NzT3JpZ2luKSxkfSxhLl9jcmVhdGVMb2FkZXI9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YS5fbG9hZGVyKXJldHVybiBhLl9sb2FkZXI7Zm9yKHZhciBiPXRoaXMucHJlZmVyWEhSLGM9MDtjPHRoaXMuX2F2YWlsYWJsZUxvYWRlcnMubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5fYXZhaWxhYmxlTG9hZGVyc1tjXTtpZihkJiZkLmNhbkxvYWRJdGVtKGEpKXJldHVybiBuZXcgZChhLGIpfXJldHVybiBudWxsfSxhLl9sb2FkTmV4dD1mdW5jdGlvbigpe2lmKCF0aGlzLl9wYXVzZWQpe3RoaXMuX2xvYWRTdGFydFdhc0Rpc3BhdGNoZWR8fCh0aGlzLl9zZW5kTG9hZFN0YXJ0KCksdGhpcy5fbG9hZFN0YXJ0V2FzRGlzcGF0Y2hlZD0hMCksdGhpcy5fbnVtSXRlbXM9PXRoaXMuX251bUl0ZW1zTG9hZGVkPyh0aGlzLmxvYWRlZD0hMCx0aGlzLl9zZW5kQ29tcGxldGUoKSx0aGlzLm5leHQmJnRoaXMubmV4dC5sb2FkJiZ0aGlzLm5leHQubG9hZCgpKTp0aGlzLmxvYWRlZD0hMTtmb3IodmFyIGE9MDthPHRoaXMuX2xvYWRRdWV1ZS5sZW5ndGgmJiEodGhpcy5fY3VycmVudExvYWRzLmxlbmd0aD49dGhpcy5fbWF4Q29ubmVjdGlvbnMpO2ErKyl7dmFyIGI9dGhpcy5fbG9hZFF1ZXVlW2FdO3RoaXMuX2NhblN0YXJ0TG9hZChiKSYmKHRoaXMuX2xvYWRRdWV1ZS5zcGxpY2UoYSwxKSxhLS0sdGhpcy5fbG9hZEl0ZW0oYikpfX19LGEuX2xvYWRJdGVtPWZ1bmN0aW9uKGEpe2Eub24oXFxcImZpbGVsb2FkXFxcIix0aGlzLl9oYW5kbGVGaWxlTG9hZCx0aGlzKSxhLm9uKFxcXCJwcm9ncmVzc1xcXCIsdGhpcy5faGFuZGxlUHJvZ3Jlc3MsdGhpcyksYS5vbihcXFwiY29tcGxldGVcXFwiLHRoaXMuX2hhbmRsZUZpbGVDb21wbGV0ZSx0aGlzKSxhLm9uKFxcXCJlcnJvclxcXCIsdGhpcy5faGFuZGxlRXJyb3IsdGhpcyksYS5vbihcXFwiZmlsZWVycm9yXFxcIix0aGlzLl9oYW5kbGVGaWxlRXJyb3IsdGhpcyksdGhpcy5fY3VycmVudExvYWRzLnB1c2goYSksdGhpcy5fc2VuZEZpbGVTdGFydChhLmdldEl0ZW0oKSksYS5sb2FkKCl9LGEuX2hhbmRsZUZpbGVMb2FkPWZ1bmN0aW9uKGEpe2EudGFyZ2V0PW51bGwsdGhpcy5kaXNwYXRjaEV2ZW50KGEpfSxhLl9oYW5kbGVGaWxlRXJyb3I9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXFxcIkZJTEVfTE9BRF9FUlJPUlxcXCIsbnVsbCxhLml0ZW0pO3RoaXMuX3NlbmRFcnJvcihiKX0sYS5faGFuZGxlRXJyb3I9ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7dGhpcy5fbnVtSXRlbXNMb2FkZWQrKyx0aGlzLl9maW5pc2hPcmRlcmVkSXRlbShiLCEwKSx0aGlzLl91cGRhdGVQcm9ncmVzcygpO3ZhciBjPW5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFxcXCJGSUxFX0xPQURfRVJST1JcXFwiLG51bGwsYi5nZXRJdGVtKCkpO3RoaXMuX3NlbmRFcnJvcihjKSx0aGlzLnN0b3BPbkVycm9yP3RoaXMuc2V0UGF1c2VkKCEwKToodGhpcy5fcmVtb3ZlTG9hZEl0ZW0oYiksdGhpcy5fY2xlYW5Mb2FkSXRlbShiKSx0aGlzLl9sb2FkTmV4dCgpKX0sYS5faGFuZGxlRmlsZUNvbXBsZXRlPWZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9Yi5nZXRJdGVtKCksZD1iLmdldFJlc3VsdCgpO3RoaXMuX2xvYWRlZFJlc3VsdHNbYy5pZF09ZDt2YXIgZT1iLmdldFJlc3VsdCghMCk7bnVsbCE9ZSYmZSE9PWQmJih0aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2MuaWRdPWUpLHRoaXMuX3NhdmVMb2FkZWRJdGVtcyhiKSx0aGlzLl9yZW1vdmVMb2FkSXRlbShiKSx0aGlzLl9maW5pc2hPcmRlcmVkSXRlbShiKXx8dGhpcy5fcHJvY2Vzc0ZpbmlzaGVkTG9hZChjLGIpLHRoaXMuX2NsZWFuTG9hZEl0ZW0oYil9LGEuX3NhdmVMb2FkZWRJdGVtcz1mdW5jdGlvbihhKXt2YXIgYj1hLmdldExvYWRlZEl0ZW1zKCk7aWYobnVsbCE9PWIpZm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY10uaXRlbTt0aGlzLl9sb2FkSXRlbXNCeVNyY1tkLnNyY109ZCx0aGlzLl9sb2FkSXRlbXNCeUlkW2QuaWRdPWQsdGhpcy5fbG9hZGVkUmVzdWx0c1tkLmlkXT1iW2NdLnJlc3VsdCx0aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2QuaWRdPWJbY10ucmF3UmVzdWx0fX0sYS5fZmluaXNoT3JkZXJlZEl0ZW09ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEl0ZW0oKTtpZih0aGlzLm1haW50YWluU2NyaXB0T3JkZXImJmMudHlwZT09Y3JlYXRlanMuVHlwZXMuSkFWQVNDUklQVHx8Yy5tYWludGFpbk9yZGVyKXthIGluc3RhbmNlb2YgY3JlYXRlanMuSmF2YVNjcmlwdExvYWRlciYmKHRoaXMuX2N1cnJlbnRseUxvYWRpbmdTY3JpcHQ9ITEpO3ZhciBkPWNyZWF0ZWpzLmluZGV4T2YodGhpcy5fc2NyaXB0T3JkZXIsYyk7cmV0dXJuLTE9PWQ/ITE6KHRoaXMuX2xvYWRlZFNjcmlwdHNbZF09Yj09PSEwPyEwOmMsdGhpcy5fY2hlY2tTY3JpcHRMb2FkT3JkZXIoKSwhMCl9cmV0dXJuITF9LGEuX2NoZWNrU2NyaXB0TG9hZE9yZGVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuX2xvYWRlZFNjcmlwdHMubGVuZ3RoLGI9MDthPmI7YisrKXt2YXIgYz10aGlzLl9sb2FkZWRTY3JpcHRzW2JdO2lmKG51bGw9PT1jKWJyZWFrO2lmKGMhPT0hMCl7dmFyIGQ9dGhpcy5fbG9hZGVkUmVzdWx0c1tjLmlkXTtjLnR5cGU9PWNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQmJmNyZWF0ZWpzLkRvbVV0aWxzLmFwcGVuZFRvSGVhZChkKTt2YXIgZT1jLl9sb2FkZXI7dGhpcy5fcHJvY2Vzc0ZpbmlzaGVkTG9hZChjLGUpLHRoaXMuX2xvYWRlZFNjcmlwdHNbYl09ITB9fX0sYS5fcHJvY2Vzc0ZpbmlzaGVkTG9hZD1mdW5jdGlvbihhLGIpe2lmKHRoaXMuX251bUl0ZW1zTG9hZGVkKyssIXRoaXMubWFpbnRhaW5TY3JpcHRPcmRlciYmYS50eXBlPT1jcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUKXt2YXIgYz1iLmdldFRhZygpO2NyZWF0ZWpzLkRvbVV0aWxzLmFwcGVuZFRvSGVhZChjKX10aGlzLl91cGRhdGVQcm9ncmVzcygpLHRoaXMuX3NlbmRGaWxlQ29tcGxldGUoYSxiKSx0aGlzLl9sb2FkTmV4dCgpfSxhLl9jYW5TdGFydExvYWQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMubWFpbnRhaW5TY3JpcHRPcmRlcnx8YS5wcmVmZXJYSFIpcmV0dXJuITA7dmFyIGI9YS5nZXRJdGVtKCk7aWYoYi50eXBlIT1jcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUKXJldHVybiEwO2lmKHRoaXMuX2N1cnJlbnRseUxvYWRpbmdTY3JpcHQpcmV0dXJuITE7Zm9yKHZhciBjPXRoaXMuX3NjcmlwdE9yZGVyLmluZGV4T2YoYiksZD0wO2M+ZDspe3ZhciBlPXRoaXMuX2xvYWRlZFNjcmlwdHNbZF07aWYobnVsbD09ZSlyZXR1cm4hMTtkKyt9cmV0dXJuIHRoaXMuX2N1cnJlbnRseUxvYWRpbmdTY3JpcHQ9ITAsITB9LGEuX3JlbW92ZUxvYWRJdGVtPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoLGM9MDtiPmM7YysrKWlmKHRoaXMuX2N1cnJlbnRMb2Fkc1tjXT09YSl7dGhpcy5fY3VycmVudExvYWRzLnNwbGljZShjLDEpO2JyZWFrfX0sYS5fY2xlYW5Mb2FkSXRlbT1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEl0ZW0oKTtiJiZkZWxldGUgYi5fbG9hZGVyfSxhLl9oYW5kbGVQcm9ncmVzcz1mdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldDt0aGlzLl9zZW5kRmlsZVByb2dyZXNzKGIuZ2V0SXRlbSgpLGIucHJvZ3Jlc3MpLHRoaXMuX3VwZGF0ZVByb2dyZXNzKCl9LGEuX3VwZGF0ZVByb2dyZXNzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fbnVtSXRlbXNMb2FkZWQvdGhpcy5fbnVtSXRlbXMsYj10aGlzLl9udW1JdGVtcy10aGlzLl9udW1JdGVtc0xvYWRlZDtpZihiPjApe2Zvcih2YXIgYz0wLGQ9MCxlPXRoaXMuX2N1cnJlbnRMb2Fkcy5sZW5ndGg7ZT5kO2QrKyljKz10aGlzLl9jdXJyZW50TG9hZHNbZF0ucHJvZ3Jlc3M7YSs9Yy9iKihiL3RoaXMuX251bUl0ZW1zKX10aGlzLl9sYXN0UHJvZ3Jlc3MhPWEmJih0aGlzLl9zZW5kUHJvZ3Jlc3MoYSksdGhpcy5fbGFzdFByb2dyZXNzPWEpfSxhLl9kaXNwb3NlSXRlbT1mdW5jdGlvbihhKXtkZWxldGUgdGhpcy5fbG9hZGVkUmVzdWx0c1thLmlkXSxkZWxldGUgdGhpcy5fbG9hZGVkUmF3UmVzdWx0c1thLmlkXSxkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlJZFthLmlkXSxkZWxldGUgdGhpcy5fbG9hZEl0ZW1zQnlTcmNbYS5zcmNdfSxhLl9zZW5kRmlsZVByb2dyZXNzPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuX2lzQ2FuY2VsZWQoKSYmIXRoaXMuX3BhdXNlZCYmdGhpcy5oYXNFdmVudExpc3RlbmVyKFxcXCJmaWxlcHJvZ3Jlc3NcXFwiKSl7dmFyIGM9bmV3IGNyZWF0ZWpzLkV2ZW50KFxcXCJmaWxlcHJvZ3Jlc3NcXFwiKTtjLnByb2dyZXNzPWIsYy5sb2FkZWQ9YixjLnRvdGFsPTEsYy5pdGVtPWEsdGhpcy5kaXNwYXRjaEV2ZW50KGMpfX0sYS5fc2VuZEZpbGVDb21wbGV0ZT1mdW5jdGlvbihhLGIpe2lmKCF0aGlzLl9pc0NhbmNlbGVkKCkmJiF0aGlzLl9wYXVzZWQpe3ZhciBjPW5ldyBjcmVhdGVqcy5FdmVudChcXFwiZmlsZWxvYWRcXFwiKTtjLmxvYWRlcj1iLGMuaXRlbT1hLGMucmVzdWx0PXRoaXMuX2xvYWRlZFJlc3VsdHNbYS5pZF0sYy5yYXdSZXN1bHQ9dGhpcy5fbG9hZGVkUmF3UmVzdWx0c1thLmlkXSxhLmNvbXBsZXRlSGFuZGxlciYmYS5jb21wbGV0ZUhhbmRsZXIoYyksdGhpcy5oYXNFdmVudExpc3RlbmVyKFxcXCJmaWxlbG9hZFxcXCIpJiZ0aGlzLmRpc3BhdGNoRXZlbnQoYyl9fSxhLl9zZW5kRmlsZVN0YXJ0PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBjcmVhdGVqcy5FdmVudChcXFwiZmlsZXN0YXJ0XFxcIik7Yi5pdGVtPWEsdGhpcy5oYXNFdmVudExpc3RlbmVyKFxcXCJmaWxlc3RhcnRcXFwiKSYmdGhpcy5kaXNwYXRjaEV2ZW50KGIpfSxhLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXFxcIltQcmVsb2FkSlMgTG9hZFF1ZXVlXVxcXCJ9LGNyZWF0ZWpzLkxvYWRRdWV1ZT1jcmVhdGVqcy5wcm9tb3RlKExvYWRRdWV1ZSxcXFwiQWJzdHJhY3RMb2FkZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIFRleHRMb2FkZXIoYSl7dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3RvcihhLCEwLGNyZWF0ZWpzLlR5cGVzLlRFWFQpfXZhciBhPShjcmVhdGVqcy5leHRlbmQoVGV4dExvYWRlcixjcmVhdGVqcy5BYnN0cmFjdExvYWRlciksVGV4dExvYWRlcik7YS5jYW5Mb2FkSXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1jcmVhdGVqcy5UeXBlcy5URVhUfSxjcmVhdGVqcy5UZXh0TG9hZGVyPWNyZWF0ZWpzLnByb21vdGUoVGV4dExvYWRlcixcXFwiQWJzdHJhY3RMb2FkZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIEJpbmFyeUxvYWRlcihhKXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGEsITAsY3JlYXRlanMuVHlwZXMuQklOQVJZKSx0aGlzLm9uKFxcXCJpbml0aWFsaXplXFxcIix0aGlzLl91cGRhdGVYSFIsdGhpcyl9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKEJpbmFyeUxvYWRlcixjcmVhdGVqcy5BYnN0cmFjdExvYWRlciksYj1CaW5hcnlMb2FkZXI7Yi5jYW5Mb2FkSXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1jcmVhdGVqcy5UeXBlcy5CSU5BUll9LGEuX3VwZGF0ZVhIUj1mdW5jdGlvbihhKXthLmxvYWRlci5zZXRSZXNwb25zZVR5cGUoXFxcImFycmF5YnVmZmVyXFxcIil9LGNyZWF0ZWpzLkJpbmFyeUxvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKEJpbmFyeUxvYWRlcixcXFwiQWJzdHJhY3RMb2FkZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIENTU0xvYWRlcihhLGIpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSxiLGNyZWF0ZWpzLlR5cGVzLkNTUyksdGhpcy5yZXN1bHRGb3JtYXR0ZXI9dGhpcy5fZm9ybWF0UmVzdWx0LHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZT1cXFwiaHJlZlxcXCIsdGhpcy5fdGFnPWI/Y3JlYXRlanMuRWxlbWVudHMuc3R5bGUoKTpjcmVhdGVqcy5FbGVtZW50cy5saW5rKCksdGhpcy5fdGFnLnJlbD1cXFwic3R5bGVzaGVldFxcXCIsdGhpcy5fdGFnLnR5cGU9XFxcInRleHQvY3NzXFxcIn12YXIgYT1jcmVhdGVqcy5leHRlbmQoQ1NTTG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSxiPUNTU0xvYWRlcjtiLmNhbkxvYWRJdGVtPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PWNyZWF0ZWpzLlR5cGVzLkNTU30sYS5fZm9ybWF0UmVzdWx0PWZ1bmN0aW9uKGEpe2lmKHRoaXMuX3ByZWZlclhIUil7dmFyIGI9YS5nZXRUYWcoKTtpZihiLnN0eWxlU2hlZXQpYi5zdHlsZVNoZWV0LmNzc1RleHQ9YS5nZXRSZXN1bHQoITApO2Vsc2V7dmFyIGM9Y3JlYXRlanMuRWxlbWVudHMudGV4dChhLmdldFJlc3VsdCghMCkpO2IuYXBwZW5kQ2hpbGQoYyl9fWVsc2UgYj10aGlzLl90YWc7cmV0dXJuIGNyZWF0ZWpzLkRvbVV0aWxzLmFwcGVuZFRvSGVhZChiKSxifSxjcmVhdGVqcy5DU1NMb2FkZXI9Y3JlYXRlanMucHJvbW90ZShDU1NMb2FkZXIsXFxcIkFic3RyYWN0TG9hZGVyXFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBGb250TG9hZGVyKGEsYil7dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3RvcihhLGIsYS50eXBlKSx0aGlzLl9mYWNlcz17fSx0aGlzLl93YXRjaGVkPVtdLHRoaXMuX2NvdW50PTAsdGhpcy5fd2F0Y2hJbnRlcnZhbD1udWxsLHRoaXMuX2xvYWRUaW1lb3V0PW51bGwsdGhpcy5faW5qZWN0Q1NTPXZvaWQgMD09PWEuaW5qZWN0Q1NTPyEwOmEuaW5qZWN0Q1NTLHRoaXMuZGlzcGF0Y2hFdmVudChcXFwiaW5pdGlhbGl6ZVxcXCIpfXZhciBhPWNyZWF0ZWpzLmV4dGVuZChGb250TG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKTtGb250TG9hZGVyLmNhbkxvYWRJdGVtPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PWNyZWF0ZWpzLlR5cGVzLkZPTlR8fGEudHlwZT09Y3JlYXRlanMuVHlwZXMuRk9OVENTU30sRm9udExvYWRlci5zYW1wbGVUZXh0PVxcXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiBBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlxcXCIsRm9udExvYWRlci5fY3R4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXFxcImNhbnZhc1xcXCIpLmdldENvbnRleHQoXFxcIjJkXFxcIiksRm9udExvYWRlci5fcmVmZXJlbmNlRm9udHM9W1xcXCJzZXJpZlxcXCIsXFxcIm1vbm9zcGFjZVxcXCJdLEZvbnRMb2FkZXIuV0VJR0hUX1JFR0VYPS9bLSAuX10qKHRoaW58bm9ybWFsfGJvb2t8cmVndWxhcnxtZWRpdW18YmxhY2t8aGVhdnl8WzEtOV0wMHwoPzpleHRyYXx1bHRyYXxzZW1pfGRlbWkpP1stIC5fXSooPzpsaWdodHxib2xkKSlbLSAuX10qL2dpLEZvbnRMb2FkZXIuU1RZTEVfUkVHRVg9L1stIC5fXSooaXRhbGljfG9ibGlxdWUpWy0gLl9dKi9naSxGb250TG9hZGVyLkZPTlRfRk9STUFUPXt3b2ZmMjpcXFwid29mZjJcXFwiLHdvZmY6XFxcIndvZmZcXFwiLHR0ZjpcXFwidHJ1ZXR5cGVcXFwiLG90ZjpcXFwidHJ1ZXR5cGVcXFwifSxGb250TG9hZGVyLkZPTlRfV0VJR0hUPXt0aGluOjEwMCxleHRyYWxpZ2h0OjIwMCx1bHRyYWxpZ2h0OjIwMCxsaWdodDozMDAsc2VtaWxpZ2h0OjMwMCxkZW1pbGlnaHQ6MzAwLGJvb2s6XFxcIm5vcm1hbFxcXCIscmVndWxhcjpcXFwibm9ybWFsXFxcIixzZW1pYm9sZDo2MDAsZGVtaWJvbGQ6NjAwLGV4dHJhYm9sZDo4MDAsdWx0cmFib2xkOjgwMCxibGFjazo5MDAsaGVhdnk6OTAwfSxGb250TG9hZGVyLldBVENIX0RVUkFUSU9OPTEwLGEubG9hZD1mdW5jdGlvbigpe2lmKHRoaXMudHlwZT09Y3JlYXRlanMuVHlwZXMuRk9OVENTUyl7dmFyIGE9dGhpcy5fd2F0Y2hDU1MoKTtpZighYSlyZXR1cm4gdm9pZCB0aGlzLkFic3RyYWN0TG9hZGVyX2xvYWQoKX1lbHNlIGlmKHRoaXMuX2l0ZW0uc3JjIGluc3RhbmNlb2YgQXJyYXkpdGhpcy5fd2F0Y2hGb250QXJyYXkoKTtlbHNle3ZhciBiPXRoaXMuX2RlZkZyb21TcmModGhpcy5faXRlbS5zcmMpO3RoaXMuX3dhdGNoRm9udChiKSx0aGlzLl9pbmplY3RTdHlsZVRhZyh0aGlzLl9jc3NGcm9tRGVmKGIpKX10aGlzLl9sb2FkVGltZW91dD1zZXRUaW1lb3V0KGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRpbWVvdXQsdGhpcyksdGhpcy5faXRlbS5sb2FkVGltZW91dCksdGhpcy5kaXNwYXRjaEV2ZW50KFxcXCJsb2Fkc3RhcnRcXFwiKX0sYS5faGFuZGxlVGltZW91dD1mdW5jdGlvbigpe3RoaXMuX3N0b3BXYXRjaGluZygpLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcXFwiUFJFTE9BRF9USU1FT1VUXFxcIikpfSxhLl9jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlcXVlc3R9LGEuaGFuZGxlRXZlbnQ9ZnVuY3Rpb24oYSl7c3dpdGNoKGEudHlwZSl7Y2FzZVxcXCJjb21wbGV0ZVxcXCI6dGhpcy5fcmF3UmVzdWx0PWEudGFyZ2V0Ll9yZXNwb25zZSx0aGlzLl9yZXN1bHQ9ITAsdGhpcy5fcGFyc2VDU1ModGhpcy5fcmF3UmVzdWx0KTticmVhaztjYXNlXFxcImVycm9yXFxcIjp0aGlzLl9zdG9wV2F0Y2hpbmcoKSx0aGlzLkFic3RyYWN0TG9hZGVyX2hhbmRsZUV2ZW50KGEpfX0sYS5fd2F0Y2hDU1M9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9pdGVtLnNyYztyZXR1cm4gYSBpbnN0YW5jZW9mIEhUTUxTdHlsZUVsZW1lbnQmJih0aGlzLl9pbmplY3RDU1MmJiFhLnBhcmVudE5vZGUmJihkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwiaGVhZFxcXCIpWzBdKS5hcHBlbmRDaGlsZChhKSx0aGlzLl9pbmplY3RDU1M9ITEsYT1cXFwiXFxcXG5cXFwiK2EudGV4dENvbnRlbnQpLC0xIT09YS5zZWFyY2goL1xcXFxufFxcXFxyfEBmb250LWZhY2UvaSk/KHRoaXMuX3BhcnNlQ1NTKGEpLCEwKToodGhpcy5fcmVxdWVzdD1uZXcgY3JlYXRlanMuWEhSUmVxdWVzdCh0aGlzLl9pdGVtKSwhMSl9LGEuX3BhcnNlQ1NTPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0vQGZvbnQtZmFjZVxcXFxzKlxcXFx7KFtefV0rKX0vZzs7KXt2YXIgYz1iLmV4ZWMoYSk7aWYoIWMpYnJlYWs7dGhpcy5fd2F0Y2hGb250KHRoaXMuX3BhcnNlRm9udEZhY2UoY1sxXSkpfXRoaXMuX2luamVjdFN0eWxlVGFnKGEpfSxhLl93YXRjaEZvbnRBcnJheT1mdW5jdGlvbigpe2Zvcih2YXIgYSxiPXRoaXMuX2l0ZW0uc3JjLGM9XFxcIlxcXCIsZD1iLmxlbmd0aC0xO2Q+PTA7ZC0tKXt2YXIgZT1iW2RdO2E9XFxcInN0cmluZ1xcXCI9PXR5cGVvZiBlP3RoaXMuX2RlZkZyb21TcmMoZSk6dGhpcy5fZGVmRnJvbU9iaihlKSx0aGlzLl93YXRjaEZvbnQoYSksYys9dGhpcy5fY3NzRnJvbURlZihhKStcXFwiXFxcXG5cXFwifXRoaXMuX2luamVjdFN0eWxlVGFnKGMpfSxhLl9pbmplY3RTdHlsZVRhZz1mdW5jdGlvbihhKXtpZih0aGlzLl9pbmplY3RDU1Mpe3ZhciBiPWRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJoZWFkXFxcIilbMF0sYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJzdHlsZVxcXCIpO2MudHlwZT1cXFwidGV4dC9jc3NcXFwiLGMuc3R5bGVTaGVldD9jLnN0eWxlU2hlZXQuY3NzVGV4dD1hOmMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpLGIuYXBwZW5kQ2hpbGQoYyl9fSxhLl9wYXJzZUZvbnRGYWNlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX2dldENTU1ZhbHVlKGEsXFxcImZvbnQtZmFtaWx5XFxcIiksYz10aGlzLl9nZXRDU1NWYWx1ZShhLFxcXCJzcmNcXFwiKTtyZXR1cm4gYiYmYz90aGlzLl9kZWZGcm9tT2JqKHtmYW1pbHk6YixzcmM6YyxzdHlsZTp0aGlzLl9nZXRDU1NWYWx1ZShhLFxcXCJmb250LXN0eWxlXFxcIiksd2VpZ2h0OnRoaXMuX2dldENTU1ZhbHVlKGEsXFxcImZvbnQtd2VpZ2h0XFxcIil9KTpudWxsfSxhLl93YXRjaEZvbnQ9ZnVuY3Rpb24oYSl7YSYmIXRoaXMuX2ZhY2VzW2EuaWRdJiYodGhpcy5fZmFjZXNbYS5pZF09YSx0aGlzLl93YXRjaGVkLnB1c2goYSksdGhpcy5fY291bnQrKyx0aGlzLl9jYWxjdWxhdGVSZWZlcmVuY2VTaXplcyhhKSx0aGlzLl9zdGFydFdhdGNoaW5nKCkpfSxhLl9zdGFydFdhdGNoaW5nPWZ1bmN0aW9uKCl7bnVsbD09dGhpcy5fd2F0Y2hJbnRlcnZhbCYmKHRoaXMuX3dhdGNoSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoY3JlYXRlanMucHJveHkodGhpcy5fd2F0Y2gsdGhpcyksRm9udExvYWRlci5XQVRDSF9EVVJBVElPTikpfSxhLl9zdG9wV2F0Y2hpbmc9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRoaXMuX3dhdGNoSW50ZXJ2YWwpLGNsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCksdGhpcy5fd2F0Y2hJbnRlcnZhbD1udWxsfSxhLl93YXRjaD1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLl93YXRjaGVkLGI9Rm9udExvYWRlci5fcmVmZXJlbmNlRm9udHMsYz1hLmxlbmd0aCxkPWMtMTtkPj0wO2QtLSlmb3IodmFyIGU9YVtkXSxmPWUucmVmcyxnPWYubGVuZ3RoLTE7Zz49MDtnLS0pe3ZhciBoPXRoaXMuX2dldFRleHRXaWR0aChlLmZhbWlseStcXFwiLFxcXCIrYltnXSxlLndlaWdodCxlLnN0eWxlKTtpZihoIT1mW2ddKXt2YXIgaT1uZXcgY3JlYXRlanMuRXZlbnQoXFxcImZpbGVsb2FkXFxcIik7ZS50eXBlPVxcXCJmb250LWZhbWlseVxcXCIsaS5pdGVtPWUsdGhpcy5kaXNwYXRjaEV2ZW50KGkpLGEuc3BsaWNlKGQsMSk7YnJlYWt9fWlmKGMhPT1hLmxlbmd0aCl7dmFyIGk9bmV3IGNyZWF0ZWpzLlByb2dyZXNzRXZlbnQodGhpcy5fY291bnQtYS5sZW5ndGgsdGhpcy5fY291bnQpO3RoaXMuZGlzcGF0Y2hFdmVudChpKX0wPT09YyYmKHRoaXMuX3N0b3BXYXRjaGluZygpLHRoaXMuX3NlbmRDb21wbGV0ZSgpKX0sYS5fY2FsY3VsYXRlUmVmZXJlbmNlU2l6ZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPUZvbnRMb2FkZXIuX3JlZmVyZW5jZUZvbnRzLGM9YS5yZWZzPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyljW2RdPXRoaXMuX2dldFRleHRXaWR0aChiW2RdLGEud2VpZ2h0LGEuc3R5bGUpfSxhLl9kZWZGcm9tU3JjPWZ1bmN0aW9uKGEpe3ZhciBiLGM9L1stIC5fXSsvZyxkPWEsZT1udWxsO2I9ZC5zZWFyY2goL1s/I10vKSwtMSE9PWImJihkPWQuc3Vic3RyKDAsYikpLGI9ZC5sYXN0SW5kZXhPZihcXFwiLlxcXCIpLC0xIT09YiYmKGU9ZC5zdWJzdHIoYisxKSxkPWQuc3Vic3RyKDAsYikpLGI9ZC5sYXN0SW5kZXhPZihcXFwiL1xcXCIpLC0xIT09YiYmKGQ9ZC5zdWJzdHIoYisxKSk7dmFyIGY9ZCxnPWYubWF0Y2goRm9udExvYWRlci5XRUlHSFRfUkVHRVgpO2cmJihnPWdbMF0sZj1mLnJlcGxhY2UoZyxcXFwiXFxcIiksZz1nLnJlcGxhY2UoYyxcXFwiXFxcIikudG9Mb3dlckNhc2UoKSk7dmFyIGg9ZC5tYXRjaChGb250TG9hZGVyLlNUWUxFX1JFR0VYKTtoJiYoZj1mLnJlcGxhY2UoaFswXSxcXFwiXFxcIiksaD1cXFwiaXRhbGljXFxcIiksZj1mLnJlcGxhY2UoYyxcXFwiXFxcIik7dmFyIGk9XFxcImxvY2FsKCdcXFwiK2QucmVwbGFjZShjLFxcXCIgXFxcIikrXFxcIicpLCB1cmwoJ1xcXCIrYStcXFwiJylcXFwiLGo9Rm9udExvYWRlci5GT05UX0ZPUk1BVFtlXTtyZXR1cm4gaiYmKGkrPVxcXCIgZm9ybWF0KCdcXFwiK2orXFxcIicpXFxcIiksdGhpcy5fZGVmRnJvbU9iaih7ZmFtaWx5OmYsd2VpZ2h0OkZvbnRMb2FkZXIuRk9OVF9XRUlHSFRbZ118fGcsc3R5bGU6aCxzcmM6aX0pfSxhLl9kZWZGcm9tT2JqPWZ1bmN0aW9uKGEpe3ZhciBiPXtmYW1pbHk6YS5mYW1pbHksc3JjOmEuc3JjLHN0eWxlOmEuc3R5bGV8fFxcXCJub3JtYWxcXFwiLHdlaWdodDphLndlaWdodHx8XFxcIm5vcm1hbFxcXCJ9O3JldHVybiBiLmlkPWIuZmFtaWx5K1xcXCI7XFxcIitiLnN0eWxlK1xcXCI7XFxcIitiLndlaWdodCxifSxhLl9jc3NGcm9tRGVmPWZ1bmN0aW9uKGEpe3JldHVyblxcXCJAZm9udC1mYWNlIHtcXFxcblxcdGZvbnQtZmFtaWx5OiAnXFxcIithLmZhbWlseStcXFwiJztcXFxcblxcdGZvbnQtc3R5bGU6IFxcXCIrYS5zdHlsZStcXFwiO1xcXFxuXFx0Zm9udC13ZWlnaHQ6IFxcXCIrYS53ZWlnaHQrXFxcIjtcXFxcblxcdHNyYzogXFxcIithLnNyYytcXFwiO1xcXFxufVxcXCJ9LGEuX2dldFRleHRXaWR0aD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Rm9udExvYWRlci5fY3R4O3JldHVybiBkLmZvbnQ9YytcXFwiIFxcXCIrYitcXFwiIDcycHggXFxcIithLGQubWVhc3VyZVRleHQoRm9udExvYWRlci5zYW1wbGVUZXh0KS53aWR0aH0sYS5fZ2V0Q1NTVmFsdWU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgUmVnRXhwKGIrXFxcIjpzKihbXjt9XSs/KXMqWzt9XVxcXCIpLGQ9Yy5leGVjKGEpO3JldHVybiBkJiZkWzFdP2RbMV06bnVsbH0sY3JlYXRlanMuRm9udExvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKEZvbnRMb2FkZXIsXFxcIkFic3RyYWN0TG9hZGVyXFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBJbWFnZUxvYWRlcihhLGIpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSxiLGNyZWF0ZWpzLlR5cGVzLklNQUdFKSx0aGlzLnJlc3VsdEZvcm1hdHRlcj10aGlzLl9mb3JtYXRSZXN1bHQsdGhpcy5fdGFnU3JjQXR0cmlidXRlPVxcXCJzcmNcXFwiLGNyZWF0ZWpzLkRvbVV0aWxzLmlzSW1hZ2VUYWcoYSk/dGhpcy5fdGFnPWE6Y3JlYXRlanMuRG9tVXRpbHMuaXNJbWFnZVRhZyhhLnNyYyk/dGhpcy5fdGFnPWEuc3JjOmNyZWF0ZWpzLkRvbVV0aWxzLmlzSW1hZ2VUYWcoYS50YWcpJiYodGhpcy5fdGFnPWEudGFnKSxudWxsIT10aGlzLl90YWc/dGhpcy5fcHJlZmVyWEhSPSExOnRoaXMuX3RhZz1jcmVhdGVqcy5FbGVtZW50cy5pbWcoKSx0aGlzLm9uKFxcXCJpbml0aWFsaXplXFxcIix0aGlzLl91cGRhdGVYSFIsdGhpcyl9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKEltYWdlTG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSxiPUltYWdlTG9hZGVyO2IuY2FuTG9hZEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Y3JlYXRlanMuVHlwZXMuSU1BR0V9LGEubG9hZD1mdW5jdGlvbigpe2lmKFxcXCJcXFwiIT10aGlzLl90YWcuc3JjJiZ0aGlzLl90YWcuY29tcGxldGUpcmV0dXJuIHZvaWQgdGhpcy5fc2VuZENvbXBsZXRlKCk7dmFyIGE9dGhpcy5faXRlbS5jcm9zc09yaWdpbjsxPT1hJiYoYT1cXFwiQW5vbnltb3VzXFxcIiksbnVsbD09YXx8Y3JlYXRlanMuVVJMVXRpbHMuaXNMb2NhbCh0aGlzLl9pdGVtKXx8KHRoaXMuX3RhZy5jcm9zc09yaWdpbj1hKSx0aGlzLkFic3RyYWN0TG9hZGVyX2xvYWQoKX0sYS5fdXBkYXRlWEhSPWZ1bmN0aW9uKGEpe2EubG9hZGVyLm1pbWVUeXBlPVxcXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkLWJpbmFyeVxcXCIsYS5sb2FkZXIuc2V0UmVzcG9uc2VUeXBlJiZhLmxvYWRlci5zZXRSZXNwb25zZVR5cGUoXFxcImJsb2JcXFwiKX0sYS5fZm9ybWF0UmVzdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zvcm1hdEltYWdlfSxhLl9mb3JtYXRJbWFnZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX3RhZyxkPXdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkw7aWYodGhpcy5fcHJlZmVyWEhSKWlmKGQpe3ZhciBlPWQuY3JlYXRlT2JqZWN0VVJMKHRoaXMuZ2V0UmVzdWx0KCEwKSk7Yy5zcmM9ZSxjLmFkZEV2ZW50TGlzdGVuZXIoXFxcImxvYWRcXFwiLHRoaXMuX2NsZWFuVXBVUkwsITEpLGMuYWRkRXZlbnRMaXN0ZW5lcihcXFwiZXJyb3JcXFwiLHRoaXMuX2NsZWFuVXBVUkwsITEpfWVsc2UgYy5zcmM9dGhpcy5faXRlbS5zcmM7ZWxzZTtjLmNvbXBsZXRlP2EoYyk6KGMub25sb2FkPWNyZWF0ZWpzLnByb3h5KGZ1bmN0aW9uKCl7YSh0aGlzLl90YWcpLGMub25sb2FkPWMub25lcnJvcj1udWxsfSx0aGlzKSxjLm9uZXJyb3I9Y3JlYXRlanMucHJveHkoZnVuY3Rpb24oYSl7YihuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcXFwiSU1BR0VfRk9STUFUXFxcIixudWxsLGEpKSxjLm9ubG9hZD1jLm9uZXJyb3I9bnVsbH0sdGhpcykpfSxhLl9jbGVhblVwVVJMPWZ1bmN0aW9uKGEpe3ZhciBiPXdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkw7Yi5yZXZva2VPYmplY3RVUkwoYS50YXJnZXQuc3JjKX0sY3JlYXRlanMuSW1hZ2VMb2FkZXI9Y3JlYXRlanMucHJvbW90ZShJbWFnZUxvYWRlcixcXFwiQWJzdHJhY3RMb2FkZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIEphdmFTY3JpcHRMb2FkZXIoYSxiKXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGEsYixjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUKSx0aGlzLnJlc3VsdEZvcm1hdHRlcj10aGlzLl9mb3JtYXRSZXN1bHQsdGhpcy5fdGFnU3JjQXR0cmlidXRlPVxcXCJzcmNcXFwiLHRoaXMuc2V0VGFnKGNyZWF0ZWpzLkVsZW1lbnRzLnNjcmlwdCgpKX12YXIgYT1jcmVhdGVqcy5leHRlbmQoSmF2YVNjcmlwdExvYWRlcixjcmVhdGVqcy5BYnN0cmFjdExvYWRlciksYj1KYXZhU2NyaXB0TG9hZGVyO2IuY2FuTG9hZEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Y3JlYXRlanMuVHlwZXMuSkFWQVNDUklQVH0sYS5fZm9ybWF0UmVzdWx0PWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0VGFnKCk7cmV0dXJuIHRoaXMuX3ByZWZlclhIUiYmKGIudGV4dD1hLmdldFJlc3VsdCghMCkpLGJ9LGNyZWF0ZWpzLkphdmFTY3JpcHRMb2FkZXI9Y3JlYXRlanMucHJvbW90ZShKYXZhU2NyaXB0TG9hZGVyLFxcXCJBYnN0cmFjdExvYWRlclxcXCIpfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gSlNPTkxvYWRlcihhKXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGEsITAsY3JlYXRlanMuVHlwZXMuSlNPTiksdGhpcy5yZXN1bHRGb3JtYXR0ZXI9dGhpcy5fZm9ybWF0UmVzdWx0fXZhciBhPWNyZWF0ZWpzLmV4dGVuZChKU09OTG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSxiPUpTT05Mb2FkZXI7Yi5jYW5Mb2FkSXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1jcmVhdGVqcy5UeXBlcy5KU09OfSxhLl9mb3JtYXRSZXN1bHQ9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDt0cnl7Yj1jcmVhdGVqcy5EYXRhVXRpbHMucGFyc2VKU09OKGEuZ2V0UmVzdWx0KCEwKSl9Y2F0Y2goYyl7dmFyIGQ9bmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXFxcIkpTT05fRk9STUFUXFxcIixudWxsLGMpO3JldHVybiB0aGlzLl9zZW5kRXJyb3IoZCksY31yZXR1cm4gYn0sY3JlYXRlanMuSlNPTkxvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKEpTT05Mb2FkZXIsXFxcIkFic3RyYWN0TG9hZGVyXFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBKU09OUExvYWRlcihhKXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGEsITEsY3JlYXRlanMuVHlwZXMuSlNPTlApLHRoaXMuc2V0VGFnKGNyZWF0ZWpzLkVsZW1lbnRzLnNjcmlwdCgpKSx0aGlzLmdldFRhZygpLnR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCJ9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKEpTT05QTG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSxiPUpTT05QTG9hZGVyO2IuY2FuTG9hZEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Y3JlYXRlanMuVHlwZXMuSlNPTlB9LGEuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5BYnN0cmFjdExvYWRlcl9jYW5jZWwoKSx0aGlzLl9kaXNwb3NlKCl9LGEubG9hZD1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMuX2l0ZW0uY2FsbGJhY2spdGhyb3cgbmV3IEVycm9yKFxcXCJjYWxsYmFjayBpcyByZXF1aXJlZCBmb3IgbG9hZGluZyBKU09OUCByZXF1ZXN0cy5cXFwiKTtpZihudWxsIT13aW5kb3dbdGhpcy5faXRlbS5jYWxsYmFja10pdGhyb3cgbmV3IEVycm9yKFxcXCJKU09OUCBjYWxsYmFjayAnXFxcIit0aGlzLl9pdGVtLmNhbGxiYWNrK1xcXCInIGFscmVhZHkgZXhpc3RzIG9uIHdpbmRvdy4gWW91IG5lZWQgdG8gc3BlY2lmeSBhIGRpZmZlcmVudCBjYWxsYmFjayBvciByZS1uYW1lIHRoZSBjdXJyZW50IG9uZS5cXFwiKTt3aW5kb3dbdGhpcy5faXRlbS5jYWxsYmFja109Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZCx0aGlzKSxjcmVhdGVqcy5Eb21VdGlscy5hcHBlbmRUb0JvZHkodGhpcy5fdGFnKSx0aGlzLl9sb2FkVGltZW91dD1zZXRUaW1lb3V0KGNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRpbWVvdXQsdGhpcyksdGhpcy5faXRlbS5sb2FkVGltZW91dCksdGhpcy5fdGFnLnNyYz10aGlzLl9pdGVtLnNyY30sYS5faGFuZGxlTG9hZD1mdW5jdGlvbihhKXt0aGlzLl9yZXN1bHQ9dGhpcy5fcmF3UmVzdWx0PWEsdGhpcy5fc2VuZENvbXBsZXRlKCksdGhpcy5fZGlzcG9zZSgpfSxhLl9oYW5kbGVUaW1lb3V0PWZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZSgpLHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcXFwidGltZW91dFxcXCIpKX0sYS5fZGlzcG9zZT1mdW5jdGlvbigpe2NyZWF0ZWpzLkRvbVV0aWxzLnJlbW92ZUNoaWxkKHRoaXMuX3RhZyksZGVsZXRlIHdpbmRvd1t0aGlzLl9pdGVtLmNhbGxiYWNrXSxjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpfSxjcmVhdGVqcy5KU09OUExvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKEpTT05QTG9hZGVyLFxcXCJBYnN0cmFjdExvYWRlclxcXCIpfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gTWFuaWZlc3RMb2FkZXIoYSxiKXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGEsYixjcmVhdGVqcy5UeXBlcy5NQU5JRkVTVCksdGhpcy5wbHVnaW5zPW51bGwsdGhpcy5fbWFuaWZlc3RRdWV1ZT1udWxsfXZhciBhPWNyZWF0ZWpzLmV4dGVuZChNYW5pZmVzdExvYWRlcixjcmVhdGVqcy5BYnN0cmFjdExvYWRlciksYj1NYW5pZmVzdExvYWRlcjtiLk1BTklGRVNUX1BST0dSRVNTPS4yNSxiLmNhbkxvYWRJdGVtPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PWNyZWF0ZWpzLlR5cGVzLk1BTklGRVNUfSxhLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLkFic3RyYWN0TG9hZGVyX2xvYWQoKX0sYS5fY3JlYXRlUmVxdWVzdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX2l0ZW0uY2FsbGJhY2s7dGhpcy5fcmVxdWVzdD1udWxsIT1hP25ldyBjcmVhdGVqcy5KU09OUExvYWRlcih0aGlzLl9pdGVtKTpuZXcgY3JlYXRlanMuSlNPTkxvYWRlcih0aGlzLl9pdGVtKX0sYS5oYW5kbGVFdmVudD1mdW5jdGlvbihhKXtzd2l0Y2goYS50eXBlKXtjYXNlXFxcImNvbXBsZXRlXFxcIjpyZXR1cm4gdGhpcy5fcmF3UmVzdWx0PWEudGFyZ2V0LmdldFJlc3VsdCghMCksdGhpcy5fcmVzdWx0PWEudGFyZ2V0LmdldFJlc3VsdCgpLHRoaXMuX3NlbmRQcm9ncmVzcyhiLk1BTklGRVNUX1BST0dSRVNTKSx2b2lkIHRoaXMuX2xvYWRNYW5pZmVzdCh0aGlzLl9yZXN1bHQpO2Nhc2VcXFwicHJvZ3Jlc3NcXFwiOnJldHVybiBhLmxvYWRlZCo9Yi5NQU5JRkVTVF9QUk9HUkVTUyx0aGlzLnByb2dyZXNzPWEubG9hZGVkL2EudG90YWwsKGlzTmFOKHRoaXMucHJvZ3Jlc3MpfHwxLzA9PXRoaXMucHJvZ3Jlc3MpJiYodGhpcy5wcm9ncmVzcz0wKSx2b2lkIHRoaXMuX3NlbmRQcm9ncmVzcyhhKX10aGlzLkFic3RyYWN0TG9hZGVyX2hhbmRsZUV2ZW50KGEpfSxhLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkFic3RyYWN0TG9hZGVyX2Rlc3Ryb3koKSx0aGlzLl9tYW5pZmVzdFF1ZXVlLmNsb3NlKCl9LGEuX2xvYWRNYW5pZmVzdD1mdW5jdGlvbihhKXtpZihhJiZhLm1hbmlmZXN0KXt2YXIgYj10aGlzLl9tYW5pZmVzdFF1ZXVlPW5ldyBjcmVhdGVqcy5Mb2FkUXVldWUodGhpcy5fcHJlZmVyWEhSKTtiLm9uKFxcXCJmaWxlbG9hZFxcXCIsdGhpcy5faGFuZGxlTWFuaWZlc3RGaWxlTG9hZCx0aGlzKSxiLm9uKFxcXCJwcm9ncmVzc1xcXCIsdGhpcy5faGFuZGxlTWFuaWZlc3RQcm9ncmVzcyx0aGlzKSxiLm9uKFxcXCJjb21wbGV0ZVxcXCIsdGhpcy5faGFuZGxlTWFuaWZlc3RDb21wbGV0ZSx0aGlzLCEwKSxiLm9uKFxcXCJlcnJvclxcXCIsdGhpcy5faGFuZGxlTWFuaWZlc3RFcnJvcix0aGlzLCEwKTtmb3IodmFyIGM9MCxkPXRoaXMucGx1Z2lucy5sZW5ndGg7ZD5jO2MrKyliLmluc3RhbGxQbHVnaW4odGhpcy5wbHVnaW5zW2NdKTtiLmxvYWRNYW5pZmVzdChhKX1lbHNlIHRoaXMuX3NlbmRDb21wbGV0ZSgpfSxhLl9oYW5kbGVNYW5pZmVzdEZpbGVMb2FkPWZ1bmN0aW9uKGEpe2EudGFyZ2V0PW51bGwsdGhpcy5kaXNwYXRjaEV2ZW50KGEpfSxhLl9oYW5kbGVNYW5pZmVzdENvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5fbG9hZGVkSXRlbXM9dGhpcy5fbWFuaWZlc3RRdWV1ZS5nZXRJdGVtcyghMCksdGhpcy5fc2VuZENvbXBsZXRlKCl9LGEuX2hhbmRsZU1hbmlmZXN0UHJvZ3Jlc3M9ZnVuY3Rpb24oYSl7dGhpcy5wcm9ncmVzcz1hLnByb2dyZXNzKigxLWIuTUFOSUZFU1RfUFJPR1JFU1MpK2IuTUFOSUZFU1RfUFJPR1JFU1MsdGhpcy5fc2VuZFByb2dyZXNzKHRoaXMucHJvZ3Jlc3MpfSxhLl9oYW5kbGVNYW5pZmVzdEVycm9yPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBjcmVhdGVqcy5FdmVudChcXFwiZmlsZWVycm9yXFxcIik7Yi5pdGVtPWEuZGF0YSx0aGlzLmRpc3BhdGNoRXZlbnQoYil9LGNyZWF0ZWpzLk1hbmlmZXN0TG9hZGVyPWNyZWF0ZWpzLnByb21vdGUoTWFuaWZlc3RMb2FkZXIsXFxcIkFic3RyYWN0TG9hZGVyXFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBTb3VuZExvYWRlcihhLGIpe3RoaXMuQWJzdHJhY3RNZWRpYUxvYWRlcl9jb25zdHJ1Y3RvcihhLGIsY3JlYXRlanMuVHlwZXMuU09VTkQpLGNyZWF0ZWpzLkRvbVV0aWxzLmlzQXVkaW9UYWcoYSk/dGhpcy5fdGFnPWE6Y3JlYXRlanMuRG9tVXRpbHMuaXNBdWRpb1RhZyhhLnNyYyk/dGhpcy5fdGFnPWE6Y3JlYXRlanMuRG9tVXRpbHMuaXNBdWRpb1RhZyhhLnRhZykmJih0aGlzLl90YWc9Y3JlYXRlanMuRG9tVXRpbHMuaXNBdWRpb1RhZyhhKT9hOmEuc3JjKSxudWxsIT10aGlzLl90YWcmJih0aGlzLl9wcmVmZXJYSFI9ITEpfXZhciBhPWNyZWF0ZWpzLmV4dGVuZChTb3VuZExvYWRlcixjcmVhdGVqcy5BYnN0cmFjdE1lZGlhTG9hZGVyKSxiPVNvdW5kTG9hZGVyO2IuY2FuTG9hZEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Y3JlYXRlanMuVHlwZXMuU09VTkR9LGEuX2NyZWF0ZVRhZz1mdW5jdGlvbihhKXt2YXIgYj1jcmVhdGVqcy5FbGVtZW50cy5hdWRpbygpO3JldHVybiBiLmF1dG9wbGF5PSExLGIucHJlbG9hZD1cXFwibm9uZVxcXCIsYi5zcmM9YSxifSxjcmVhdGVqcy5Tb3VuZExvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKFNvdW5kTG9hZGVyLFxcXCJBYnN0cmFjdE1lZGlhTG9hZGVyXFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBWaWRlb0xvYWRlcihhLGIpe3RoaXMuQWJzdHJhY3RNZWRpYUxvYWRlcl9jb25zdHJ1Y3RvcihhLGIsY3JlYXRlanMuVHlwZXMuVklERU8pLGNyZWF0ZWpzLkRvbVV0aWxzLmlzVmlkZW9UYWcoYSl8fGNyZWF0ZWpzLkRvbVV0aWxzLmlzVmlkZW9UYWcoYS5zcmMpPyh0aGlzLnNldFRhZyhjcmVhdGVqcy5Eb21VdGlscy5pc1ZpZGVvVGFnKGEpP2E6YS5zcmMpLHRoaXMuX3ByZWZlclhIUj0hMSk6dGhpcy5zZXRUYWcodGhpcy5fY3JlYXRlVGFnKCkpfXZhciBhPWNyZWF0ZWpzLmV4dGVuZChWaWRlb0xvYWRlcixjcmVhdGVqcy5BYnN0cmFjdE1lZGlhTG9hZGVyKSxiPVZpZGVvTG9hZGVyO2EuX2NyZWF0ZVRhZz1mdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5FbGVtZW50cy52aWRlbygpfSxiLmNhbkxvYWRJdGVtPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PWNyZWF0ZWpzLlR5cGVzLlZJREVPfSxjcmVhdGVqcy5WaWRlb0xvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKFZpZGVvTG9hZGVyLFxcXCJBYnN0cmFjdE1lZGlhTG9hZGVyXFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBTcHJpdGVTaGVldExvYWRlcihhLGIpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSxiLGNyZWF0ZWpzLlR5cGVzLlNQUklURVNIRUVUKSx0aGlzLl9tYW5pZmVzdFF1ZXVlPW51bGx9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKFNwcml0ZVNoZWV0TG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSxiPVNwcml0ZVNoZWV0TG9hZGVyO2IuU1BSSVRFU0hFRVRfUFJPR1JFU1M9LjI1LGIuY2FuTG9hZEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Y3JlYXRlanMuVHlwZXMuU1BSSVRFU0hFRVR9LGEuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuQWJzdHJhY3RMb2FkZXJfZGVzdHJveSgpLHRoaXMuX21hbmlmZXN0UXVldWUuY2xvc2UoKX0sYS5fY3JlYXRlUmVxdWVzdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX2l0ZW0uY2FsbGJhY2s7dGhpcy5fcmVxdWVzdD1udWxsIT1hP25ldyBjcmVhdGVqcy5KU09OUExvYWRlcih0aGlzLl9pdGVtKTpuZXcgY3JlYXRlanMuSlNPTkxvYWRlcih0aGlzLl9pdGVtKX0sYS5oYW5kbGVFdmVudD1mdW5jdGlvbihhKXtzd2l0Y2goYS50eXBlKXtjYXNlXFxcImNvbXBsZXRlXFxcIjpyZXR1cm4gdGhpcy5fcmF3UmVzdWx0PWEudGFyZ2V0LmdldFJlc3VsdCghMCksdGhpcy5fcmVzdWx0PWEudGFyZ2V0LmdldFJlc3VsdCgpLHRoaXMuX3NlbmRQcm9ncmVzcyhiLlNQUklURVNIRUVUX1BST0dSRVNTKSx2b2lkIHRoaXMuX2xvYWRNYW5pZmVzdCh0aGlzLl9yZXN1bHQpO2Nhc2VcXFwicHJvZ3Jlc3NcXFwiOnJldHVybiBhLmxvYWRlZCo9Yi5TUFJJVEVTSEVFVF9QUk9HUkVTUyx0aGlzLnByb2dyZXNzPWEubG9hZGVkL2EudG90YWwsKGlzTmFOKHRoaXMucHJvZ3Jlc3MpfHwxLzA9PXRoaXMucHJvZ3Jlc3MpJiYodGhpcy5wcm9ncmVzcz0wKSx2b2lkIHRoaXMuX3NlbmRQcm9ncmVzcyhhKX10aGlzLkFic3RyYWN0TG9hZGVyX2hhbmRsZUV2ZW50KGEpfSxhLl9sb2FkTWFuaWZlc3Q9ZnVuY3Rpb24oYSl7aWYoYSYmYS5pbWFnZXMpe3ZhciBiPXRoaXMuX21hbmlmZXN0UXVldWU9bmV3IGNyZWF0ZWpzLkxvYWRRdWV1ZSh0aGlzLl9wcmVmZXJYSFIsdGhpcy5faXRlbS5wYXRoLHRoaXMuX2l0ZW0uY3Jvc3NPcmlnaW4pO2Iub24oXFxcImNvbXBsZXRlXFxcIix0aGlzLl9oYW5kbGVNYW5pZmVzdENvbXBsZXRlLHRoaXMsITApLGIub24oXFxcImZpbGVsb2FkXFxcIix0aGlzLl9oYW5kbGVNYW5pZmVzdEZpbGVMb2FkLHRoaXMpLGIub24oXFxcInByb2dyZXNzXFxcIix0aGlzLl9oYW5kbGVNYW5pZmVzdFByb2dyZXNzLHRoaXMpLGIub24oXFxcImVycm9yXFxcIix0aGlzLl9oYW5kbGVNYW5pZmVzdEVycm9yLHRoaXMsITApLGIubG9hZE1hbmlmZXN0KGEuaW1hZ2VzKX19LGEuX2hhbmRsZU1hbmlmZXN0RmlsZUxvYWQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXN1bHQ7aWYobnVsbCE9Yil7dmFyIGM9dGhpcy5nZXRSZXN1bHQoKS5pbWFnZXMsZD1jLmluZGV4T2YoYS5pdGVtLnNyYyk7Y1tkXT1ifX0sYS5faGFuZGxlTWFuaWZlc3RDb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuX3Jlc3VsdD1uZXcgY3JlYXRlanMuU3ByaXRlU2hlZXQodGhpcy5fcmVzdWx0KSx0aGlzLl9sb2FkZWRJdGVtcz10aGlzLl9tYW5pZmVzdFF1ZXVlLmdldEl0ZW1zKCEwKSx0aGlzLl9zZW5kQ29tcGxldGUoKX0sYS5faGFuZGxlTWFuaWZlc3RQcm9ncmVzcz1mdW5jdGlvbihhKXt0aGlzLnByb2dyZXNzPWEucHJvZ3Jlc3MqKDEtYi5TUFJJVEVTSEVFVF9QUk9HUkVTUykrYi5TUFJJVEVTSEVFVF9QUk9HUkVTUyx0aGlzLl9zZW5kUHJvZ3Jlc3ModGhpcy5wcm9ncmVzcyl9LGEuX2hhbmRsZU1hbmlmZXN0RXJyb3I9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGNyZWF0ZWpzLkV2ZW50KFxcXCJmaWxlZXJyb3JcXFwiKTtiLml0ZW09YS5kYXRhLHRoaXMuZGlzcGF0Y2hFdmVudChiKX0sY3JlYXRlanMuU3ByaXRlU2hlZXRMb2FkZXI9Y3JlYXRlanMucHJvbW90ZShTcHJpdGVTaGVldExvYWRlcixcXFwiQWJzdHJhY3RMb2FkZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIFNWR0xvYWRlcihhLGIpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSxiLGNyZWF0ZWpzLlR5cGVzLlNWRyksdGhpcy5yZXN1bHRGb3JtYXR0ZXI9dGhpcy5fZm9ybWF0UmVzdWx0LHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZT1cXFwiZGF0YVxcXCIsYj90aGlzLnNldFRhZyhjcmVhdGVqcy5FbGVtZW50cy5zdmcoKSk6KHRoaXMuc2V0VGFnKGNyZWF0ZWpzLkVsZW1lbnRzLm9iamVjdCgpKSx0aGlzLmdldFRhZygpLnR5cGU9XFxcImltYWdlL3N2Zyt4bWxcXFwiKVxcbn12YXIgYT1jcmVhdGVqcy5leHRlbmQoU1ZHTG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSxiPVNWR0xvYWRlcjtiLmNhbkxvYWRJdGVtPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PWNyZWF0ZWpzLlR5cGVzLlNWR30sYS5fZm9ybWF0UmVzdWx0PWZ1bmN0aW9uKGEpe3ZhciBiPWNyZWF0ZWpzLkRhdGFVdGlscy5wYXJzZVhNTChhLmdldFJlc3VsdCghMCkpLGM9YS5nZXRUYWcoKTtpZighdGhpcy5fcHJlZmVyWEhSJiZkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGMpJiZkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGMpLG51bGwhPWIuZG9jdW1lbnRFbGVtZW50KXt2YXIgZD1iLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gZG9jdW1lbnQuaW1wb3J0Tm9kZSYmKGQ9ZG9jdW1lbnQuaW1wb3J0Tm9kZShkLCEwKSksYy5hcHBlbmRDaGlsZChkKSxjfXJldHVybiBifSxjcmVhdGVqcy5TVkdMb2FkZXI9Y3JlYXRlanMucHJvbW90ZShTVkdMb2FkZXIsXFxcIkFic3RyYWN0TG9hZGVyXFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBYTUxMb2FkZXIoYSl7dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3RvcihhLCEwLGNyZWF0ZWpzLlR5cGVzLlhNTCksdGhpcy5yZXN1bHRGb3JtYXR0ZXI9dGhpcy5fZm9ybWF0UmVzdWx0fXZhciBhPWNyZWF0ZWpzLmV4dGVuZChYTUxMb2FkZXIsY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpLGI9WE1MTG9hZGVyO2IuY2FuTG9hZEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Y3JlYXRlanMuVHlwZXMuWE1MfSxhLl9mb3JtYXRSZXN1bHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGNyZWF0ZWpzLkRhdGFVdGlscy5wYXJzZVhNTChhLmdldFJlc3VsdCghMCkpfSxjcmVhdGVqcy5YTUxMb2FkZXI9Y3JlYXRlanMucHJvbW90ZShYTUxMb2FkZXIsXFxcIkFic3RyYWN0TG9hZGVyXFxcIil9KCk7XCJcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMCkoX193ZWJwYWNrX3JlcXVpcmVfXyg0KSlcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gXCIvKiBaZXB0byB2MS4yLjAgLSB6ZXB0byBldmVudCBhamF4IGZvcm0gaWUgLSB6ZXB0b2pzLmNvbS9saWNlbnNlICovXFxuIWZ1bmN0aW9uKHQsZSl7XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gZSh0KX0pOmUodCl9KHRoaXMsZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiAkKHQpe3JldHVybiBudWxsPT10P1N0cmluZyh0KTpTW0MuY2FsbCh0KV18fFxcXCJvYmplY3RcXFwifWZ1bmN0aW9uIEYodCl7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIj09JCh0KX1mdW5jdGlvbiBrKHQpe3JldHVybiBudWxsIT10JiZ0PT10LndpbmRvd31mdW5jdGlvbiBNKHQpe3JldHVybiBudWxsIT10JiZ0Lm5vZGVUeXBlPT10LkRPQ1VNRU5UX05PREV9ZnVuY3Rpb24gUih0KXtyZXR1cm5cXFwib2JqZWN0XFxcIj09JCh0KX1mdW5jdGlvbiBaKHQpe3JldHVybiBSKHQpJiYhayh0KSYmT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpPT1PYmplY3QucHJvdG90eXBlfWZ1bmN0aW9uIHoodCl7dmFyIGU9ISF0JiZcXFwibGVuZ3RoXFxcImluIHQmJnQubGVuZ3RoLG49ci50eXBlKHQpO3JldHVyblxcXCJmdW5jdGlvblxcXCIhPW4mJiFrKHQpJiYoXFxcImFycmF5XFxcIj09bnx8MD09PWV8fFxcXCJudW1iZXJcXFwiPT10eXBlb2YgZSYmZT4wJiZlLTEgaW4gdCl9ZnVuY3Rpb24gcSh0KXtyZXR1cm4gYS5jYWxsKHQsZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXR9KX1mdW5jdGlvbiBIKHQpe3JldHVybiB0Lmxlbmd0aD4wP3IuZm4uY29uY2F0LmFwcGx5KFtdLHQpOnR9ZnVuY3Rpb24gSSh0KXtyZXR1cm4gdC5yZXBsYWNlKC86Oi9nLFxcXCIvXFxcIikucmVwbGFjZSgvKFtBLVpdKykoW0EtWl1bYS16XSkvZyxcXFwiJDFfJDJcXFwiKS5yZXBsYWNlKC8oW2EtelxcXFxkXSkoW0EtWl0pL2csXFxcIiQxXyQyXFxcIikucmVwbGFjZSgvXy9nLFxcXCItXFxcIikudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBWKHQpe3JldHVybiB0IGluIGw/bFt0XTpsW3RdPW5ldyBSZWdFeHAoXFxcIihefFxcXFxcXFxccylcXFwiK3QrXFxcIihcXFxcXFxcXHN8JClcXFwiKX1mdW5jdGlvbiBfKHQsZSl7cmV0dXJuXFxcIm51bWJlclxcXCIhPXR5cGVvZiBlfHxoW0kodCldP2U6ZStcXFwicHhcXFwifWZ1bmN0aW9uIEIodCl7dmFyIGUsbjtyZXR1cm4gY1t0XXx8KGU9Zi5jcmVhdGVFbGVtZW50KHQpLGYuYm9keS5hcHBlbmRDaGlsZChlKSxuPWdldENvbXB1dGVkU3R5bGUoZSxcXFwiXFxcIikuZ2V0UHJvcGVydHlWYWx1ZShcXFwiZGlzcGxheVxcXCIpLGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxcXFwibm9uZVxcXCI9PW4mJihuPVxcXCJibG9ja1xcXCIpLGNbdF09biksY1t0XX1mdW5jdGlvbiBVKHQpe3JldHVyblxcXCJjaGlsZHJlblxcXCJpbiB0P3UuY2FsbCh0LmNoaWxkcmVuKTpyLm1hcCh0LmNoaWxkTm9kZXMsZnVuY3Rpb24odCl7cmV0dXJuIDE9PXQubm9kZVR5cGU/dDp2b2lkIDB9KX1mdW5jdGlvbiBYKHQsZSl7dmFyIG4scj10P3QubGVuZ3RoOjA7Zm9yKG49MDtyPm47bisrKXRoaXNbbl09dFtuXTt0aGlzLmxlbmd0aD1yLHRoaXMuc2VsZWN0b3I9ZXx8XFxcIlxcXCJ9ZnVuY3Rpb24gSih0LHIsaSl7Zm9yKG4gaW4gcilpJiYoWihyW25dKXx8TChyW25dKSk/KFoocltuXSkmJiFaKHRbbl0pJiYodFtuXT17fSksTChyW25dKSYmIUwodFtuXSkmJih0W25dPVtdKSxKKHRbbl0scltuXSxpKSk6cltuXSE9PWUmJih0W25dPXJbbl0pfWZ1bmN0aW9uIFcodCxlKXtyZXR1cm4gbnVsbD09ZT9yKHQpOnIodCkuZmlsdGVyKGUpfWZ1bmN0aW9uIFkodCxlLG4scil7cmV0dXJuIEYoZSk/ZS5jYWxsKHQsbixyKTplfWZ1bmN0aW9uIEcodCxlLG4pe251bGw9PW4/dC5yZW1vdmVBdHRyaWJ1dGUoZSk6dC5zZXRBdHRyaWJ1dGUoZSxuKX1mdW5jdGlvbiBLKHQsbil7dmFyIHI9dC5jbGFzc05hbWV8fFxcXCJcXFwiLGk9ciYmci5iYXNlVmFsIT09ZTtyZXR1cm4gbj09PWU/aT9yLmJhc2VWYWw6cjp2b2lkKGk/ci5iYXNlVmFsPW46dC5jbGFzc05hbWU9bil9ZnVuY3Rpb24gUSh0KXt0cnl7cmV0dXJuIHQ/XFxcInRydWVcXFwiPT10fHwoXFxcImZhbHNlXFxcIj09dD8hMTpcXFwibnVsbFxcXCI9PXQ/bnVsbDordCtcXFwiXFxcIj09dD8rdDovXltcXFxcW1xcXFx7XS8udGVzdCh0KT9yLnBhcnNlSlNPTih0KTp0KTp0fWNhdGNoKGUpe3JldHVybiB0fX1mdW5jdGlvbiB0dCh0LGUpe2UodCk7Zm9yKHZhciBuPTAscj10LmNoaWxkTm9kZXMubGVuZ3RoO3I+bjtuKyspdHQodC5jaGlsZE5vZGVzW25dLGUpfXZhciBlLG4scixpLE8sUCxvPVtdLHM9by5jb25jYXQsYT1vLmZpbHRlcix1PW8uc2xpY2UsZj10LmRvY3VtZW50LGM9e30sbD17fSxoPXtcXFwiY29sdW1uLWNvdW50XFxcIjoxLGNvbHVtbnM6MSxcXFwiZm9udC13ZWlnaHRcXFwiOjEsXFxcImxpbmUtaGVpZ2h0XFxcIjoxLG9wYWNpdHk6MSxcXFwiei1pbmRleFxcXCI6MSx6b29tOjF9LHA9L15cXFxccyo8KFxcXFx3K3whKVtePl0qPi8sZD0vXjwoXFxcXHcrKVxcXFxzKlxcXFwvPz4oPzo8XFxcXC9cXFxcMT58KSQvLG09LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcXFx3Ol0rKVtePl0qKVxcXFwvPi9naSxnPS9eKD86Ym9keXxodG1sKSQvaSx2PS8oW0EtWl0pL2cseT1bXFxcInZhbFxcXCIsXFxcImNzc1xcXCIsXFxcImh0bWxcXFwiLFxcXCJ0ZXh0XFxcIixcXFwiZGF0YVxcXCIsXFxcIndpZHRoXFxcIixcXFwiaGVpZ2h0XFxcIixcXFwib2Zmc2V0XFxcIl0seD1bXFxcImFmdGVyXFxcIixcXFwicHJlcGVuZFxcXCIsXFxcImJlZm9yZVxcXCIsXFxcImFwcGVuZFxcXCJdLGI9Zi5jcmVhdGVFbGVtZW50KFxcXCJ0YWJsZVxcXCIpLEU9Zi5jcmVhdGVFbGVtZW50KFxcXCJ0clxcXCIpLGo9e3RyOmYuY3JlYXRlRWxlbWVudChcXFwidGJvZHlcXFwiKSx0Ym9keTpiLHRoZWFkOmIsdGZvb3Q6Yix0ZDpFLHRoOkUsXFxcIipcXFwiOmYuY3JlYXRlRWxlbWVudChcXFwiZGl2XFxcIil9LHc9L2NvbXBsZXRlfGxvYWRlZHxpbnRlcmFjdGl2ZS8sVD0vXltcXFxcdy1dKiQvLFM9e30sQz1TLnRvU3RyaW5nLE49e30sQT1mLmNyZWF0ZUVsZW1lbnQoXFxcImRpdlxcXCIpLEQ9e3RhYmluZGV4OlxcXCJ0YWJJbmRleFxcXCIscmVhZG9ubHk6XFxcInJlYWRPbmx5XFxcIixcXFwiZm9yXFxcIjpcXFwiaHRtbEZvclxcXCIsXFxcImNsYXNzXFxcIjpcXFwiY2xhc3NOYW1lXFxcIixtYXhsZW5ndGg6XFxcIm1heExlbmd0aFxcXCIsY2VsbHNwYWNpbmc6XFxcImNlbGxTcGFjaW5nXFxcIixjZWxscGFkZGluZzpcXFwiY2VsbFBhZGRpbmdcXFwiLHJvd3NwYW46XFxcInJvd1NwYW5cXFwiLGNvbHNwYW46XFxcImNvbFNwYW5cXFwiLHVzZW1hcDpcXFwidXNlTWFwXFxcIixmcmFtZWJvcmRlcjpcXFwiZnJhbWVCb3JkZXJcXFwiLGNvbnRlbnRlZGl0YWJsZTpcXFwiY29udGVudEVkaXRhYmxlXFxcIn0sTD1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5fTtyZXR1cm4gTi5tYXRjaGVzPWZ1bmN0aW9uKHQsZSl7aWYoIWV8fCF0fHwxIT09dC5ub2RlVHlwZSlyZXR1cm4hMTt2YXIgbj10Lm1hdGNoZXN8fHQud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHx0Lm1vek1hdGNoZXNTZWxlY3Rvcnx8dC5vTWF0Y2hlc1NlbGVjdG9yfHx0Lm1hdGNoZXNTZWxlY3RvcjtpZihuKXJldHVybiBuLmNhbGwodCxlKTt2YXIgcixpPXQucGFyZW50Tm9kZSxvPSFpO3JldHVybiBvJiYoaT1BKS5hcHBlbmRDaGlsZCh0KSxyPX5OLnFzYShpLGUpLmluZGV4T2YodCksbyYmQS5yZW1vdmVDaGlsZCh0KSxyfSxPPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoLy0rKC4pPy9nLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/ZS50b1VwcGVyQ2FzZSgpOlxcXCJcXFwifSl9LFA9ZnVuY3Rpb24odCl7cmV0dXJuIGEuY2FsbCh0LGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuaW5kZXhPZihlKT09bn0pfSxOLmZyYWdtZW50PWZ1bmN0aW9uKHQsbixpKXt2YXIgbyxzLGE7cmV0dXJuIGQudGVzdCh0KSYmKG89cihmLmNyZWF0ZUVsZW1lbnQoUmVnRXhwLiQxKSkpLG98fCh0LnJlcGxhY2UmJih0PXQucmVwbGFjZShtLFxcXCI8JDE+PC8kMj5cXFwiKSksbj09PWUmJihuPXAudGVzdCh0KSYmUmVnRXhwLiQxKSxuIGluIGp8fChuPVxcXCIqXFxcIiksYT1qW25dLGEuaW5uZXJIVE1MPVxcXCJcXFwiK3Qsbz1yLmVhY2godS5jYWxsKGEuY2hpbGROb2RlcyksZnVuY3Rpb24oKXthLnJlbW92ZUNoaWxkKHRoaXMpfSkpLFooaSkmJihzPXIobyksci5lYWNoKGksZnVuY3Rpb24odCxlKXt5LmluZGV4T2YodCk+LTE/c1t0XShlKTpzLmF0dHIodCxlKX0pKSxvfSxOLlo9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFgodCxlKX0sTi5pc1o9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBOLlp9LE4uaW5pdD1mdW5jdGlvbih0LG4pe3ZhciBpO2lmKCF0KXJldHVybiBOLlooKTtpZihcXFwic3RyaW5nXFxcIj09dHlwZW9mIHQpaWYodD10LnRyaW0oKSxcXFwiPFxcXCI9PXRbMF0mJnAudGVzdCh0KSlpPU4uZnJhZ21lbnQodCxSZWdFeHAuJDEsbiksdD1udWxsO2Vsc2V7aWYobiE9PWUpcmV0dXJuIHIobikuZmluZCh0KTtpPU4ucXNhKGYsdCl9ZWxzZXtpZihGKHQpKXJldHVybiByKGYpLnJlYWR5KHQpO2lmKE4uaXNaKHQpKXJldHVybiB0O2lmKEwodCkpaT1xKHQpO2Vsc2UgaWYoUih0KSlpPVt0XSx0PW51bGw7ZWxzZSBpZihwLnRlc3QodCkpaT1OLmZyYWdtZW50KHQudHJpbSgpLFJlZ0V4cC4kMSxuKSx0PW51bGw7ZWxzZXtpZihuIT09ZSlyZXR1cm4gcihuKS5maW5kKHQpO2k9Ti5xc2EoZix0KX19cmV0dXJuIE4uWihpLHQpfSxyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE4uaW5pdCh0LGUpfSxyLmV4dGVuZD1mdW5jdGlvbih0KXt2YXIgZSxuPXUuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuXFxcImJvb2xlYW5cXFwiPT10eXBlb2YgdCYmKGU9dCx0PW4uc2hpZnQoKSksbi5mb3JFYWNoKGZ1bmN0aW9uKG4pe0oodCxuLGUpfSksdH0sTi5xc2E9ZnVuY3Rpb24odCxlKXt2YXIgbixyPVxcXCIjXFxcIj09ZVswXSxpPSFyJiZcXFwiLlxcXCI9PWVbMF0sbz1yfHxpP2Uuc2xpY2UoMSk6ZSxzPVQudGVzdChvKTtyZXR1cm4gdC5nZXRFbGVtZW50QnlJZCYmcyYmcj8obj10LmdldEVsZW1lbnRCeUlkKG8pKT9bbl06W106MSE9PXQubm9kZVR5cGUmJjkhPT10Lm5vZGVUeXBlJiYxMSE9PXQubm9kZVR5cGU/W106dS5jYWxsKHMmJiFyJiZ0LmdldEVsZW1lbnRzQnlDbGFzc05hbWU/aT90LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobyk6dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTp0LnF1ZXJ5U2VsZWN0b3JBbGwoZSkpfSxyLmNvbnRhaW5zPWYuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQhPT1lJiZ0LmNvbnRhaW5zKGUpfTpmdW5jdGlvbih0LGUpe2Zvcig7ZSYmKGU9ZS5wYXJlbnROb2RlKTspaWYoZT09PXQpcmV0dXJuITA7cmV0dXJuITF9LHIudHlwZT0kLHIuaXNGdW5jdGlvbj1GLHIuaXNXaW5kb3c9ayxyLmlzQXJyYXk9TCxyLmlzUGxhaW5PYmplY3Q9WixyLmlzRW1wdHlPYmplY3Q9ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGUgaW4gdClyZXR1cm4hMTtyZXR1cm4hMH0sci5pc051bWVyaWM9ZnVuY3Rpb24odCl7dmFyIGU9TnVtYmVyKHQpLG49dHlwZW9mIHQ7cmV0dXJuIG51bGwhPXQmJlxcXCJib29sZWFuXFxcIiE9biYmKFxcXCJzdHJpbmdcXFwiIT1ufHx0Lmxlbmd0aCkmJiFpc05hTihlKSYmaXNGaW5pdGUoZSl8fCExfSxyLmluQXJyYXk9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBvLmluZGV4T2YuY2FsbChlLHQsbil9LHIuY2FtZWxDYXNlPU8sci50cmltPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P1xcXCJcXFwiOlN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKHQpfSxyLnV1aWQ9MCxyLnN1cHBvcnQ9e30sci5leHByPXt9LHIubm9vcD1mdW5jdGlvbigpe30sci5tYXA9ZnVuY3Rpb24odCxlKXt2YXIgbixpLG8scj1bXTtpZih6KHQpKWZvcihpPTA7aTx0Lmxlbmd0aDtpKyspbj1lKHRbaV0saSksbnVsbCE9biYmci5wdXNoKG4pO2Vsc2UgZm9yKG8gaW4gdCluPWUodFtvXSxvKSxudWxsIT1uJiZyLnB1c2gobik7cmV0dXJuIEgocil9LHIuZWFjaD1mdW5jdGlvbih0LGUpe3ZhciBuLHI7aWYoeih0KSl7Zm9yKG49MDtuPHQubGVuZ3RoO24rKylpZihlLmNhbGwodFtuXSxuLHRbbl0pPT09ITEpcmV0dXJuIHR9ZWxzZSBmb3IociBpbiB0KWlmKGUuY2FsbCh0W3JdLHIsdFtyXSk9PT0hMSlyZXR1cm4gdDtyZXR1cm4gdH0sci5ncmVwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEuY2FsbCh0LGUpfSx0LkpTT04mJihyLnBhcnNlSlNPTj1KU09OLnBhcnNlKSxyLmVhY2goXFxcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3JcXFwiLnNwbGl0KFxcXCIgXFxcIiksZnVuY3Rpb24odCxlKXtTW1xcXCJbb2JqZWN0IFxcXCIrZStcXFwiXVxcXCJdPWUudG9Mb3dlckNhc2UoKX0pLHIuZm49e2NvbnN0cnVjdG9yOk4uWixsZW5ndGg6MCxmb3JFYWNoOm8uZm9yRWFjaCxyZWR1Y2U6by5yZWR1Y2UscHVzaDpvLnB1c2gsc29ydDpvLnNvcnQsc3BsaWNlOm8uc3BsaWNlLGluZGV4T2Y6by5pbmRleE9mLGNvbmNhdDpmdW5jdGlvbigpe3ZhciB0LGUsbj1bXTtmb3IodD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZT1hcmd1bWVudHNbdF0sblt0XT1OLmlzWihlKT9lLnRvQXJyYXkoKTplO3JldHVybiBzLmFwcGx5KE4uaXNaKHRoaXMpP3RoaXMudG9BcnJheSgpOnRoaXMsbil9LG1hcDpmdW5jdGlvbih0KXtyZXR1cm4gcihyLm1hcCh0aGlzLGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuY2FsbChlLG4sZSl9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHIodS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxyZWFkeTpmdW5jdGlvbih0KXtyZXR1cm4gdy50ZXN0KGYucmVhZHlTdGF0ZSkmJmYuYm9keT90KHIpOmYuYWRkRXZlbnRMaXN0ZW5lcihcXFwiRE9NQ29udGVudExvYWRlZFxcXCIsZnVuY3Rpb24oKXt0KHIpfSwhMSksdGhpc30sZ2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZT91LmNhbGwodGhpcyk6dGhpc1t0Pj0wP3Q6dCt0aGlzLmxlbmd0aF19LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe251bGwhPXRoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpfSl9LGVhY2g6ZnVuY3Rpb24odCl7cmV0dXJuIG8uZXZlcnkuY2FsbCh0aGlzLGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuY2FsbChlLG4sZSkhPT0hMX0pLHRoaXN9LGZpbHRlcjpmdW5jdGlvbih0KXtyZXR1cm4gRih0KT90aGlzLm5vdCh0aGlzLm5vdCh0KSk6cihhLmNhbGwodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gTi5tYXRjaGVzKGUsdCl9KSl9LGFkZDpmdW5jdGlvbih0LGUpe3JldHVybiByKFAodGhpcy5jb25jYXQocih0LGUpKSkpfSxpczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZW5ndGg+MCYmTi5tYXRjaGVzKHRoaXNbMF0sdCl9LG5vdDpmdW5jdGlvbih0KXt2YXIgbj1bXTtpZihGKHQpJiZ0LmNhbGwhPT1lKXRoaXMuZWFjaChmdW5jdGlvbihlKXt0LmNhbGwodGhpcyxlKXx8bi5wdXNoKHRoaXMpfSk7ZWxzZXt2YXIgaT1cXFwic3RyaW5nXFxcIj09dHlwZW9mIHQ/dGhpcy5maWx0ZXIodCk6eih0KSYmRih0Lml0ZW0pP3UuY2FsbCh0KTpyKHQpO3RoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtpLmluZGV4T2YodCk8MCYmbi5wdXNoKHQpfSl9cmV0dXJuIHIobil9LGhhczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gUih0KT9yLmNvbnRhaW5zKHRoaXMsdCk6cih0aGlzKS5maW5kKHQpLnNpemUoKX0pfSxlcTpmdW5jdGlvbih0KXtyZXR1cm4tMT09PXQ/dGhpcy5zbGljZSh0KTp0aGlzLnNsaWNlKHQsK3QrMSl9LGZpcnN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1swXTtyZXR1cm4gdCYmIVIodCk/dDpyKHQpfSxsYXN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1t0aGlzLmxlbmd0aC0xXTtyZXR1cm4gdCYmIVIodCk/dDpyKHQpfSxmaW5kOmZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcztyZXR1cm4gZT10P1xcXCJvYmplY3RcXFwiPT10eXBlb2YgdD9yKHQpLmZpbHRlcihmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIG8uc29tZS5jYWxsKG4sZnVuY3Rpb24oZSl7cmV0dXJuIHIuY29udGFpbnMoZSx0KX0pfSk6MT09dGhpcy5sZW5ndGg/cihOLnFzYSh0aGlzWzBdLHQpKTp0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBOLnFzYSh0aGlzLHQpfSk6cigpfSxjbG9zZXN0OmZ1bmN0aW9uKHQsZSl7dmFyIG49W10saT1cXFwib2JqZWN0XFxcIj09dHlwZW9mIHQmJnIodCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihyLG8pe2Zvcig7byYmIShpP2kuaW5kZXhPZihvKT49MDpOLm1hdGNoZXMobyx0KSk7KW89byE9PWUmJiFNKG8pJiZvLnBhcmVudE5vZGU7byYmbi5pbmRleE9mKG8pPDAmJm4ucHVzaChvKX0pLHIobil9LHBhcmVudHM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49dGhpcztuLmxlbmd0aD4wOyluPXIubWFwKG4sZnVuY3Rpb24odCl7cmV0dXJuKHQ9dC5wYXJlbnROb2RlKSYmIU0odCkmJmUuaW5kZXhPZih0KTwwPyhlLnB1c2godCksdCk6dm9pZCAwfSk7cmV0dXJuIFcoZSx0KX0scGFyZW50OmZ1bmN0aW9uKHQpe3JldHVybiBXKFAodGhpcy5wbHVjayhcXFwicGFyZW50Tm9kZVxcXCIpKSx0KX0sY2hpbGRyZW46ZnVuY3Rpb24odCl7cmV0dXJuIFcodGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gVSh0aGlzKX0pLHQpfSxjb250ZW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnREb2N1bWVudHx8dS5jYWxsKHRoaXMuY2hpbGROb2Rlcyl9KX0sc2libGluZ3M6ZnVuY3Rpb24odCl7cmV0dXJuIFcodGhpcy5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm4gYS5jYWxsKFUoZS5wYXJlbnROb2RlKSxmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWV9KX0pLHQpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlubmVySFRNTD1cXFwiXFxcIn0pfSxwbHVjazpmdW5jdGlvbih0KXtyZXR1cm4gci5tYXAodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gZVt0XX0pfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1xcXCJub25lXFxcIj09dGhpcy5zdHlsZS5kaXNwbGF5JiYodGhpcy5zdHlsZS5kaXNwbGF5PVxcXCJcXFwiKSxcXFwibm9uZVxcXCI9PWdldENvbXB1dGVkU3R5bGUodGhpcyxcXFwiXFxcIikuZ2V0UHJvcGVydHlWYWx1ZShcXFwiZGlzcGxheVxcXCIpJiYodGhpcy5zdHlsZS5kaXNwbGF5PUIodGhpcy5ub2RlTmFtZSkpfSl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJlZm9yZSh0KS5yZW1vdmUoKX0sd3JhcDpmdW5jdGlvbih0KXt2YXIgZT1GKHQpO2lmKHRoaXNbMF0mJiFlKXZhciBuPXIodCkuZ2V0KDApLGk9bi5wYXJlbnROb2RlfHx0aGlzLmxlbmd0aD4xO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obyl7cih0aGlzKS53cmFwQWxsKGU/dC5jYWxsKHRoaXMsbyk6aT9uLmNsb25lTm9kZSghMCk6bil9KX0sd3JhcEFsbDpmdW5jdGlvbih0KXtpZih0aGlzWzBdKXtyKHRoaXNbMF0pLmJlZm9yZSh0PXIodCkpO2Zvcih2YXIgZTsoZT10LmNoaWxkcmVuKCkpLmxlbmd0aDspdD1lLmZpcnN0KCk7cih0KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbih0KXt2YXIgZT1GKHQpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obil7dmFyIGk9cih0aGlzKSxvPWkuY29udGVudHMoKSxzPWU/dC5jYWxsKHRoaXMsbik6dDtvLmxlbmd0aD9vLndyYXBBbGwocyk6aS5hcHBlbmQocyl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe3IodGhpcykucmVwbGFjZVdpdGgocih0aGlzKS5jaGlsZHJlbigpKX0pLHRoaXN9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmVOb2RlKCEwKX0pfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3NzKFxcXCJkaXNwbGF5XFxcIixcXFwibm9uZVxcXCIpfSx0b2dnbGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBuPXIodGhpcyk7KHQ9PT1lP1xcXCJub25lXFxcIj09bi5jc3MoXFxcImRpc3BsYXlcXFwiKTp0KT9uLnNob3coKTpuLmhpZGUoKX0pfSxwcmV2OmZ1bmN0aW9uKHQpe3JldHVybiByKHRoaXMucGx1Y2soXFxcInByZXZpb3VzRWxlbWVudFNpYmxpbmdcXFwiKSkuZmlsdGVyKHR8fFxcXCIqXFxcIil9LG5leHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHIodGhpcy5wbHVjayhcXFwibmV4dEVsZW1lbnRTaWJsaW5nXFxcIikpLmZpbHRlcih0fHxcXFwiKlxcXCIpfSxodG1sOmZ1bmN0aW9uKHQpe3JldHVybiAwIGluIGFyZ3VtZW50cz90aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5pbm5lckhUTUw7cih0aGlzKS5lbXB0eSgpLmFwcGVuZChZKHRoaXMsdCxlLG4pKX0pOjAgaW4gdGhpcz90aGlzWzBdLmlubmVySFRNTDpudWxsfSx0ZXh0OmZ1bmN0aW9uKHQpe3JldHVybiAwIGluIGFyZ3VtZW50cz90aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIG49WSh0aGlzLHQsZSx0aGlzLnRleHRDb250ZW50KTt0aGlzLnRleHRDb250ZW50PW51bGw9PW4/XFxcIlxcXCI6XFxcIlxcXCIrbn0pOjAgaW4gdGhpcz90aGlzLnBsdWNrKFxcXCJ0ZXh0Q29udGVudFxcXCIpLmpvaW4oXFxcIlxcXCIpOm51bGx9LGF0dHI6ZnVuY3Rpb24odCxyKXt2YXIgaTtyZXR1cm5cXFwic3RyaW5nXFxcIiE9dHlwZW9mIHR8fDEgaW4gYXJndW1lbnRzP3RoaXMuZWFjaChmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZSlpZihSKHQpKWZvcihuIGluIHQpRyh0aGlzLG4sdFtuXSk7ZWxzZSBHKHRoaXMsdCxZKHRoaXMscixlLHRoaXMuZ2V0QXR0cmlidXRlKHQpKSl9KTowIGluIHRoaXMmJjE9PXRoaXNbMF0ubm9kZVR5cGUmJm51bGwhPShpPXRoaXNbMF0uZ2V0QXR0cmlidXRlKHQpKT9pOmV9LHJlbW92ZUF0dHI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpezE9PT10aGlzLm5vZGVUeXBlJiZ0LnNwbGl0KFxcXCIgXFxcIikuZm9yRWFjaChmdW5jdGlvbih0KXtHKHRoaXMsdCl9LHRoaXMpfSl9LHByb3A6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1EW3RdfHx0LDEgaW4gYXJndW1lbnRzP3RoaXMuZWFjaChmdW5jdGlvbihuKXt0aGlzW3RdPVkodGhpcyxlLG4sdGhpc1t0XSl9KTp0aGlzWzBdJiZ0aGlzWzBdW3RdfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKHQpe3JldHVybiB0PURbdF18fHQsdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbdF19KX0sZGF0YTpmdW5jdGlvbih0LG4pe3ZhciByPVxcXCJkYXRhLVxcXCIrdC5yZXBsYWNlKHYsXFxcIi0kMVxcXCIpLnRvTG93ZXJDYXNlKCksaT0xIGluIGFyZ3VtZW50cz90aGlzLmF0dHIocixuKTp0aGlzLmF0dHIocik7cmV0dXJuIG51bGwhPT1pP1EoaSk6ZX0sdmFsOmZ1bmN0aW9uKHQpe3JldHVybiAwIGluIGFyZ3VtZW50cz8obnVsbD09dCYmKHQ9XFxcIlxcXCIpLHRoaXMuZWFjaChmdW5jdGlvbihlKXt0aGlzLnZhbHVlPVkodGhpcyx0LGUsdGhpcy52YWx1ZSl9KSk6dGhpc1swXSYmKHRoaXNbMF0ubXVsdGlwbGU/cih0aGlzWzBdKS5maW5kKFxcXCJvcHRpb25cXFwiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RlZH0pLnBsdWNrKFxcXCJ2YWx1ZVxcXCIpOnRoaXNbMF0udmFsdWUpfSxvZmZzZXQ6ZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXIodGhpcyksaT1ZKHRoaXMsZSx0LG4ub2Zmc2V0KCkpLG89bi5vZmZzZXRQYXJlbnQoKS5vZmZzZXQoKSxzPXt0b3A6aS50b3Atby50b3AsbGVmdDppLmxlZnQtby5sZWZ0fTtcXFwic3RhdGljXFxcIj09bi5jc3MoXFxcInBvc2l0aW9uXFxcIikmJihzLnBvc2l0aW9uPVxcXCJyZWxhdGl2ZVxcXCIpLG4uY3NzKHMpfSk7aWYoIXRoaXMubGVuZ3RoKXJldHVybiBudWxsO2lmKGYuZG9jdW1lbnRFbGVtZW50IT09dGhpc1swXSYmIXIuY29udGFpbnMoZi5kb2N1bWVudEVsZW1lbnQsdGhpc1swXSkpcmV0dXJue3RvcDowLGxlZnQ6MH07dmFyIG49dGhpc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57bGVmdDpuLmxlZnQrdC5wYWdlWE9mZnNldCx0b3A6bi50b3ArdC5wYWdlWU9mZnNldCx3aWR0aDpNYXRoLnJvdW5kKG4ud2lkdGgpLGhlaWdodDpNYXRoLnJvdW5kKG4uaGVpZ2h0KX19LGNzczpmdW5jdGlvbih0LGUpe2lmKGFyZ3VtZW50cy5sZW5ndGg8Mil7dmFyIGk9dGhpc1swXTtpZihcXFwic3RyaW5nXFxcIj09dHlwZW9mIHQpe2lmKCFpKXJldHVybjtyZXR1cm4gaS5zdHlsZVtPKHQpXXx8Z2V0Q29tcHV0ZWRTdHlsZShpLFxcXCJcXFwiKS5nZXRQcm9wZXJ0eVZhbHVlKHQpfWlmKEwodCkpe2lmKCFpKXJldHVybjt2YXIgbz17fSxzPWdldENvbXB1dGVkU3R5bGUoaSxcXFwiXFxcIik7cmV0dXJuIHIuZWFjaCh0LGZ1bmN0aW9uKHQsZSl7b1tlXT1pLnN0eWxlW08oZSldfHxzLmdldFByb3BlcnR5VmFsdWUoZSl9KSxvfX12YXIgYT1cXFwiXFxcIjtpZihcXFwic3RyaW5nXFxcIj09JCh0KSllfHwwPT09ZT9hPUkodCkrXFxcIjpcXFwiK18odCxlKTp0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KEkodCkpfSk7ZWxzZSBmb3IobiBpbiB0KXRbbl18fDA9PT10W25dP2ErPUkobikrXFxcIjpcXFwiK18obix0W25dKStcXFwiO1xcXCI6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShJKG4pKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLnN0eWxlLmNzc1RleHQrPVxcXCI7XFxcIithfSl9LGluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiB0P3RoaXMuaW5kZXhPZihyKHQpWzBdKTp0aGlzLnBhcmVudCgpLmNoaWxkcmVuKCkuaW5kZXhPZih0aGlzWzBdKX0saGFzQ2xhc3M6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/by5zb21lLmNhbGwodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50ZXN0KEsodCkpfSxWKHQpKTohMX0sYWRkQ2xhc3M6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe2lmKFxcXCJjbGFzc05hbWVcXFwiaW4gdGhpcyl7aT1bXTt2YXIgbj1LKHRoaXMpLG89WSh0aGlzLHQsZSxuKTtvLnNwbGl0KC9cXFxccysvZykuZm9yRWFjaChmdW5jdGlvbih0KXtyKHRoaXMpLmhhc0NsYXNzKHQpfHxpLnB1c2godCl9LHRoaXMpLGkubGVuZ3RoJiZLKHRoaXMsbisobj9cXFwiIFxcXCI6XFxcIlxcXCIpK2kuam9pbihcXFwiIFxcXCIpKX19KTp0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe2lmKFxcXCJjbGFzc05hbWVcXFwiaW4gdGhpcyl7aWYodD09PWUpcmV0dXJuIEsodGhpcyxcXFwiXFxcIik7aT1LKHRoaXMpLFkodGhpcyx0LG4saSkuc3BsaXQoL1xcXFxzKy9nKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2k9aS5yZXBsYWNlKFYodCksXFxcIiBcXFwiKX0pLEsodGhpcyxpLnRyaW0oKSl9fSl9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKHQsbil7cmV0dXJuIHQ/dGhpcy5lYWNoKGZ1bmN0aW9uKGkpe3ZhciBvPXIodGhpcykscz1ZKHRoaXMsdCxpLEsodGhpcykpO3Muc3BsaXQoL1xcXFxzKy9nKS5mb3JFYWNoKGZ1bmN0aW9uKHQpeyhuPT09ZT8hby5oYXNDbGFzcyh0KTpuKT9vLmFkZENsYXNzKHQpOm8ucmVtb3ZlQ2xhc3ModCl9KX0pOnRoaXN9LHNjcm9sbFRvcDpmdW5jdGlvbih0KXtpZih0aGlzLmxlbmd0aCl7dmFyIG49XFxcInNjcm9sbFRvcFxcXCJpbiB0aGlzWzBdO3JldHVybiB0PT09ZT9uP3RoaXNbMF0uc2Nyb2xsVG9wOnRoaXNbMF0ucGFnZVlPZmZzZXQ6dGhpcy5lYWNoKG4/ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbFRvcD10fTpmdW5jdGlvbigpe3RoaXMuc2Nyb2xsVG8odGhpcy5zY3JvbGxYLHQpfSl9fSxzY3JvbGxMZWZ0OmZ1bmN0aW9uKHQpe2lmKHRoaXMubGVuZ3RoKXt2YXIgbj1cXFwic2Nyb2xsTGVmdFxcXCJpbiB0aGlzWzBdO3JldHVybiB0PT09ZT9uP3RoaXNbMF0uc2Nyb2xsTGVmdDp0aGlzWzBdLnBhZ2VYT2Zmc2V0OnRoaXMuZWFjaChuP2Z1bmN0aW9uKCl7dGhpcy5zY3JvbGxMZWZ0PXR9OmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxUbyh0LHRoaXMuc2Nyb2xsWSl9KX19LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGgpe3ZhciB0PXRoaXNbMF0sZT10aGlzLm9mZnNldFBhcmVudCgpLG49dGhpcy5vZmZzZXQoKSxpPWcudGVzdChlWzBdLm5vZGVOYW1lKT97dG9wOjAsbGVmdDowfTplLm9mZnNldCgpO3JldHVybiBuLnRvcC09cGFyc2VGbG9hdChyKHQpLmNzcyhcXFwibWFyZ2luLXRvcFxcXCIpKXx8MCxuLmxlZnQtPXBhcnNlRmxvYXQocih0KS5jc3MoXFxcIm1hcmdpbi1sZWZ0XFxcIikpfHwwLGkudG9wKz1wYXJzZUZsb2F0KHIoZVswXSkuY3NzKFxcXCJib3JkZXItdG9wLXdpZHRoXFxcIikpfHwwLGkubGVmdCs9cGFyc2VGbG9hdChyKGVbMF0pLmNzcyhcXFwiYm9yZGVyLWxlZnQtd2lkdGhcXFwiKSl8fDAse3RvcDpuLnRvcC1pLnRvcCxsZWZ0Om4ubGVmdC1pLmxlZnR9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMub2Zmc2V0UGFyZW50fHxmLmJvZHk7dCYmIWcudGVzdCh0Lm5vZGVOYW1lKSYmXFxcInN0YXRpY1xcXCI9PXIodCkuY3NzKFxcXCJwb3NpdGlvblxcXCIpOyl0PXQub2Zmc2V0UGFyZW50O3JldHVybiB0fSl9fSxyLmZuLmRldGFjaD1yLmZuLnJlbW92ZSxbXFxcIndpZHRoXFxcIixcXFwiaGVpZ2h0XFxcIl0uZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj10LnJlcGxhY2UoLy4vLGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdLnRvVXBwZXJDYXNlKCl9KTtyLmZuW3RdPWZ1bmN0aW9uKGkpe3ZhciBvLHM9dGhpc1swXTtyZXR1cm4gaT09PWU/ayhzKT9zW1xcXCJpbm5lclxcXCIrbl06TShzKT9zLmRvY3VtZW50RWxlbWVudFtcXFwic2Nyb2xsXFxcIituXToobz10aGlzLm9mZnNldCgpKSYmb1t0XTp0aGlzLmVhY2goZnVuY3Rpb24oZSl7cz1yKHRoaXMpLHMuY3NzKHQsWSh0aGlzLGksZSxzW3RdKCkpKX0pfX0pLHguZm9yRWFjaChmdW5jdGlvbihuLGkpe3ZhciBvPWklMjtyLmZuW25dPWZ1bmN0aW9uKCl7dmFyIG4sYSxzPXIubWFwKGFyZ3VtZW50cyxmdW5jdGlvbih0KXt2YXIgaT1bXTtyZXR1cm4gbj0kKHQpLFxcXCJhcnJheVxcXCI9PW4/KHQuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5ub2RlVHlwZSE9PWU/aS5wdXNoKHQpOnIuemVwdG8uaXNaKHQpP2k9aS5jb25jYXQodC5nZXQoKSk6dm9pZChpPWkuY29uY2F0KE4uZnJhZ21lbnQodCkpKX0pLGkpOlxcXCJvYmplY3RcXFwiPT1ufHxudWxsPT10P3Q6Ti5mcmFnbWVudCh0KX0pLHU9dGhpcy5sZW5ndGg+MTtyZXR1cm4gcy5sZW5ndGg8MT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihlLG4pe2E9bz9uOm4ucGFyZW50Tm9kZSxuPTA9PWk/bi5uZXh0U2libGluZzoxPT1pP24uZmlyc3RDaGlsZDoyPT1pP246bnVsbDt2YXIgYz1yLmNvbnRhaW5zKGYuZG9jdW1lbnRFbGVtZW50LGEpO3MuZm9yRWFjaChmdW5jdGlvbihlKXtpZih1KWU9ZS5jbG9uZU5vZGUoITApO2Vsc2UgaWYoIWEpcmV0dXJuIHIoZSkucmVtb3ZlKCk7YS5pbnNlcnRCZWZvcmUoZSxuKSxjJiZ0dChlLGZ1bmN0aW9uKGUpe2lmKCEobnVsbD09ZS5ub2RlTmFtZXx8XFxcIlNDUklQVFxcXCIhPT1lLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCl8fGUudHlwZSYmXFxcInRleHQvamF2YXNjcmlwdFxcXCIhPT1lLnR5cGV8fGUuc3JjKSl7dmFyIG49ZS5vd25lckRvY3VtZW50P2Uub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldzp0O24uZXZhbC5jYWxsKG4sZS5pbm5lckhUTUwpfX0pfSl9KX0sci5mbltvP24rXFxcIlRvXFxcIjpcXFwiaW5zZXJ0XFxcIisoaT9cXFwiQmVmb3JlXFxcIjpcXFwiQWZ0ZXJcXFwiKV09ZnVuY3Rpb24odCl7cmV0dXJuIHIodClbbl0odGhpcyksdGhpc319KSxOLloucHJvdG90eXBlPVgucHJvdG90eXBlPXIuZm4sTi51bmlxPVAsTi5kZXNlcmlhbGl6ZVZhbHVlPVEsci56ZXB0bz1OLHJ9KCk7cmV0dXJuIHQuWmVwdG89ZSx2b2lkIDA9PT10LiQmJih0LiQ9ZSksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaCh0KXtyZXR1cm4gdC5femlkfHwodC5femlkPW4rKyl9ZnVuY3Rpb24gcCh0LGUsbixyKXtpZihlPWQoZSksZS5ucyl2YXIgaT1tKGUubnMpO3JldHVybihhW2godCldfHxbXSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0JiYoIWUuZXx8dC5lPT1lLmUpJiYoIWUubnN8fGkudGVzdCh0Lm5zKSkmJighbnx8aCh0LmZuKT09PWgobikpJiYoIXJ8fHQuc2VsPT1yKX0pfWZ1bmN0aW9uIGQodCl7dmFyIGU9KFxcXCJcXFwiK3QpLnNwbGl0KFxcXCIuXFxcIik7cmV0dXJue2U6ZVswXSxuczplLnNsaWNlKDEpLnNvcnQoKS5qb2luKFxcXCIgXFxcIil9fWZ1bmN0aW9uIG0odCl7cmV0dXJuIG5ldyBSZWdFeHAoXFxcIig/Ol58IClcXFwiK3QucmVwbGFjZShcXFwiIFxcXCIsXFxcIiAuKiA/XFxcIikrXFxcIig/OiB8JClcXFwiKX1mdW5jdGlvbiBnKHQsZSl7cmV0dXJuIHQuZGVsJiYhZiYmdC5lIGluIGN8fCEhZX1mdW5jdGlvbiB2KHQpe3JldHVybiBsW3RdfHxmJiZjW3RdfHx0fWZ1bmN0aW9uIHkodCxuLGksbyxzLHUsZil7dmFyIGM9aCh0KSxwPWFbY118fChhW2NdPVtdKTtuLnNwbGl0KC9cXFxccy8pLmZvckVhY2goZnVuY3Rpb24obil7aWYoXFxcInJlYWR5XFxcIj09bilyZXR1cm4gZShkb2N1bWVudCkucmVhZHkoaSk7dmFyIGE9ZChuKTthLmZuPWksYS5zZWw9cyxhLmUgaW4gbCYmKGk9ZnVuY3Rpb24odCl7dmFyIG49dC5yZWxhdGVkVGFyZ2V0O3JldHVybiFufHxuIT09dGhpcyYmIWUuY29udGFpbnModGhpcyxuKT9hLmZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9KSxhLmRlbD11O3ZhciBjPXV8fGk7YS5wcm94eT1mdW5jdGlvbihlKXtpZihlPVQoZSksIWUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl7ZS5kYXRhPW87dmFyIG49Yy5hcHBseSh0LGUuX2FyZ3M9PXI/W2VdOltlXS5jb25jYXQoZS5fYXJncykpO3JldHVybiBuPT09ITEmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSksbn19LGEuaT1wLmxlbmd0aCxwLnB1c2goYSksXFxcImFkZEV2ZW50TGlzdGVuZXJcXFwiaW4gdCYmdC5hZGRFdmVudExpc3RlbmVyKHYoYS5lKSxhLnByb3h5LGcoYSxmKSl9KX1mdW5jdGlvbiB4KHQsZSxuLHIsaSl7dmFyIG89aCh0KTsoZXx8XFxcIlxcXCIpLnNwbGl0KC9cXFxccy8pLmZvckVhY2goZnVuY3Rpb24oZSl7cCh0LGUsbixyKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2RlbGV0ZSBhW29dW2UuaV0sXFxcInJlbW92ZUV2ZW50TGlzdGVuZXJcXFwiaW4gdCYmdC5yZW1vdmVFdmVudExpc3RlbmVyKHYoZS5lKSxlLnByb3h5LGcoZSxpKSl9KX0pfWZ1bmN0aW9uIFQodCxuKXtyZXR1cm4obnx8IXQuaXNEZWZhdWx0UHJldmVudGVkKSYmKG58fChuPXQpLGUuZWFjaCh3LGZ1bmN0aW9uKGUscil7dmFyIGk9bltlXTt0W2VdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbcl09YixpJiZpLmFwcGx5KG4sYXJndW1lbnRzKX0sdFtyXT1FfSksdC50aW1lU3RhbXB8fCh0LnRpbWVTdGFtcD1EYXRlLm5vdygpKSwobi5kZWZhdWx0UHJldmVudGVkIT09cj9uLmRlZmF1bHRQcmV2ZW50ZWQ6XFxcInJldHVyblZhbHVlXFxcImluIG4/bi5yZXR1cm5WYWx1ZT09PSExOm4uZ2V0UHJldmVudERlZmF1bHQmJm4uZ2V0UHJldmVudERlZmF1bHQoKSkmJih0LmlzRGVmYXVsdFByZXZlbnRlZD1iKSksdH1mdW5jdGlvbiBTKHQpe3ZhciBlLG49e29yaWdpbmFsRXZlbnQ6dH07Zm9yKGUgaW4gdClqLnRlc3QoZSl8fHRbZV09PT1yfHwobltlXT10W2VdKTtyZXR1cm4gVChuLHQpfXZhciByLG49MSxpPUFycmF5LnByb3RvdHlwZS5zbGljZSxvPWUuaXNGdW5jdGlvbixzPWZ1bmN0aW9uKHQpe3JldHVyblxcXCJzdHJpbmdcXFwiPT10eXBlb2YgdH0sYT17fSx1PXt9LGY9XFxcIm9uZm9jdXNpblxcXCJpbiB0LGM9e2ZvY3VzOlxcXCJmb2N1c2luXFxcIixibHVyOlxcXCJmb2N1c291dFxcXCJ9LGw9e21vdXNlZW50ZXI6XFxcIm1vdXNlb3ZlclxcXCIsbW91c2VsZWF2ZTpcXFwibW91c2VvdXRcXFwifTt1LmNsaWNrPXUubW91c2Vkb3duPXUubW91c2V1cD11Lm1vdXNlbW92ZT1cXFwiTW91c2VFdmVudHNcXFwiLGUuZXZlbnQ9e2FkZDp5LHJlbW92ZTp4fSxlLnByb3h5PWZ1bmN0aW9uKHQsbil7dmFyIHI9MiBpbiBhcmd1bWVudHMmJmkuY2FsbChhcmd1bWVudHMsMik7aWYobyh0KSl7dmFyIGE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShuLHI/ci5jb25jYXQoaS5jYWxsKGFyZ3VtZW50cykpOmFyZ3VtZW50cyl9O3JldHVybiBhLl96aWQ9aCh0KSxhfWlmKHMobikpcmV0dXJuIHI/KHIudW5zaGlmdCh0W25dLHQpLGUucHJveHkuYXBwbHkobnVsbCxyKSk6ZS5wcm94eSh0W25dLHQpO3Rocm93IG5ldyBUeXBlRXJyb3IoXFxcImV4cGVjdGVkIGZ1bmN0aW9uXFxcIil9LGUuZm4uYmluZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMub24odCxlLG4pfSxlLmZuLnVuYmluZD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm9mZih0LGUpfSxlLmZuLm9uZT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy5vbih0LGUsbixyLDEpfTt2YXIgYj1mdW5jdGlvbigpe3JldHVybiEwfSxFPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGo9L14oW0EtWl18cmV0dXJuVmFsdWUkfGxheWVyW1hZXSR8d2Via2l0TW92ZW1lbnRbWFldJCkvLHc9e3ByZXZlbnREZWZhdWx0OlxcXCJpc0RlZmF1bHRQcmV2ZW50ZWRcXFwiLHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpcXFwiaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWRcXFwiLHN0b3BQcm9wYWdhdGlvbjpcXFwiaXNQcm9wYWdhdGlvblN0b3BwZWRcXFwifTtlLmZuLmRlbGVnYXRlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5vbihlLHQsbil9LGUuZm4udW5kZWxlZ2F0ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMub2ZmKGUsdCxuKX0sZS5mbi5saXZlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGUoZG9jdW1lbnQuYm9keSkuZGVsZWdhdGUodGhpcy5zZWxlY3Rvcix0LG4pLHRoaXN9LGUuZm4uZGllPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGUoZG9jdW1lbnQuYm9keSkudW5kZWxlZ2F0ZSh0aGlzLnNlbGVjdG9yLHQsbiksdGhpc30sZS5mbi5vbj1mdW5jdGlvbih0LG4sYSx1LGYpe3ZhciBjLGwsaD10aGlzO3JldHVybiB0JiYhcyh0KT8oZS5lYWNoKHQsZnVuY3Rpb24odCxlKXtoLm9uKHQsbixhLGUsZil9KSxoKToocyhuKXx8byh1KXx8dT09PSExfHwodT1hLGE9bixuPXIpLCh1PT09cnx8YT09PSExKSYmKHU9YSxhPXIpLHU9PT0hMSYmKHU9RSksaC5lYWNoKGZ1bmN0aW9uKHIsbyl7ZiYmKGM9ZnVuY3Rpb24odCl7cmV0dXJuIHgobyx0LnR5cGUsdSksdS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxuJiYobD1mdW5jdGlvbih0KXt2YXIgcixzPWUodC50YXJnZXQpLmNsb3Nlc3QobixvKS5nZXQoMCk7cmV0dXJuIHMmJnMhPT1vPyhyPWUuZXh0ZW5kKFModCkse2N1cnJlbnRUYXJnZXQ6cyxsaXZlRmlyZWQ6b30pLChjfHx1KS5hcHBseShzLFtyXS5jb25jYXQoaS5jYWxsKGFyZ3VtZW50cywxKSkpKTp2b2lkIDB9KSx5KG8sdCx1LGEsbixsfHxjKX0pKX0sZS5mbi5vZmY9ZnVuY3Rpb24odCxuLGkpe3ZhciBhPXRoaXM7cmV0dXJuIHQmJiFzKHQpPyhlLmVhY2godCxmdW5jdGlvbih0LGUpe2Eub2ZmKHQsbixlKX0pLGEpOihzKG4pfHxvKGkpfHxpPT09ITF8fChpPW4sbj1yKSxpPT09ITEmJihpPUUpLGEuZWFjaChmdW5jdGlvbigpe3godGhpcyx0LGksbil9KSl9LGUuZm4udHJpZ2dlcj1mdW5jdGlvbih0LG4pe3JldHVybiB0PXModCl8fGUuaXNQbGFpbk9iamVjdCh0KT9lLkV2ZW50KHQpOlQodCksdC5fYXJncz1uLHRoaXMuZWFjaChmdW5jdGlvbigpe3QudHlwZSBpbiBjJiZcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgdGhpc1t0LnR5cGVdP3RoaXNbdC50eXBlXSgpOlxcXCJkaXNwYXRjaEV2ZW50XFxcImluIHRoaXM/dGhpcy5kaXNwYXRjaEV2ZW50KHQpOmUodGhpcykudHJpZ2dlckhhbmRsZXIodCxuKX0pfSxlLmZuLnRyaWdnZXJIYW5kbGVyPWZ1bmN0aW9uKHQsbil7dmFyIHIsaTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG8sYSl7cj1TKHModCk/ZS5FdmVudCh0KTp0KSxyLl9hcmdzPW4sci50YXJnZXQ9YSxlLmVhY2gocChhLHQudHlwZXx8dCksZnVuY3Rpb24odCxlKXtyZXR1cm4gaT1lLnByb3h5KHIpLHIuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKT8hMTp2b2lkIDB9KX0pLGl9LFxcXCJmb2N1c2luIGZvY3Vzb3V0IGZvY3VzIGJsdXIgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3JcXFwiLnNwbGl0KFxcXCIgXFxcIikuZm9yRWFjaChmdW5jdGlvbih0KXtlLmZuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiAwIGluIGFyZ3VtZW50cz90aGlzLmJpbmQodCxlKTp0aGlzLnRyaWdnZXIodCl9fSksZS5FdmVudD1mdW5jdGlvbih0LGUpe3ModCl8fChlPXQsdD1lLnR5cGUpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUV2ZW50KHVbdF18fFxcXCJFdmVudHNcXFwiKSxyPSEwO2lmKGUpZm9yKHZhciBpIGluIGUpXFxcImJ1YmJsZXNcXFwiPT1pP3I9ISFlW2ldOm5baV09ZVtpXTtyZXR1cm4gbi5pbml0RXZlbnQodCxyLCEwKSxUKG4pfX0oZSksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcCh0LG4scil7dmFyIGk9ZS5FdmVudChuKTtyZXR1cm4gZSh0KS50cmlnZ2VyKGksciksIWkuaXNEZWZhdWx0UHJldmVudGVkKCl9ZnVuY3Rpb24gZCh0LGUsbixpKXtyZXR1cm4gdC5nbG9iYWw/cChlfHxyLG4saSk6dm9pZCAwfWZ1bmN0aW9uIG0odCl7dC5nbG9iYWwmJjA9PT1lLmFjdGl2ZSsrJiZkKHQsbnVsbCxcXFwiYWpheFN0YXJ0XFxcIil9ZnVuY3Rpb24gZyh0KXt0Lmdsb2JhbCYmIS0tZS5hY3RpdmUmJmQodCxudWxsLFxcXCJhamF4U3RvcFxcXCIpfWZ1bmN0aW9uIHYodCxlKXt2YXIgbj1lLmNvbnRleHQ7cmV0dXJuIGUuYmVmb3JlU2VuZC5jYWxsKG4sdCxlKT09PSExfHxkKGUsbixcXFwiYWpheEJlZm9yZVNlbmRcXFwiLFt0LGVdKT09PSExPyExOnZvaWQgZChlLG4sXFxcImFqYXhTZW5kXFxcIixbdCxlXSl9ZnVuY3Rpb24geSh0LGUsbixyKXt2YXIgaT1uLmNvbnRleHQsbz1cXFwic3VjY2Vzc1xcXCI7bi5zdWNjZXNzLmNhbGwoaSx0LG8sZSksciYmci5yZXNvbHZlV2l0aChpLFt0LG8sZV0pLGQobixpLFxcXCJhamF4U3VjY2Vzc1xcXCIsW2Usbix0XSksYihvLGUsbil9ZnVuY3Rpb24geCh0LGUsbixyLGkpe3ZhciBvPXIuY29udGV4dDtyLmVycm9yLmNhbGwobyxuLGUsdCksaSYmaS5yZWplY3RXaXRoKG8sW24sZSx0XSksZChyLG8sXFxcImFqYXhFcnJvclxcXCIsW24scix0fHxlXSksYihlLG4scil9ZnVuY3Rpb24gYih0LGUsbil7dmFyIHI9bi5jb250ZXh0O24uY29tcGxldGUuY2FsbChyLGUsdCksZChuLHIsXFxcImFqYXhDb21wbGV0ZVxcXCIsW2Usbl0pLGcobil9ZnVuY3Rpb24gRSh0LGUsbil7aWYobi5kYXRhRmlsdGVyPT1qKXJldHVybiB0O3ZhciByPW4uY29udGV4dDtyZXR1cm4gbi5kYXRhRmlsdGVyLmNhbGwocix0LGUpfWZ1bmN0aW9uIGooKXt9ZnVuY3Rpb24gdyh0KXtyZXR1cm4gdCYmKHQ9dC5zcGxpdChcXFwiO1xcXCIsMilbMF0pLHQmJih0PT1jP1xcXCJodG1sXFxcIjp0PT1mP1xcXCJqc29uXFxcIjphLnRlc3QodCk/XFxcInNjcmlwdFxcXCI6dS50ZXN0KHQpJiZcXFwieG1sXFxcIil8fFxcXCJ0ZXh0XFxcIn1mdW5jdGlvbiBUKHQsZSl7cmV0dXJuXFxcIlxcXCI9PWU/dDoodCtcXFwiJlxcXCIrZSkucmVwbGFjZSgvWyY/XXsxLDJ9LyxcXFwiP1xcXCIpfWZ1bmN0aW9uIFModCl7dC5wcm9jZXNzRGF0YSYmdC5kYXRhJiZcXFwic3RyaW5nXFxcIiE9ZS50eXBlKHQuZGF0YSkmJih0LmRhdGE9ZS5wYXJhbSh0LmRhdGEsdC50cmFkaXRpb25hbCkpLCF0LmRhdGF8fHQudHlwZSYmXFxcIkdFVFxcXCIhPXQudHlwZS50b1VwcGVyQ2FzZSgpJiZcXFwianNvbnBcXFwiIT10LmRhdGFUeXBlfHwodC51cmw9VCh0LnVybCx0LmRhdGEpLHQuZGF0YT12b2lkIDApfWZ1bmN0aW9uIEModCxuLHIsaSl7cmV0dXJuIGUuaXNGdW5jdGlvbihuKSYmKGk9cixyPW4sbj12b2lkIDApLGUuaXNGdW5jdGlvbihyKXx8KGk9cixyPXZvaWQgMCkse3VybDp0LGRhdGE6bixzdWNjZXNzOnIsZGF0YVR5cGU6aX19ZnVuY3Rpb24gTyh0LG4scixpKXt2YXIgbyxzPWUuaXNBcnJheShuKSxhPWUuaXNQbGFpbk9iamVjdChuKTtlLmVhY2gobixmdW5jdGlvbihuLHUpe289ZS50eXBlKHUpLGkmJihuPXI/aTppK1xcXCJbXFxcIisoYXx8XFxcIm9iamVjdFxcXCI9PW98fFxcXCJhcnJheVxcXCI9PW8/bjpcXFwiXFxcIikrXFxcIl1cXFwiKSwhaSYmcz90LmFkZCh1Lm5hbWUsdS52YWx1ZSk6XFxcImFycmF5XFxcIj09b3x8IXImJlxcXCJvYmplY3RcXFwiPT1vP08odCx1LHIsbik6dC5hZGQobix1KX0pfXZhciBpLG8sbj0rbmV3IERhdGUscj10LmRvY3VtZW50LHM9LzxzY3JpcHRcXFxcYltePF0qKD86KD8hPFxcXFwvc2NyaXB0Pik8W148XSopKjxcXFxcL3NjcmlwdD4vZ2ksYT0vXig/OnRleHR8YXBwbGljYXRpb24pXFxcXC9qYXZhc2NyaXB0L2ksdT0vXig/OnRleHR8YXBwbGljYXRpb24pXFxcXC94bWwvaSxmPVxcXCJhcHBsaWNhdGlvbi9qc29uXFxcIixjPVxcXCJ0ZXh0L2h0bWxcXFwiLGw9L15cXFxccyokLyxoPXIuY3JlYXRlRWxlbWVudChcXFwiYVxcXCIpO2guaHJlZj10LmxvY2F0aW9uLmhyZWYsZS5hY3RpdmU9MCxlLmFqYXhKU09OUD1mdW5jdGlvbihpLG8pe2lmKCEoXFxcInR5cGVcXFwiaW4gaSkpcmV0dXJuIGUuYWpheChpKTt2YXIgYyxwLHM9aS5qc29ucENhbGxiYWNrLGE9KGUuaXNGdW5jdGlvbihzKT9zKCk6cyl8fFxcXCJaZXB0b1xcXCIrbisrLHU9ci5jcmVhdGVFbGVtZW50KFxcXCJzY3JpcHRcXFwiKSxmPXRbYV0sbD1mdW5jdGlvbih0KXtlKHUpLnRyaWdnZXJIYW5kbGVyKFxcXCJlcnJvclxcXCIsdHx8XFxcImFib3J0XFxcIil9LGg9e2Fib3J0Omx9O3JldHVybiBvJiZvLnByb21pc2UoaCksZSh1KS5vbihcXFwibG9hZCBlcnJvclxcXCIsZnVuY3Rpb24obixyKXtjbGVhclRpbWVvdXQocCksZSh1KS5vZmYoKS5yZW1vdmUoKSxcXFwiZXJyb3JcXFwiIT1uLnR5cGUmJmM/eShjWzBdLGgsaSxvKTp4KG51bGwscnx8XFxcImVycm9yXFxcIixoLGksbyksdFthXT1mLGMmJmUuaXNGdW5jdGlvbihmKSYmZihjWzBdKSxmPWM9dm9pZCAwfSksdihoLGkpPT09ITE/KGwoXFxcImFib3J0XFxcIiksaCk6KHRbYV09ZnVuY3Rpb24oKXtjPWFyZ3VtZW50c30sdS5zcmM9aS51cmwucmVwbGFjZSgvXFxcXD8oLispPVxcXFw/LyxcXFwiPyQxPVxcXCIrYSksci5oZWFkLmFwcGVuZENoaWxkKHUpLGkudGltZW91dD4wJiYocD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bChcXFwidGltZW91dFxcXCIpfSxpLnRpbWVvdXQpKSxoKX0sZS5hamF4U2V0dGluZ3M9e3R5cGU6XFxcIkdFVFxcXCIsYmVmb3JlU2VuZDpqLHN1Y2Nlc3M6aixlcnJvcjpqLGNvbXBsZXRlOmosY29udGV4dDpudWxsLGdsb2JhbDohMCx4aHI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQuWE1MSHR0cFJlcXVlc3R9LGFjY2VwdHM6e3NjcmlwdDpcXFwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi94LWphdmFzY3JpcHRcXFwiLGpzb246Zix4bWw6XFxcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcXFwiLGh0bWw6Yyx0ZXh0OlxcXCJ0ZXh0L3BsYWluXFxcIn0sY3Jvc3NEb21haW46ITEsdGltZW91dDowLHByb2Nlc3NEYXRhOiEwLGNhY2hlOiEwLGRhdGFGaWx0ZXI6an0sZS5hamF4PWZ1bmN0aW9uKG4pe3ZhciB1LGYscz1lLmV4dGVuZCh7fSxufHx7fSksYT1lLkRlZmVycmVkJiZlLkRlZmVycmVkKCk7Zm9yKGkgaW4gZS5hamF4U2V0dGluZ3Mpdm9pZCAwPT09c1tpXSYmKHNbaV09ZS5hamF4U2V0dGluZ3NbaV0pO20ocykscy5jcm9zc0RvbWFpbnx8KHU9ci5jcmVhdGVFbGVtZW50KFxcXCJhXFxcIiksdS5ocmVmPXMudXJsLHUuaHJlZj11LmhyZWYscy5jcm9zc0RvbWFpbj1oLnByb3RvY29sK1xcXCIvL1xcXCIraC5ob3N0IT11LnByb3RvY29sK1xcXCIvL1xcXCIrdS5ob3N0KSxzLnVybHx8KHMudXJsPXQubG9jYXRpb24udG9TdHJpbmcoKSksKGY9cy51cmwuaW5kZXhPZihcXFwiI1xcXCIpKT4tMSYmKHMudXJsPXMudXJsLnNsaWNlKDAsZikpLFMocyk7dmFyIGM9cy5kYXRhVHlwZSxwPS9cXFxcPy4rPVxcXFw/Ly50ZXN0KHMudXJsKTtpZihwJiYoYz1cXFwianNvbnBcXFwiKSxzLmNhY2hlIT09ITEmJihuJiZuLmNhY2hlPT09ITB8fFxcXCJzY3JpcHRcXFwiIT1jJiZcXFwianNvbnBcXFwiIT1jKXx8KHMudXJsPVQocy51cmwsXFxcIl89XFxcIitEYXRlLm5vdygpKSksXFxcImpzb25wXFxcIj09YylyZXR1cm4gcHx8KHMudXJsPVQocy51cmwscy5qc29ucD9zLmpzb25wK1xcXCI9P1xcXCI6cy5qc29ucD09PSExP1xcXCJcXFwiOlxcXCJjYWxsYmFjaz0/XFxcIikpLGUuYWpheEpTT05QKHMsYSk7dmFyIFAsZD1zLmFjY2VwdHNbY10sZz17fSxiPWZ1bmN0aW9uKHQsZSl7Z1t0LnRvTG93ZXJDYXNlKCldPVt0LGVdfSxDPS9eKFtcXFxcdy1dKzopXFxcXC9cXFxcLy8udGVzdChzLnVybCk/UmVnRXhwLiQxOnQubG9jYXRpb24ucHJvdG9jb2wsTj1zLnhocigpLE89Ti5zZXRSZXF1ZXN0SGVhZGVyO2lmKGEmJmEucHJvbWlzZShOKSxzLmNyb3NzRG9tYWlufHxiKFxcXCJYLVJlcXVlc3RlZC1XaXRoXFxcIixcXFwiWE1MSHR0cFJlcXVlc3RcXFwiKSxiKFxcXCJBY2NlcHRcXFwiLGR8fFxcXCIqLypcXFwiKSwoZD1zLm1pbWVUeXBlfHxkKSYmKGQuaW5kZXhPZihcXFwiLFxcXCIpPi0xJiYoZD1kLnNwbGl0KFxcXCIsXFxcIiwyKVswXSksTi5vdmVycmlkZU1pbWVUeXBlJiZOLm92ZXJyaWRlTWltZVR5cGUoZCkpLChzLmNvbnRlbnRUeXBlfHxzLmNvbnRlbnRUeXBlIT09ITEmJnMuZGF0YSYmXFxcIkdFVFxcXCIhPXMudHlwZS50b1VwcGVyQ2FzZSgpKSYmYihcXFwiQ29udGVudC1UeXBlXFxcIixzLmNvbnRlbnRUeXBlfHxcXFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXFxcIikscy5oZWFkZXJzKWZvcihvIGluIHMuaGVhZGVycyliKG8scy5oZWFkZXJzW29dKTtpZihOLnNldFJlcXVlc3RIZWFkZXI9YixOLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PU4ucmVhZHlTdGF0ZSl7Ti5vbnJlYWR5c3RhdGVjaGFuZ2U9aixjbGVhclRpbWVvdXQoUCk7dmFyIHQsbj0hMTtpZihOLnN0YXR1cz49MjAwJiZOLnN0YXR1czwzMDB8fDMwND09Ti5zdGF0dXN8fDA9PU4uc3RhdHVzJiZcXFwiZmlsZTpcXFwiPT1DKXtpZihjPWN8fHcocy5taW1lVHlwZXx8Ti5nZXRSZXNwb25zZUhlYWRlcihcXFwiY29udGVudC10eXBlXFxcIikpLFxcXCJhcnJheWJ1ZmZlclxcXCI9PU4ucmVzcG9uc2VUeXBlfHxcXFwiYmxvYlxcXCI9PU4ucmVzcG9uc2VUeXBlKXQ9Ti5yZXNwb25zZTtlbHNle3Q9Ti5yZXNwb25zZVRleHQ7dHJ5e3Q9RSh0LGMscyksXFxcInNjcmlwdFxcXCI9PWM/KDEsZXZhbCkodCk6XFxcInhtbFxcXCI9PWM/dD1OLnJlc3BvbnNlWE1MOlxcXCJqc29uXFxcIj09YyYmKHQ9bC50ZXN0KHQpP251bGw6ZS5wYXJzZUpTT04odCkpfWNhdGNoKHIpe249cn1pZihuKXJldHVybiB4KG4sXFxcInBhcnNlcmVycm9yXFxcIixOLHMsYSl9eSh0LE4scyxhKX1lbHNlIHgoTi5zdGF0dXNUZXh0fHxudWxsLE4uc3RhdHVzP1xcXCJlcnJvclxcXCI6XFxcImFib3J0XFxcIixOLHMsYSl9fSx2KE4scyk9PT0hMSlyZXR1cm4gTi5hYm9ydCgpLHgobnVsbCxcXFwiYWJvcnRcXFwiLE4scyxhKSxOO3ZhciBBPVxcXCJhc3luY1xcXCJpbiBzP3MuYXN5bmM6ITA7aWYoTi5vcGVuKHMudHlwZSxzLnVybCxBLHMudXNlcm5hbWUscy5wYXNzd29yZCkscy54aHJGaWVsZHMpZm9yKG8gaW4gcy54aHJGaWVsZHMpTltvXT1zLnhockZpZWxkc1tvXTtmb3IobyBpbiBnKU8uYXBwbHkoTixnW29dKTtyZXR1cm4gcy50aW1lb3V0PjAmJihQPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtOLm9ucmVhZHlzdGF0ZWNoYW5nZT1qLE4uYWJvcnQoKSx4KG51bGwsXFxcInRpbWVvdXRcXFwiLE4scyxhKX0scy50aW1lb3V0KSksTi5zZW5kKHMuZGF0YT9zLmRhdGE6bnVsbCksTn0sZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hamF4KEMuYXBwbHkobnVsbCxhcmd1bWVudHMpKX0sZS5wb3N0PWZ1bmN0aW9uKCl7dmFyIHQ9Qy5hcHBseShudWxsLGFyZ3VtZW50cyk7cmV0dXJuIHQudHlwZT1cXFwiUE9TVFxcXCIsZS5hamF4KHQpfSxlLmdldEpTT049ZnVuY3Rpb24oKXt2YXIgdD1DLmFwcGx5KG51bGwsYXJndW1lbnRzKTtyZXR1cm4gdC5kYXRhVHlwZT1cXFwianNvblxcXCIsZS5hamF4KHQpfSxlLmZuLmxvYWQ9ZnVuY3Rpb24odCxuLHIpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpczt2YXIgYSxpPXRoaXMsbz10LnNwbGl0KC9cXFxccy8pLHU9Qyh0LG4sciksZj11LnN1Y2Nlc3M7cmV0dXJuIG8ubGVuZ3RoPjEmJih1LnVybD1vWzBdLGE9b1sxXSksdS5zdWNjZXNzPWZ1bmN0aW9uKHQpe2kuaHRtbChhP2UoXFxcIjxkaXY+XFxcIikuaHRtbCh0LnJlcGxhY2UocyxcXFwiXFxcIikpLmZpbmQoYSk6dCksZiYmZi5hcHBseShpLGFyZ3VtZW50cyl9LGUuYWpheCh1KSx0aGlzfTt2YXIgTj1lbmNvZGVVUklDb21wb25lbnQ7ZS5wYXJhbT1mdW5jdGlvbih0LG4pe3ZhciByPVtdO3JldHVybiByLmFkZD1mdW5jdGlvbih0LG4pe2UuaXNGdW5jdGlvbihuKSYmKG49bigpKSxudWxsPT1uJiYobj1cXFwiXFxcIiksdGhpcy5wdXNoKE4odCkrXFxcIj1cXFwiK04obikpfSxPKHIsdCxuKSxyLmpvaW4oXFxcIiZcXFwiKS5yZXBsYWNlKC8lMjAvZyxcXFwiK1xcXCIpfX0oZSksZnVuY3Rpb24odCl7dC5mbi5zZXJpYWxpemVBcnJheT1mdW5jdGlvbigpe3ZhciBlLG4scj1bXSxpPWZ1bmN0aW9uKHQpe3JldHVybiB0LmZvckVhY2g/dC5mb3JFYWNoKGkpOnZvaWQgci5wdXNoKHtuYW1lOmUsdmFsdWU6dH0pfTtyZXR1cm4gdGhpc1swXSYmdC5lYWNoKHRoaXNbMF0uZWxlbWVudHMsZnVuY3Rpb24ocixvKXtuPW8udHlwZSxlPW8ubmFtZSxlJiZcXFwiZmllbGRzZXRcXFwiIT1vLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiFvLmRpc2FibGVkJiZcXFwic3VibWl0XFxcIiE9biYmXFxcInJlc2V0XFxcIiE9biYmXFxcImJ1dHRvblxcXCIhPW4mJlxcXCJmaWxlXFxcIiE9biYmKFxcXCJyYWRpb1xcXCIhPW4mJlxcXCJjaGVja2JveFxcXCIhPW58fG8uY2hlY2tlZCkmJmkodChvKS52YWwoKSl9KSxyfSx0LmZuLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLnNlcmlhbGl6ZUFycmF5KCkuZm9yRWFjaChmdW5jdGlvbihlKXt0LnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGUubmFtZSkrXFxcIj1cXFwiK2VuY29kZVVSSUNvbXBvbmVudChlLnZhbHVlKSl9KSx0LmpvaW4oXFxcIiZcXFwiKX0sdC5mbi5zdWJtaXQ9ZnVuY3Rpb24oZSl7aWYoMCBpbiBhcmd1bWVudHMpdGhpcy5iaW5kKFxcXCJzdWJtaXRcXFwiLGUpO2Vsc2UgaWYodGhpcy5sZW5ndGgpe3ZhciBuPXQuRXZlbnQoXFxcInN1Ym1pdFxcXCIpO3RoaXMuZXEoMCkudHJpZ2dlcihuKSxuLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx0aGlzLmdldCgwKS5zdWJtaXQoKX1yZXR1cm4gdGhpc319KGUpLGZ1bmN0aW9uKCl7dHJ5e2dldENvbXB1dGVkU3R5bGUodm9pZCAwKX1jYXRjaChlKXt2YXIgbj1nZXRDb21wdXRlZFN0eWxlO3QuZ2V0Q29tcHV0ZWRTdHlsZT1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gbih0LGUpfWNhdGNoKHIpe3JldHVybiBudWxsfX19fSgpLGV9KTtcIlxuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9jc3MzZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXyg2KSk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cbl9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmxvYWRNYW5pZmVzdCgpO1xuXG5mdW5jdGlvbiBsb2FkTWFuaWZlc3QoKSB7XG4gIHZhciBtYW5pZmVzdCA9IFsvLyB7IHNyYzogcmVxdWlyZSgnLi4vaW1nL2ZpcnN0L2JhY2tncm91bmQuanBnJyksIGlkOiAncGFnZTFfYmFja2dyb3VuZCcgfSxcbiAgICAvLyB7IHNyYzogcmVxdWlyZSgnLi4vaW1nL2ZpcnN0L2J1dHRvbi5naWYnKSwgaWQ6ICdwYWdlMV9idXR0b24nIH0sXG4gICAgLy8geyBzcmM6IHJlcXVpcmUoJy4uL2ltZy9maXJzdC9jb3VwbGV0LWxlZnQucG5nJyksIGlkOiAncGFnZTFfY291cGxldC1sZWZ0JyB9LFxuICAgIC8vIHsgc3JjOiByZXF1aXJlKCcuLi9pbWcvZmlyc3QvY291cGxldC1yaWdodC5wbmcnKSwgaWQ6ICdwYWdlMV9jb3VwbGV0LXJpZ2h0JyB9LFxuICAgIC8vIHsgc3JjOiByZXF1aXJlKCcuLi9pbWcvZmlyc3Qvc2xvZ2VuLnBuZycpLCBpZDogJ3BhZ2UxX3Nsb2dlbicgfSxcbiAgICAvLyB7IHNyYzogcmVxdWlyZSgnLi4vaW1nL2ZpcnN0L3N0YWdlLmdpZicpLCBpZDogJ3BhZ2UxX3N0YWdlJyB9XG4gIF07XG4gIHZhciBxdWV1ZSA9IG5ldyBjcmVhdGVqcy5Mb2FkUXVldWUoKTtcbiAgcXVldWUub24oJ3Byb2dyZXNzJywgZnVuY3Rpb24gKCkge1xuICAgIC8vICQoJyNsb2FkaW5nIC5sb2FkaW5nX19jb250ZW50X19udW1iZXInKS50ZXh0KChxdWV1ZS5wcm9ncmVzcyoxMDB8MCkgKyAnJScpO1xuICAgIGNvbnNvbGUubG9nKChxdWV1ZS5wcm9ncmVzcyAqIDEwMCB8IDApICsgJyUnKTtcbiAgfSk7XG4gIHF1ZXVlLm9uKCdjb21wbGV0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZygnbG9hZGluZyBjb21wbGV0ZScpO1xuICAgIHN0YXJ0KCk7XG4gIH0sIHRoaXMpO1xuICBxdWV1ZS5sb2FkTWFuaWZlc3QobWFuaWZlc3QpO1xufVxuXG47XG5cbmZ1bmN0aW9uIHN0YXJ0KCkge1xuICBjb25zb2xlLmxvZygnd3d3dycsIF9jc3MzZC5kZWZhdWx0KTsgLy8g5Yib5bu65Zy65pmvXG5cbiAgdmFyIHN0YWdlID0gbmV3IF9jc3MzZC5kZWZhdWx0LlN0YWdlKHtcbiAgICBlbDogJCgnI3RocmVlJylbMF1cbiAgfSk7XG4gIHN0YWdlLnNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCkudXBkYXRlKCk7IC8vIOWuueWZqFxuXG4gIHZhciBzcE1haW4gPSBuZXcgX2NzczNkLmRlZmF1bHQuU3ByaXRlKCk7XG4gIHNwTWFpbi5wb3NpdGlvbigwLCAwLCAtNjAwKS51cGRhdGUoKTtcbiAgc3RhZ2UuYWRkQ2hpbGQoc3BNYWluKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlZFBhbm9CZygpIHt9XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187ZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuLyohXG4gKiBWRVJTSU9OOiAwLjguNFxuICogREFURTogMjAxNy0xMC0wOVxuICogR0lUOiBodHRwczovL2dpdGh1Yi5jb20vc2hyZWtzaHJlay9jc3MzZC1lbmdpbmVcbiAqIEBhdXRob3I6IFNocmVrLndhbmdcbiAqKi9cbiFmdW5jdGlvbiAodCkge1xuICAgdHJ1ZSA/ICEoX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyA9IFtleHBvcnRzXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSAoZnVuY3Rpb24gKGkpIHtcbiAgICB3aW5kb3cuQzNEID0gdChpKTtcbiAgfSkuYXBwbHkoZXhwb3J0cywgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyksXG5cdFx0XHRcdF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fICE9PSB1bmRlZmluZWQgJiYgKG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18pKSA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGV4cG9ydHMgPyB0KGV4cG9ydHMpIDogd2luZG93LkMzRCA9IHQoe30pO1xufShmdW5jdGlvbiAodCkge1xuICBmdW5jdGlvbiBpKHQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGUodCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKDEwMCAqIHQpIC8gMTAwO1xuICB9XG5cbiAgZnVuY3Rpb24gcyh0KSB7XG4gICAgcmV0dXJuIHQucmVwbGFjZSgvXFxiKFxcdyl8XFxzKFxcdykvZywgZnVuY3Rpb24gKHQpIHtcbiAgICAgIHJldHVybiB0LnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBuKGkpIHtcbiAgICB2YXIgZTtcblxuICAgIHN3aXRjaCAoaS50eXBlKSB7XG4gICAgICBjYXNlIFwic3ByaXRlXCI6XG4gICAgICAgIGUgPSBuZXcgdC5TcHJpdGUoaS5lbCA/IHtcbiAgICAgICAgICBlbDogaS5lbFxuICAgICAgICB9IDogdm9pZCAwKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJwbGFuZVwiOlxuICAgICAgICBlID0gbmV3IHQuUGxhbmUoaS5lbCA/IHtcbiAgICAgICAgICBlbDogaS5lbFxuICAgICAgICB9IDogdm9pZCAwKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJib3hcIjpcbiAgICAgICAgZSA9IG5ldyB0LkJveChpLmVsID8ge1xuICAgICAgICAgIGVsOiBpLmVsXG4gICAgICAgIH0gOiB2b2lkIDApO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcInNreWJveFwiOlxuICAgICAgICBlID0gbmV3IHQuU2t5Ym94KGkuZWwgPyB7XG4gICAgICAgICAgZWw6IGkuZWxcbiAgICAgICAgfSA6IHZvaWQgMCk7XG4gICAgfVxuXG4gICAgaWYgKHZvaWQgMCAhPSBpLnNpemUgJiYgZS5zaXplLmFwcGx5KGUsIGkuc2l6ZSksIHZvaWQgMCAhPSBpLnBvc2l0aW9uICYmIGUucG9zaXRpb24uYXBwbHkoZSwgaS5wb3NpdGlvbiksIHZvaWQgMCAhPSBpLnJvdGF0aW9uICYmIGUucm90YXRpb24uYXBwbHkoZSwgaS5yb3RhdGlvbiksIHZvaWQgMCAhPSBpLnNjYWxlICYmIGUuc2NhbGUuYXBwbHkoZSwgaS5zY2FsZSksIHZvaWQgMCAhPSBpLm9yaWdpbiAmJiBlLm9yaWdpbi5hcHBseShlLCBpLm9yaWdpbiksIHZvaWQgMCAhPSBpLnZpc2liaWxpdHkgJiYgZS52aXNpYmlsaXR5LmFwcGx5KGUsIGkudmlzaWJpbGl0eSksIHZvaWQgMCAhPSBpLm1hdGVyaWFsICYmIGUubWF0ZXJpYWwuYXBwbHkoZSwgaS5tYXRlcmlhbCksIHZvaWQgMCAhPSBpLmZpbHRlciAmJiBlLmZpbHRlci5hcHBseShlLCBpLmZpbHRlciksIHZvaWQgMCAhPSBpLm5hbWUgJiYgZS5uYW1lLmFwcGx5KGUsIFtpLm5hbWVdKSwgdm9pZCAwICE9IGkuaWQgJiYgZS5pZC5hcHBseShlLCBbaS5pZF0pLCB2b2lkIDAgIT0gaVtcImNsYXNzXCJdICYmIGVbXCJjbGFzc1wiXS5hcHBseShlLCBbaVtcImNsYXNzXCJdXSksIGUudXBkYXRlKCksIGkuY2hpbGRyZW4pIGZvciAodmFyIHMgPSAwLCByID0gaS5jaGlsZHJlbi5sZW5ndGg7IHIgPiBzOyBzKyspIHtcbiAgICAgIHZhciBoID0gaS5jaGlsZHJlbltzXSxcbiAgICAgICAgICBhID0gbihoKTtcbiAgICAgIGUuYWRkQ2hpbGQoYSk7XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9XG5cbiAgdmFyIHIgPSBmdW5jdGlvbiByKHQsIGkpIHtcbiAgICB2YXIgZSxcbiAgICAgICAgcyA9IHRoaXM7XG4gICAgZSA9IHQgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIFwiY29uc3RydWN0b3JcIikgPyB0LmNvbnN0cnVjdG9yIDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LCBPYmplY3QuYXNzaWduKGUsIHMsIGkpO1xuXG4gICAgdmFyIG4gPSBmdW5jdGlvbiBuKCkge1xuICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGU7XG4gICAgfTtcblxuICAgIHJldHVybiBuLnByb3RvdHlwZSA9IHMucHJvdG90eXBlLCBlLnByb3RvdHlwZSA9IG5ldyBuKCksIHQgJiYgT2JqZWN0LmFzc2lnbihlLnByb3RvdHlwZSwgdCksIGUuX19zdXBlcl9fID0gcy5wcm90b3R5cGUsIGU7XG4gIH0sXG4gICAgICBoID0gXCJcIjtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgICAgaSA9IFtcIldlYmtpdFwiLCBcIk1velwiLCBcIk1zXCIsIFwiT1wiXTtcblxuICAgIGZvciAodmFyIGUgaW4gaSkge1xuICAgICAgaWYgKGlbZV0gKyBcIlRyYW5zZm9ybVwiIGluIHQuc3R5bGUpIHtcbiAgICAgICAgaCA9IGlbZV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSgpLCB0LmdldFJhbmRvbUNvbG9yID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIiNcIiArIChcIjAwMDAwXCIgKyAoMTY3NzcyMTYgKiBNYXRoLnJhbmRvbSgpIDw8IDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpO1xuICB9LCB0LnJnYjJoZXggPSBmdW5jdGlvbiAodCwgaSwgZSkge1xuICAgIHJldHVybiAodCA8PCAxNiB8IGkgPDwgOCB8IGUpLnRvU3RyaW5nKDE2KTtcbiAgfSwgdC5oZXgycmdiID0gZnVuY3Rpb24gKHQpIHtcbiAgICB2YXIgaSA9IE1hdGguZmxvb3IoXCIweFwiICsgdCksXG4gICAgICAgIGUgPSBpID4+IDE2ICYgMjU1LFxuICAgICAgICBzID0gaSA+PiA4ICYgMjU1LFxuICAgICAgICBuID0gMjU1ICYgaTtcbiAgICByZXR1cm4gW2UsIHMsIG5dO1xuICB9LCB0Lk9iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSwgT2JqZWN0LmFzc2lnbih0Lk9iamVjdC5wcm90b3R5cGUsIHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgejogMCxcbiAgICBwb3NpdGlvbjogZnVuY3Rpb24gcG9zaXRpb24odCwgaSwgZSkge1xuICAgICAgaWYgKHZvaWQgMCA9PSB0KSB0aHJvdyBcInBvc2l0aW9uIGFyZ3VtZW50cyBpcyB3cm9uZyFcIjtcbiAgICAgIHJldHVybiB0aGlzLnggPSB0LCB0aGlzLnkgPSB2b2lkIDAgPT0gaSA/IHQgOiBpLCB0aGlzLnogPSB2b2lkIDAgPT0gZSA/IHQgOiBlLCB0aGlzO1xuICAgIH0sXG4gICAgbW92ZTogZnVuY3Rpb24gbW92ZSh0LCBpLCBlKSB7XG4gICAgICBpZiAodm9pZCAwID09IHQpIHRocm93IFwibW92ZSBhcmd1bWVudHMgaXMgd3JvbmchXCI7XG4gICAgICByZXR1cm4gdGhpcy54ICs9IHQsIHRoaXMueSArPSB2b2lkIDAgPT0gaSA/IHQgOiBpLCB0aGlzLnogKz0gdm9pZCAwID09IGUgPyB0IDogZSwgdGhpcztcbiAgICB9LFxuICAgIHJvdGF0aW9uWDogMCxcbiAgICByb3RhdGlvblk6IDAsXG4gICAgcm90YXRpb25aOiAwLFxuICAgIHJvdGF0aW9uOiBmdW5jdGlvbiByb3RhdGlvbih0LCBpLCBlKSB7XG4gICAgICBpZiAodm9pZCAwID09IHQpIHRocm93IFwicm90YXRpb24gYXJndW1lbnRzIGlzIHdyb25nIVwiO1xuICAgICAgcmV0dXJuIHRoaXMucm90YXRpb25YID0gdCwgdGhpcy5yb3RhdGlvblkgPSB2b2lkIDAgPT0gaSA/IHQgOiBpLCB0aGlzLnJvdGF0aW9uWiA9IHZvaWQgMCA9PSBlID8gdCA6IGUsIHRoaXM7XG4gICAgfSxcbiAgICByb3RhdGU6IGZ1bmN0aW9uIHJvdGF0ZSh0LCBpLCBlKSB7XG4gICAgICBpZiAodm9pZCAwID09IHQpIHRocm93IFwicm90YXRlIGFyZ3VtZW50cyBpcyB3cm9uZyFcIjtcbiAgICAgIHJldHVybiB0aGlzLnJvdGF0aW9uWCArPSB0LCB0aGlzLnJvdGF0aW9uWSArPSB2b2lkIDAgPT0gaSA/IHQgOiBpLCB0aGlzLnJvdGF0aW9uWiArPSB2b2lkIDAgPT0gZSA/IHQgOiBlLCB0aGlzO1xuICAgIH0sXG4gICAgc2NhbGVYOiAxLFxuICAgIHNjYWxlWTogMSxcbiAgICBzY2FsZVo6IDEsXG4gICAgc2NhbGU6IGZ1bmN0aW9uIHNjYWxlKHQsIGksIGUpIHtcbiAgICAgIGlmICh2b2lkIDAgPT0gdCkgdGhyb3cgXCJzY2FsZSBhcmd1bWVudHMgaXMgd3JvbmchXCI7XG4gICAgICByZXR1cm4gdGhpcy5zY2FsZVggPSB0LCB0aGlzLnNjYWxlWSA9IHZvaWQgMCA9PSBpID8gdCA6IGksIHRoaXMuc2NhbGVaID0gdm9pZCAwID09IGUgPyB0IDogZSwgdGhpcztcbiAgICB9LFxuICAgIHdpZHRoOiAwLFxuICAgIGhlaWdodDogMCxcbiAgICBkZXB0aDogMCxcbiAgICBzaXplOiBmdW5jdGlvbiBzaXplKHQsIGksIGUpIHtcbiAgICAgIGlmICh2b2lkIDAgPT0gdCkgdGhyb3cgXCJzaXplIGFyZ3VtZW50cyBpcyB3cm9uZyFcIjtcbiAgICAgIHJldHVybiB0aGlzLndpZHRoID0gdCwgdGhpcy5oZWlnaHQgPSB2b2lkIDAgPT0gaSA/IHQgOiBpLCB0aGlzLmRlcHRoID0gdm9pZCAwID09IGUgPyB0IDogZSwgdGhpcztcbiAgICB9LFxuICAgIG9yaWdpblg6IDAsXG4gICAgb3JpZ2luWTogMCxcbiAgICBvcmlnaW5aOiAwLFxuICAgIF9fb3JnTzoge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB6OiAwXG4gICAgfSxcbiAgICBfX29yZ1Q6IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgejogMFxuICAgIH0sXG4gICAgX19vcmdGOiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHo6IDBcbiAgICB9LFxuICAgIG9yaWdpbjogZnVuY3Rpb24gb3JpZ2luKHQsIGksIGUpIHtcbiAgICAgIGlmICh2b2lkIDAgPT0gdCkgdGhyb3cgXCJzaXplIGFyZ3VtZW50cyBpcyB3cm9uZyFcIjtcbiAgICAgIHJldHVybiB0aGlzLm9yaWdpblggPSB0LCB0aGlzLm9yaWdpblkgPSB2b2lkIDAgPT0gaSA/IHQgOiBpLCB0aGlzLm9yaWdpblogPSB2b2lkIDAgPT0gZSA/IHQgOiBlLCB0aGlzO1xuICAgIH0sXG4gICAgX19zb3J0OiBbXCJYXCIsIFwiWVwiLCBcIlpcIl0sXG4gICAgc29ydDogZnVuY3Rpb24gc29ydCh0LCBpLCBlKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDMpIHRocm93IFwic29ydCBhcmd1bWVudHMgaXMgd3JvbmchXCI7XG4gICAgICByZXR1cm4gdGhpcy5fX3NvcnQgPSBbdCwgaSwgZV0sIHRoaXM7XG4gICAgfSxcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgdGhpcy54ID0gMCwgdGhpcy55ID0gMCwgdGhpcy56ID0gMCwgdGhpcy5yb3RhdGlvblggPSAwLCB0aGlzLnJvdGF0aW9uWSA9IDAsIHRoaXMucm90YXRpb25aID0gMCwgdGhpcy5zY2FsZVggPSAxLCB0aGlzLnNjYWxlWSA9IDEsIHRoaXMuc2NhbGVaID0gMSwgdGhpcy53aWR0aCA9IDAsIHRoaXMuaGVpZ2h0ID0gMCwgdGhpcy5kZXB0aCA9IDAsIHRoaXMub3JpZ2luWCA9IFwiNTAlXCIsIHRoaXMub3JpZ2luWSA9IFwiNTAlXCIsIHRoaXMub3JpZ2luWiA9IFwiMHB4XCIsIHRoaXMuX19vcmdPID0ge1xuICAgICAgICB4OiBcIjUwJVwiLFxuICAgICAgICB5OiBcIjUwJVwiLFxuICAgICAgICB6OiBcIjBweFwiXG4gICAgICB9LCB0aGlzLl9fb3JnVCA9IHtcbiAgICAgICAgeDogXCItNTAlXCIsXG4gICAgICAgIHk6IFwiLTUwJVwiLFxuICAgICAgICB6OiBcIjBweFwiXG4gICAgICB9LCB0aGlzLl9fb3JnRiA9IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgICAgejogMFxuICAgICAgfSwgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIH0sXG4gICAgcGFyZW50OiBudWxsLFxuICAgIGNoaWxkcmVuOiBudWxsLFxuICAgIGFkZENoaWxkOiBmdW5jdGlvbiBhZGRDaGlsZCh0KSB7XG4gICAgICBpZiAobnVsbCAhPSB0LnBhcmVudCAmJiB0LnBhcmVudC5yZW1vdmVDaGlsZCh0KSwgXCJcIiAhPSB0Ll9fbmFtZSkge1xuICAgICAgICBpZiAodm9pZCAwICE9PSB0aGlzW3QuX19uYW1lXSkgdGhyb3cgdC5fX25hbWUgKyBcIiBhbHJlYWR5IGV4aXN0IVwiO1xuICAgICAgICB0aGlzW3QuX19uYW1lXSA9IHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLnB1c2godCksIHQucGFyZW50ID0gdGhpcywgdGhpcztcbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkOiBmdW5jdGlvbiByZW1vdmVDaGlsZCh0KSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXSA9PT0gdCkgcmV0dXJuIFwiXCIgIT0gdC5fX25hbWUgJiYgZGVsZXRlIHRoaXNbdC5fX25hbWVdLCB0aGlzLmNoaWxkcmVuLnNwbGljZShpLCAxKSwgdC5wYXJlbnQgPSBudWxsLCB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHJlbW92ZUFsbENoaWxkOiBmdW5jdGlvbiByZW1vdmVBbGxDaGlsZCgpIHtcbiAgICAgIGZvciAodmFyIHQgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7IHQgPj0gMDsgdC0tKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5jaGlsZHJlblt0XTtcbiAgICAgICAgXCJcIiAhPSBpLl9fbmFtZSAmJiBkZWxldGUgdGhpc1tpLl9fbmFtZV0sIGkucGFyZW50ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4gPSBbXSwgdGhpcztcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmV0dXJuIG51bGwgIT0gdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyksIHRoaXM7XG4gICAgfVxuICB9KSwgdC5PYmplY3QuZXh0ZW5kID0gciwgdC5TcHJpdGUgPSB0Lk9iamVjdC5leHRlbmQoe1xuICAgIGVsOiBudWxsLFxuICAgIGFscGhhOiAxLFxuICAgIHZpc2libGU6ICEwLFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoaSkge1xuICAgICAgdC5TcHJpdGUuX19zdXBlcl9fLmluaXRpYWxpemUuYXBwbHkodGhpcywgW2ldKSwgdGhpcy5fX25hbWUgPSBcIlwiLCB0aGlzLl9faWQgPSBcIlwiLCB0aGlzLl9fY2xhc3MgPSBcIlwiLCB0aGlzLmFscGhhID0gMSwgdGhpcy52aXNpYmxlID0gITA7XG4gICAgICB2YXIgZTtcbiAgICAgIGlmIChpICYmIGkuZWwpIHN3aXRjaCAoX3R5cGVvZihpLmVsKSkge1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIGUuaW5uZXJIVE1MID0gaS5lbDtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgMSA9PT0gaS5lbC5ub2RlVHlwZSAmJiAoZSA9IGkuZWwpO1xuICAgICAgfVxuICAgICAgZSB8fCAoZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLCBlLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiLCBlLnN0eWxlW2ggKyBcIlRyYW5zZm9ybVwiXSA9IFwidHJhbnNsYXRlWigwcHgpXCIsIGUuc3R5bGVbaCArIFwiVHJhbnNmb3JtU3R5bGVcIl0gPSBcInByZXNlcnZlLTNkXCIsIHRoaXMuZWwgPSBlLCBlLmxlID0gdGhpcztcbiAgICB9LFxuICAgIF9fbmFtZTogXCJcIixcbiAgICBuYW1lOiBmdW5jdGlvbiBuYW1lKHQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fbmFtZSA9IHQsIFwiXCIgPT0gdCA/IGRlbGV0ZSB0aGlzLmVsLmRhdGFzZXQubmFtZSA6IHRoaXMuZWwuZGF0YXNldC5uYW1lID0gdCwgdGhpcztcbiAgICB9LFxuICAgIF9faWQ6IFwiXCIsXG4gICAgaWQ6IGZ1bmN0aW9uIGlkKHQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9faWQgPSB0LCB0aGlzLmVsLmlkID0gdCwgdGhpcztcbiAgICB9LFxuICAgIF9fY2xhc3M6IFwiXCIsXG4gICAgXCJjbGFzc1wiOiBmdW5jdGlvbiBfY2xhc3ModCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19jbGFzcyA9IHQsIHRoaXMuZWwuY2xhc3NOYW1lID0gdCwgdGhpcztcbiAgICB9LFxuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlUygpLCB0aGlzLnVwZGF0ZU0oKSwgdGhpcy51cGRhdGVPKCksIHRoaXMudXBkYXRlVCgpLCB0aGlzLnVwZGF0ZVYoKSwgdGhpcztcbiAgICB9LFxuICAgIHVwZGF0ZVM6IGZ1bmN0aW9uIHVwZGF0ZVMoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHVwZGF0ZU06IGZ1bmN0aW9uIHVwZGF0ZU0oKSB7XG4gICAgICBpZiAoIXRoaXMuX19tYXQpIHJldHVybiB0aGlzO1xuXG4gICAgICBmb3IgKHZhciB0IGluIHRoaXMuX19tYXQpIHtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgY2FzZSBcImJvdGhzaWRlc1wiOlxuICAgICAgICAgICAgdGhpcy5lbC5zdHlsZVtoICsgXCJCYWNrZmFjZVZpc2liaWxpdHlcIl0gPSB0aGlzLl9fbWF0W3RdID8gXCJ2aXNpYmxlXCIgOiBcImhpZGRlblwiO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgICAgIHRoaXMuZWwuc3R5bGVbXCJiYWNrZ3JvdW5kXCIgKyBzKHQpXSA9IFwiXCIgIT09IHRoaXMuX19tYXRbdF0gPyBcInVybChcIiArIHRoaXMuX19tYXRbdF0gKyBcIilcIiA6IFwiXCI7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aGlzLmVsLnN0eWxlW1wiYmFja2dyb3VuZFwiICsgcyh0KV0gPSB0aGlzLl9fbWF0W3RdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgdXBkYXRlTzogZnVuY3Rpb24gdXBkYXRlTygpIHtcbiAgICAgIGlmIChcIm51bWJlclwiID09IHR5cGVvZiB0aGlzLm9yaWdpblgpIHtcbiAgICAgICAgdmFyIHQgPSBpKHRoaXMub3JpZ2luWCAtIHRoaXMuX19vcmdGLngpO1xuICAgICAgICB0aGlzLl9fb3JnTy54ID0gdCArIFwicHhcIiwgdGhpcy5fX29yZ1QueCA9IC10ICsgXCJweFwiO1xuICAgICAgfSBlbHNlIHRoaXMuX19vcmdPLnggPSB0aGlzLm9yaWdpblgsIHRoaXMuX19vcmdULnggPSBcIi1cIiArIHRoaXMub3JpZ2luWDtcblxuICAgICAgaWYgKFwibnVtYmVyXCIgPT0gdHlwZW9mIHRoaXMub3JpZ2luWSkge1xuICAgICAgICB2YXIgZSA9IGkodGhpcy5vcmlnaW5ZIC0gdGhpcy5fX29yZ0YueSk7XG4gICAgICAgIHRoaXMuX19vcmdPLnkgPSBlICsgXCJweFwiLCB0aGlzLl9fb3JnVC55ID0gLWUgKyBcInB4XCI7XG4gICAgICB9IGVsc2UgdGhpcy5fX29yZ08ueSA9IHRoaXMub3JpZ2luWSwgdGhpcy5fX29yZ1QueSA9IFwiLVwiICsgdGhpcy5vcmlnaW5ZO1xuXG4gICAgICBpZiAoXCJudW1iZXJcIiA9PSB0eXBlb2YgdGhpcy5vcmlnaW5aKSB7XG4gICAgICAgIHZhciBzID0gaSh0aGlzLm9yaWdpblogLSB0aGlzLl9fb3JnRi56KTtcbiAgICAgICAgdGhpcy5fX29yZ08ueiA9IHMgKyBcInB4XCIsIHRoaXMuX19vcmdULnogPSAtcyArIFwicHhcIjtcbiAgICAgIH0gZWxzZSB0aGlzLl9fb3JnTy56ID0gdGhpcy5fX29yZ1QueiA9IFwiMHB4XCI7XG5cbiAgICAgIHJldHVybiB0aGlzLmVsLnN0eWxlW2ggKyBcIlRyYW5zZm9ybU9yaWdpblwiXSA9IHRoaXMuX19vcmdPLnggKyBcIiBcIiArIHRoaXMuX19vcmdPLnkgKyBcIiBcIiArIHRoaXMuX19vcmdPLnosIHRoaXM7XG4gICAgfSxcbiAgICB1cGRhdGVUOiBmdW5jdGlvbiB1cGRhdGVUKCkge1xuICAgICAgdmFyIHQgPSB0aGlzLl9fc29ydFswXSxcbiAgICAgICAgICBpID0gdGhpcy5fX3NvcnRbMV0sXG4gICAgICAgICAgcyA9IHRoaXMuX19zb3J0WzJdO1xuICAgICAgcmV0dXJuIHRoaXMuZWwuc3R5bGVbaCArIFwiVHJhbnNmb3JtXCJdID0gXCJ0cmFuc2xhdGUzZChcIiArIHRoaXMuX19vcmdULnggKyBcIiwgXCIgKyB0aGlzLl9fb3JnVC55ICsgXCIsIFwiICsgdGhpcy5fX29yZ1QueiArIFwiKSB0cmFuc2xhdGUzZChcIiArIGUodGhpcy54KSArIFwicHgsXCIgKyBlKHRoaXMueSkgKyBcInB4LFwiICsgZSh0aGlzLnopICsgXCJweCkgcm90YXRlXCIgKyB0ICsgXCIoXCIgKyBlKHRoaXNbXCJyb3RhdGlvblwiICsgdF0pICUgMzYwICsgXCJkZWcpIHJvdGF0ZVwiICsgaSArIFwiKFwiICsgZSh0aGlzW1wicm90YXRpb25cIiArIGldKSAlIDM2MCArIFwiZGVnKSByb3RhdGVcIiArIHMgKyBcIihcIiArIGUodGhpc1tcInJvdGF0aW9uXCIgKyBzXSkgJSAzNjAgKyBcImRlZykgc2NhbGUzZChcIiArIGUodGhpcy5zY2FsZVgpICsgXCIsIFwiICsgZSh0aGlzLnNjYWxlWSkgKyBcIiwgXCIgKyBlKHRoaXMuc2NhbGVaKSArIFwiKSBcIiwgdGhpcztcbiAgICB9LFxuICAgIHVwZGF0ZVY6IGZ1bmN0aW9uIHVwZGF0ZVYoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5zdHlsZS5vcGFjaXR5ID0gdGhpcy5hbHBoYSwgdGhpcy5lbC5zdHlsZS5kaXNwbGF5ID0gdGhpcy52aXNpYmxlID8gXCJibG9ja1wiIDogXCJub25lXCIsIHRoaXM7XG4gICAgfSxcbiAgICBhZGRDaGlsZDogZnVuY3Rpb24gYWRkQ2hpbGQoaSkge1xuICAgICAgcmV0dXJuIHQuU3ByaXRlLl9fc3VwZXJfXy5hZGRDaGlsZC5hcHBseSh0aGlzLCBbaV0pLCB0aGlzLmVsICYmIGkuZWwgJiYgdGhpcy5lbC5hcHBlbmRDaGlsZChpLmVsKSwgdGhpcztcbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkOiBmdW5jdGlvbiByZW1vdmVDaGlsZCh0KSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXSA9PT0gdCkgcmV0dXJuIFwiXCIgIT0gdC5fX25hbWUgJiYgZGVsZXRlIHRoaXNbdC5fX25hbWVdLCB0aGlzLmNoaWxkcmVuLnNwbGljZShpLCAxKSwgdC5wYXJlbnQgPSBudWxsLCB0aGlzLmVsLnJlbW92ZUNoaWxkKHQuZWwpLCB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHJlbW92ZUFsbENoaWxkOiBmdW5jdGlvbiByZW1vdmVBbGxDaGlsZCgpIHtcbiAgICAgIGZvciAodmFyIHQgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7IHQgPj0gMDsgdC0tKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5jaGlsZHJlblt0XTtcbiAgICAgICAgXCJcIiAhPSBpLl9fbmFtZSAmJiBkZWxldGUgdGhpc1tpLl9fbmFtZV0sIGkucGFyZW50ID0gbnVsbCwgdGhpcy5lbC5yZW1vdmVDaGlsZChpLmVsKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4gPSBbXSwgdGhpcztcbiAgICB9LFxuICAgIG9uOiBmdW5jdGlvbiBvbih0KSB7XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PSBfdHlwZW9mKHQpKSBmb3IgKHZhciBpIGluIHQpIHtcbiAgICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKGksIHRbaV0sICExKTtcbiAgICAgIH0gZWxzZSAyID09PSBhcmd1bWVudHMubGVuZ3RoID8gdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdLCAhMSkgOiAzID09PSBhcmd1bWVudHMubGVuZ3RoICYmIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgb2ZmOiBmdW5jdGlvbiBvZmYodCkge1xuICAgICAgaWYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZih0KSkgZm9yICh2YXIgaSBpbiB0KSB7XG4gICAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLCB0W2ldLCAhMSk7XG4gICAgICB9IGVsc2UgMiA9PT0gYXJndW1lbnRzLmxlbmd0aCAmJiB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0sICExKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgYnV0dG9uTW9kZTogZnVuY3Rpb24gYnV0dG9uTW9kZSh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5zdHlsZS5jdXJzb3IgPSB0ID8gXCJwb2ludGVyXCIgOiBcImF1dG9cIiwgdGhpcztcbiAgICB9LFxuICAgIF9fbWF0OiBudWxsLFxuICAgIG1hdGVyaWFsOiBmdW5jdGlvbiBtYXRlcmlhbCh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX21hdCA9IHQsIHRoaXM7XG4gICAgfSxcbiAgICB2aXNpYmlsaXR5OiBmdW5jdGlvbiB2aXNpYmlsaXR5KHQpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IHQudmlzaWJsZSAmJiAodGhpcy52aXNpYmxlID0gdC52aXNpYmxlKSwgdm9pZCAwICE9PSB0LmFscGhhICYmICh0aGlzLmFscGhhID0gdC5hbHBoYSksIHRoaXM7XG4gICAgfVxuICB9KSwgdC5TdGFnZSA9IHQuU3ByaXRlLmV4dGVuZCh7XG4gICAgY2FtZXJhOiBudWxsLFxuICAgIGZvdjogbnVsbCxcbiAgICBfX3JmaXg6IG51bGwsXG4gICAgX19wZml4OiBudWxsLFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoaSkge1xuICAgICAgdC5TdGFnZS5fX3N1cGVyX18uaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBbaV0pLCBpICYmIGkuZWwgfHwgKHRoaXMuZWwuc3R5bGUudG9wID0gXCIwcHhcIiwgdGhpcy5lbC5zdHlsZS5sZWZ0ID0gXCIwcHhcIiwgdGhpcy5lbC5zdHlsZS53aWR0aCA9IFwiMHB4XCIsIHRoaXMuZWwuc3R5bGUuaGVpZ2h0ID0gXCIwcHhcIiksIHRoaXMuZWwuc3R5bGVbaCArIFwiUGVyc3BlY3RpdmVcIl0gPSBcIjgwMHB4XCIsIHRoaXMuZWwuc3R5bGVbaCArIFwiVHJhbnNmb3JtU3R5bGVcIl0gPSBcImZsYXRcIiwgdGhpcy5lbC5zdHlsZVtoICsgXCJUcmFuc2Zvcm1cIl0gPSBcIlwiLCB0aGlzLmVsLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIiwgdGhpcy5fX3JmaXggPSBuZXcgdC5TcHJpdGUoKSwgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLl9fcmZpeC5lbCksIHRoaXMuX19wZml4ID0gbmV3IHQuU3ByaXRlKCksIHRoaXMuX19yZml4LmVsLmFwcGVuZENoaWxkKHRoaXMuX19wZml4LmVsKSwgdGhpcy5zZXRDYW1lcmEobmV3IHQuQ2FtZXJhKCkpO1xuICAgIH0sXG4gICAgdXBkYXRlUzogZnVuY3Rpb24gdXBkYXRlUygpIHtcbiAgICAgIHJldHVybiB0aGlzLmVsLnN0eWxlLndpZHRoID0gaSh0aGlzLndpZHRoKSArIFwicHhcIiwgdGhpcy5lbC5zdHlsZS5oZWlnaHQgPSBpKHRoaXMuaGVpZ2h0KSArIFwicHhcIiwgdGhpcztcbiAgICB9LFxuICAgIHVwZGF0ZVQ6IGZ1bmN0aW9uIHVwZGF0ZVQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5mb3YgPSBpKC41IC8gTWF0aC50YW4oLjUgKiB0aGlzLmNhbWVyYS5mb3YgLyAxODAgKiBNYXRoLlBJKSAqIHRoaXMuaGVpZ2h0KSwgdGhpcy5lbC5zdHlsZVtoICsgXCJQZXJzcGVjdGl2ZVwiXSA9IHRoaXMuZm92ICsgXCJweFwiLCB0aGlzLl9fcmZpeC5wb3NpdGlvbihpKHRoaXMud2lkdGggLyAyKSwgaSh0aGlzLmhlaWdodCAvIDIpLCB0aGlzLmZvdikucm90YXRpb24oLXRoaXMuY2FtZXJhLnJvdGF0aW9uWCwgLXRoaXMuY2FtZXJhLnJvdGF0aW9uWSwgLXRoaXMuY2FtZXJhLnJvdGF0aW9uWikudXBkYXRlVCgpLCB0aGlzLl9fcGZpeC5wb3NpdGlvbigtdGhpcy5jYW1lcmEueCwgLXRoaXMuY2FtZXJhLnksIC10aGlzLmNhbWVyYS56KS51cGRhdGVUKCksIHRoaXM7XG4gICAgfSxcbiAgICBhZGRDaGlsZDogZnVuY3Rpb24gYWRkQ2hpbGQodCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19wZml4LmFkZENoaWxkKHQpLCB0aGlzO1xuICAgIH0sXG4gICAgcmVtb3ZlQ2hpbGQ6IGZ1bmN0aW9uIHJlbW92ZUNoaWxkKHQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fcGZpeC5yZW1vdmVDaGlsZCh0KSwgdGhpcztcbiAgICB9LFxuICAgIHJlbW92ZUFsbENoaWxkOiBmdW5jdGlvbiByZW1vdmVBbGxDaGlsZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fcGZpeC5yZW1vdmVBbGxDaGlsZCgpLCB0aGlzO1xuICAgIH0sXG4gICAgc2V0Q2FtZXJhOiBmdW5jdGlvbiBzZXRDYW1lcmEodCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FtZXJhICYmICh0aGlzLmNhbWVyYS5zdGFnZSA9IG51bGwpLCB0aGlzLmNhbWVyYSA9IHQsIHRoaXMuY2FtZXJhLnN0YWdlID0gdGhpcywgdGhpcztcbiAgICB9XG4gIH0pLCB0LkNhbWVyYSA9IHQuT2JqZWN0LmV4dGVuZCh7XG4gICAgZm92OiBudWxsLFxuICAgIHN0YWdlOiBudWxsLFxuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoaSkge1xuICAgICAgdC5DYW1lcmEuX19zdXBlcl9fLmluaXRpYWxpemUuYXBwbHkodGhpcywgW2ldKSwgdGhpcy5mb3YgPSA3NTtcbiAgICB9LFxuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlVCgpLCB0aGlzO1xuICAgIH0sXG4gICAgdXBkYXRlUzogZnVuY3Rpb24gdXBkYXRlUygpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgdXBkYXRlTTogZnVuY3Rpb24gdXBkYXRlTSgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgdXBkYXRlVDogZnVuY3Rpb24gdXBkYXRlVCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YWdlICYmIHRoaXMuc3RhZ2UudXBkYXRlVCgpLCB0aGlzO1xuICAgIH0sXG4gICAgdXBkYXRlVjogZnVuY3Rpb24gdXBkYXRlVigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSksIHQuUGxhbmUgPSB0LlNwcml0ZS5leHRlbmQoe1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUoaSkge1xuICAgICAgdC5QbGFuZS5fX3N1cGVyX18uaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBbaV0pO1xuICAgIH0sXG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICByZXR1cm4gdC5QbGFuZS5fX3N1cGVyX18udXBkYXRlLmFwcGx5KHRoaXMpLCB0aGlzLnVwZGF0ZUYoKSwgdGhpcztcbiAgICB9LFxuICAgIHVwZGF0ZVM6IGZ1bmN0aW9uIHVwZGF0ZVMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5zdHlsZS53aWR0aCA9IGkodGhpcy53aWR0aCkgKyBcInB4XCIsIHRoaXMuZWwuc3R5bGUuaGVpZ2h0ID0gaSh0aGlzLmhlaWdodCkgKyBcInB4XCIsIHRoaXM7XG4gICAgfSxcbiAgICB1cGRhdGVGOiBmdW5jdGlvbiB1cGRhdGVGKCkge1xuICAgICAgaWYgKCF0aGlzLl9fZmx0KSByZXR1cm4gdGhpcztcbiAgICAgIHZhciB0ID0gXCJcIjtcblxuICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLl9fZmx0KSB7XG4gICAgICAgIHQgKz0gXCJcIiAhPT0gdGhpcy5fX2ZsdFtpXSA/IGkgKyBcIihcIiArIHRoaXMuX19mbHRbaV0uam9pbihcIixcIikgKyBcIilcIiA6IFwiXCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBcIlwiICE9PSB0ICYmICh0aGlzLmVsLnN0eWxlW2ggKyBcIkZpbHRlclwiXSA9IHQpLCB0aGlzO1xuICAgIH0sXG4gICAgX19mbHQ6IG51bGwsXG4gICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIodCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19mbHQgPSB0LCB0aGlzO1xuICAgIH1cbiAgfSksIHQuQm94ID0gdC5TcHJpdGUuZXh0ZW5kKHtcbiAgICBmcm9udDogbnVsbCxcbiAgICBiYWNrOiBudWxsLFxuICAgIGxlZnQ6IG51bGwsXG4gICAgcmlnaHQ6IG51bGwsXG4gICAgdXA6IG51bGwsXG4gICAgZG93bjogbnVsbCxcbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKGkpIHtcbiAgICAgIHQuQm94Ll9fc3VwZXJfXy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIFtpXSksIHRoaXMuZnJvbnQgPSBuZXcgdC5QbGFuZSgpLCB0aGlzLmZyb250Lm5hbWUgPSBcImZyb250XCIsIHRoaXMuYWRkQ2hpbGQodGhpcy5mcm9udCksIHRoaXMuYmFjayA9IG5ldyB0LlBsYW5lKCksIHRoaXMuYmFjay5uYW1lID0gXCJiYWNrXCIsIHRoaXMuYWRkQ2hpbGQodGhpcy5iYWNrKSwgdGhpcy5sZWZ0ID0gbmV3IHQuUGxhbmUoKSwgdGhpcy5sZWZ0Lm5hbWUgPSBcImxlZnRcIiwgdGhpcy5hZGRDaGlsZCh0aGlzLmxlZnQpLCB0aGlzLnJpZ2h0ID0gbmV3IHQuUGxhbmUoKSwgdGhpcy5yaWdodC5uYW1lID0gXCJyaWdodFwiLCB0aGlzLmFkZENoaWxkKHRoaXMucmlnaHQpLCB0aGlzLnVwID0gbmV3IHQuUGxhbmUoKSwgdGhpcy51cC5uYW1lID0gXCJ1cFwiLCB0aGlzLmFkZENoaWxkKHRoaXMudXApLCB0aGlzLmRvd24gPSBuZXcgdC5QbGFuZSgpLCB0aGlzLmRvd24ubmFtZSA9IFwiZG93blwiLCB0aGlzLmFkZENoaWxkKHRoaXMuZG93bik7XG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgIHJldHVybiB0LkJveC5fX3N1cGVyX18udXBkYXRlLmFwcGx5KHRoaXMpLCB0aGlzLnVwZGF0ZUYoKSwgdGhpcztcbiAgICB9LFxuICAgIHVwZGF0ZVM6IGZ1bmN0aW9uIHVwZGF0ZVMoKSB7XG4gICAgICB2YXIgdCA9IGkodGhpcy53aWR0aCksXG4gICAgICAgICAgZSA9IGkodGhpcy5oZWlnaHQpLFxuICAgICAgICAgIHMgPSBpKHRoaXMuZGVwdGgpO1xuICAgICAgcmV0dXJuIHRoaXMuX19vcmdGLnggPSB0aGlzLndpZHRoIC8gMiwgdGhpcy5fX29yZ0YueSA9IHRoaXMuaGVpZ2h0IC8gMiwgdGhpcy5fX29yZ0YueiA9IHRoaXMuZGVwdGggLyAyLCB0aGlzLmZyb250LnNpemUodCwgZSwgMCkucG9zaXRpb24oMCwgMCwgcyAvIDIpLnJvdGF0aW9uKDAsIDAsIDApLnVwZGF0ZVMoKS51cGRhdGVUKCksIHRoaXMuYmFjay5zaXplKHQsIGUsIDApLnBvc2l0aW9uKDAsIDAsIC1zIC8gMikucm90YXRpb24oMCwgMTgwLCAwKS51cGRhdGVTKCkudXBkYXRlVCgpLCB0aGlzLmxlZnQuc2l6ZShzLCBlLCAwKS5wb3NpdGlvbigtdCAvIDIsIDAsIDApLnJvdGF0aW9uKDAsIC05MCwgMCkudXBkYXRlUygpLnVwZGF0ZVQoKSwgdGhpcy5yaWdodC5zaXplKHMsIGUsIDApLnBvc2l0aW9uKHQgLyAyLCAwLCAwKS5yb3RhdGlvbigwLCA5MCwgMCkudXBkYXRlUygpLnVwZGF0ZVQoKSwgdGhpcy51cC5zaXplKHQsIHMsIDApLnBvc2l0aW9uKDAsIC1lIC8gMiwgMCkucm90YXRpb24oOTAsIDAsIDApLnVwZGF0ZVMoKS51cGRhdGVUKCksIHRoaXMuZG93bi5zaXplKHQsIHMsIDApLnBvc2l0aW9uKDAsIGUgLyAyLCAwKS5yb3RhdGlvbigtOTAsIDAsIDApLnVwZGF0ZVMoKS51cGRhdGVUKCksIHRoaXM7XG4gICAgfSxcbiAgICB1cGRhdGVNOiBmdW5jdGlvbiB1cGRhdGVNKCkge1xuICAgICAgaWYgKCF0aGlzLl9fbWF0KSByZXR1cm4gdGhpcztcbiAgICAgIHZhciB0ID0gITA7XG5cbiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5fX21hdCkge1xuICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICBjYXNlIFwiZnJvbnRcIjpcbiAgICAgICAgICBjYXNlIFwiYmFja1wiOlxuICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgY2FzZSBcInVwXCI6XG4gICAgICAgICAgY2FzZSBcImRvd25cIjpcbiAgICAgICAgICAgIHZvaWQgMCA9PSB0aGlzLl9fbWF0W2ldLmJvdGhzaWRlcyAmJiAodGhpcy5fX21hdFtpXS5ib3Roc2lkZXMgPSAhMSksIHRoaXNbaV0ubWF0ZXJpYWwodGhpcy5fX21hdFtpXSkudXBkYXRlTSgpLCB0ID0gITE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHQgJiYgKHZvaWQgMCA9PSB0aGlzLl9fbWF0LmJvdGhzaWRlcyAmJiAodGhpcy5fX21hdC5ib3Roc2lkZXMgPSAhMSksIHRoaXMuZnJvbnQubWF0ZXJpYWwodGhpcy5fX21hdCkudXBkYXRlTSgpLCB0aGlzLmJhY2subWF0ZXJpYWwodGhpcy5fX21hdCkudXBkYXRlTSgpLCB0aGlzLmxlZnQubWF0ZXJpYWwodGhpcy5fX21hdCkudXBkYXRlTSgpLCB0aGlzLnJpZ2h0Lm1hdGVyaWFsKHRoaXMuX19tYXQpLnVwZGF0ZU0oKSwgdGhpcy51cC5tYXRlcmlhbCh0aGlzLl9fbWF0KS51cGRhdGVNKCksIHRoaXMuZG93bi5tYXRlcmlhbCh0aGlzLl9fbWF0KS51cGRhdGVNKCkpLCB0aGlzO1xuICAgIH0sXG4gICAgdXBkYXRlRjogZnVuY3Rpb24gdXBkYXRlRigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZmx0ID8gKHRoaXMuZnJvbnQuZmlsdGVyKHRoaXMuX19mbHQpLnVwZGF0ZUYoKSwgdGhpcy5iYWNrLmZpbHRlcih0aGlzLl9fZmx0KS51cGRhdGVGKCksIHRoaXMubGVmdC5maWx0ZXIodGhpcy5fX2ZsdCkudXBkYXRlRigpLCB0aGlzLnJpZ2h0LmZpbHRlcih0aGlzLl9fZmx0KS51cGRhdGVGKCksIHRoaXMudXAuZmlsdGVyKHRoaXMuX19mbHQpLnVwZGF0ZUYoKSwgdGhpcy5kb3duLmZpbHRlcih0aGlzLl9fZmx0KS51cGRhdGVGKCksIHRoaXMpIDogdGhpcztcbiAgICB9LFxuICAgIF9fZmx0OiBudWxsLFxuICAgIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKHQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZmx0ID0gdCwgdGhpcztcbiAgICB9XG4gIH0pLCB0LlNreWJveCA9IHQuQm94LmV4dGVuZCh7XG4gICAgdXBkYXRlUzogZnVuY3Rpb24gdXBkYXRlUygpIHtcbiAgICAgIHZhciB0ID0gaSh0aGlzLndpZHRoKSxcbiAgICAgICAgICBlID0gaSh0aGlzLmhlaWdodCksXG4gICAgICAgICAgcyA9IGkodGhpcy5kZXB0aCk7XG4gICAgICByZXR1cm4gdGhpcy5fX29yZ0YueCA9IHRoaXMud2lkdGggLyAyLCB0aGlzLl9fb3JnRi55ID0gdGhpcy5oZWlnaHQgLyAyLCB0aGlzLl9fb3JnRi56ID0gdGhpcy5kZXB0aCAvIDIsIHRoaXMuZnJvbnQuc2l6ZSh0LCBlLCAwKS5wb3NpdGlvbigwLCAwLCAtcyAvIDIpLnJvdGF0aW9uKDAsIDAsIDApLnVwZGF0ZVMoKS51cGRhdGVUKCksIHRoaXMuYmFjay5zaXplKHQsIGUsIDApLnBvc2l0aW9uKDAsIDAsIHMgLyAyKS5yb3RhdGlvbigwLCAxODAsIDApLnVwZGF0ZVMoKS51cGRhdGVUKCksIHRoaXMubGVmdC5zaXplKHMsIGUsIDApLnBvc2l0aW9uKC10IC8gMiwgMCwgMCkucm90YXRpb24oMCwgOTAsIDApLnVwZGF0ZVMoKS51cGRhdGVUKCksIHRoaXMucmlnaHQuc2l6ZShzLCBlLCAwKS5wb3NpdGlvbih0IC8gMiwgMCwgMCkucm90YXRpb24oMCwgLTkwLCAwKS51cGRhdGVTKCkudXBkYXRlVCgpLCB0aGlzLnVwLnNpemUodCwgcywgMCkucG9zaXRpb24oMCwgLWUgLyAyLCAwKS5yb3RhdGlvbigtOTAsIDAsIDApLnVwZGF0ZVMoKS51cGRhdGVUKCksIHRoaXMuZG93bi5zaXplKHQsIHMsIDApLnBvc2l0aW9uKDAsIGUgLyAyLCAwKS5yb3RhdGlvbig5MCwgMCwgMCkudXBkYXRlUygpLnVwZGF0ZVQoKSwgdGhpcztcbiAgICB9XG4gIH0pLCB0LmNyZWF0ZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgaWYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZih0KSkge1xuICAgICAgdmFyIGkgPSB0IGluc3RhbmNlb2YgQXJyYXkgPyB7XG4gICAgICAgIHR5cGU6IFwic3ByaXRlXCIsXG4gICAgICAgIGNoaWxkcmVuOiB0XG4gICAgICB9IDogdDtcbiAgICAgIHJldHVybiBuKGkpO1xuICAgIH1cblxuICAgIHRocm93IFwiY3JlYXRlIGFyZ3VtZW50cyBpcyB3cm9uZyFcIjtcbiAgfSwgdDtcbn0pO1xuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFudGEvaW5kZXguMWFmOTM2YS5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDQ2ZTI2ZDRhYjY2MDgxNDVmMTc4IiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc3JjKSB7XG5cdGZ1bmN0aW9uIGxvZyhlcnJvcikge1xuXHRcdCh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIilcblx0XHQmJiAoY29uc29sZS5lcnJvciB8fCBjb25zb2xlLmxvZykoXCJbU2NyaXB0IExvYWRlcl1cIiwgZXJyb3IpO1xuXHR9XG5cblx0Ly8gQ2hlY2sgZm9yIElFID08IDhcblx0ZnVuY3Rpb24gaXNJRSgpIHtcblx0XHRyZXR1cm4gdHlwZW9mIGF0dGFjaEV2ZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBhZGRFdmVudExpc3RlbmVyID09PSBcInVuZGVmaW5lZFwiO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRpZiAodHlwZW9mIGV4ZWNTY3JpcHQgIT09IFwidW5kZWZpbmVkXCIgJiYgaXNJRSgpKSB7XG5cdFx0XHRleGVjU2NyaXB0KHNyYyk7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgZXZhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0ZXZhbC5jYWxsKG51bGwsIHNyYyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxvZyhcIkV2YWxFcnJvcjogTm8gZXZhbCBmdW5jdGlvbiBhdmFpbGFibGVcIik7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGxvZyhlcnJvcik7XG5cdH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3NjcmlwdC1sb2FkZXIvYWRkU2NyaXB0LmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZShcIiEhL1VzZXJzL2xpbnhpYW9sb25nL2dpdGh1Yi9vbmUtaDUvbm9kZV9tb2R1bGVzL3NjcmlwdC1sb2FkZXIvYWRkU2NyaXB0LmpzXCIpKHJlcXVpcmUoXCIhIS9Vc2Vycy9saW54aWFvbG9uZy9naXRodWIvb25lLWg1L25vZGVfbW9kdWxlcy9yYXctbG9hZGVyL2luZGV4LmpzIS9Vc2Vycy9saW54aWFvbG9uZy9naXRodWIvb25lLWg1L25vZGVfbW9kdWxlcy9wcmVsb2FkanMvbGliL3ByZWxvYWRqcy5taW4uanNcIikpXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc2NyaXB0LWxvYWRlciEuL25vZGVfbW9kdWxlcy9wcmVsb2FkanMvbGliL3ByZWxvYWRqcy5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJtb2R1bGUuZXhwb3J0cyA9IFwiLyohXFxuKiBAbGljZW5zZSBQcmVsb2FkSlNcXG4qIFZpc2l0IGh0dHA6Ly9jcmVhdGVqcy5jb20vIGZvciBkb2N1bWVudGF0aW9uLCB1cGRhdGVzIGFuZCBleGFtcGxlcy5cXG4qXFxuKiBDb3B5cmlnaHQgKGMpIDIwMTEtMjAxNSBnc2tpbm5lci5jb20sIGluYy5cXG4qXFxuKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1JVCBsaWNlbnNlLlxcbiogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5odG1sXFxuKlxcbiogVGhpcyBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXFxuKi9cXG50aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBhPWNyZWF0ZWpzLlByZWxvYWRKUz1jcmVhdGVqcy5QcmVsb2FkSlN8fHt9O2EudmVyc2lvbj1cXFwiMS4wLjBcXFwiLGEuYnVpbGREYXRlPVxcXCJUaHUsIDE0IFNlcCAyMDE3IDE5OjQ3OjQ3IEdNVFxcXCJ9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxjcmVhdGVqcy5leHRlbmQ9ZnVuY3Rpb24oYSxiKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gYygpe3RoaXMuY29uc3RydWN0b3I9YX1yZXR1cm4gYy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS5wcm90b3R5cGU9bmV3IGN9LHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sY3JlYXRlanMucHJvbW90ZT1mdW5jdGlvbihhLGIpe1xcXCJ1c2Ugc3RyaWN0XFxcIjt2YXIgYz1hLnByb3RvdHlwZSxkPU9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldFByb3RvdHlwZU9mKGMpfHxjLl9fcHJvdG9fXztpZihkKXtjWyhiKz1cXFwiX1xcXCIpK1xcXCJjb25zdHJ1Y3RvclxcXCJdPWQuY29uc3RydWN0b3I7Zm9yKHZhciBlIGluIGQpYy5oYXNPd25Qcm9wZXJ0eShlKSYmXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGRbZV0mJihjW2IrZV09ZFtlXSl9cmV0dXJuIGF9LHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sY3JlYXRlanMuZGVwcmVjYXRlPWZ1bmN0aW9uKGEsYil7XFxcInVzZSBzdHJpY3RcXFwiO3JldHVybiBmdW5jdGlvbigpe3ZhciBjPVxcXCJEZXByZWNhdGVkIHByb3BlcnR5IG9yIG1ldGhvZCAnXFxcIitiK1xcXCInLiBTZWUgZG9jcyBmb3IgaW5mby5cXFwiO3JldHVybiBjb25zb2xlJiYoY29uc29sZS53YXJuP2NvbnNvbGUud2FybihjKTpjb25zb2xlLmxvZyhjKSksYSYmYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2NyZWF0ZWpzLnByb3h5PWZ1bmN0aW9uKGEsYil7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLmNvbmNhdChjKSl9fX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGNyZWF0ZWpzLmluZGV4T2Y9ZnVuY3Rpb24oYSxiKXtcXFwidXNlIHN0cmljdFxcXCI7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGI9PT1hW2NdKXJldHVybiBjO3JldHVybi0xfSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIEV2ZW50KGEsYixjKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1udWxsLHRoaXMuY3VycmVudFRhcmdldD1udWxsLHRoaXMuZXZlbnRQaGFzZT0wLHRoaXMuYnViYmxlcz0hIWIsdGhpcy5jYW5jZWxhYmxlPSEhYyx0aGlzLnRpbWVTdGFtcD0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITEsdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITEsdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ITEsdGhpcy5yZW1vdmVkPSExfXZhciBhPUV2ZW50LnByb3RvdHlwZTthLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPXRoaXMuY2FuY2VsYWJsZSYmITB9LGEuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LGEucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVkPSEwfSxhLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFdmVudCh0aGlzLnR5cGUsdGhpcy5idWJibGVzLHRoaXMuY2FuY2VsYWJsZSl9LGEuc2V0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKXRoaXNbYl09YVtiXTtyZXR1cm4gdGhpc30sYS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblxcXCJbRXZlbnQgKHR5cGU9XFxcIit0aGlzLnR5cGUrXFxcIildXFxcIn0sY3JlYXRlanMuRXZlbnQ9RXZlbnR9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBFcnJvckV2ZW50KGEsYixjKXt0aGlzLkV2ZW50X2NvbnN0cnVjdG9yKFxcXCJlcnJvclxcXCIpLHRoaXMudGl0bGU9YSx0aGlzLm1lc3NhZ2U9Yix0aGlzLmRhdGE9Y312YXIgYT1jcmVhdGVqcy5leHRlbmQoRXJyb3JFdmVudCxjcmVhdGVqcy5FdmVudCk7YS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgY3JlYXRlanMuRXJyb3JFdmVudCh0aGlzLnRpdGxlLHRoaXMubWVzc2FnZSx0aGlzLmRhdGEpfSxjcmVhdGVqcy5FcnJvckV2ZW50PWNyZWF0ZWpzLnByb21vdGUoRXJyb3JFdmVudCxcXFwiRXZlbnRcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIEV2ZW50RGlzcGF0Y2hlcigpe3RoaXMuX2xpc3RlbmVycz1udWxsLHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnM9bnVsbH12YXIgYT1FdmVudERpc3BhdGNoZXIucHJvdG90eXBlO0V2ZW50RGlzcGF0Y2hlci5pbml0aWFsaXplPWZ1bmN0aW9uKGIpe2IuYWRkRXZlbnRMaXN0ZW5lcj1hLmFkZEV2ZW50TGlzdGVuZXIsYi5vbj1hLm9uLGIucmVtb3ZlRXZlbnRMaXN0ZW5lcj1iLm9mZj1hLnJlbW92ZUV2ZW50TGlzdGVuZXIsYi5yZW1vdmVBbGxFdmVudExpc3RlbmVycz1hLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzLGIuaGFzRXZlbnRMaXN0ZW5lcj1hLmhhc0V2ZW50TGlzdGVuZXIsYi5kaXNwYXRjaEV2ZW50PWEuZGlzcGF0Y2hFdmVudCxiLl9kaXNwYXRjaEV2ZW50PWEuX2Rpc3BhdGNoRXZlbnQsYi53aWxsVHJpZ2dlcj1hLndpbGxUcmlnZ2VyfSxhLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2Q9Yz90aGlzLl9jYXB0dXJlTGlzdGVuZXJzPXRoaXMuX2NhcHR1cmVMaXN0ZW5lcnN8fHt9OnRoaXMuX2xpc3RlbmVycz10aGlzLl9saXN0ZW5lcnN8fHt9O3ZhciBlPWRbYV07cmV0dXJuIGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGIsYyksZT1kW2FdLGU/ZS5wdXNoKGIpOmRbYV09W2JdLGJ9LGEub249ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiBiLmhhbmRsZUV2ZW50JiYoYz1jfHxiLGI9Yi5oYW5kbGVFdmVudCksYz1jfHx0aGlzLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihhLGZ1bmN0aW9uKGEpe2IuY2FsbChjLGEsZSksZCYmYS5yZW1vdmUoKX0sZil9LGEucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yz90aGlzLl9jYXB0dXJlTGlzdGVuZXJzOnRoaXMuX2xpc3RlbmVycztpZihkKXt2YXIgZT1kW2FdO2lmKGUpZm9yKHZhciBmPTAsZz1lLmxlbmd0aDtnPmY7ZisrKWlmKGVbZl09PWIpezE9PWc/ZGVsZXRlIGRbYV06ZS5zcGxpY2UoZiwxKTticmVha319fSxhLm9mZj1hLnJlbW92ZUV2ZW50TGlzdGVuZXIsYS5yZW1vdmVBbGxFdmVudExpc3RlbmVycz1mdW5jdGlvbihhKXthPyh0aGlzLl9saXN0ZW5lcnMmJmRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbYV0sdGhpcy5fY2FwdHVyZUxpc3RlbmVycyYmZGVsZXRlIHRoaXMuX2NhcHR1cmVMaXN0ZW5lcnNbYV0pOnRoaXMuX2xpc3RlbmVycz10aGlzLl9jYXB0dXJlTGlzdGVuZXJzPW51bGx9LGEuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihhLGIsYyl7aWYoXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBhKXt2YXIgZD10aGlzLl9saXN0ZW5lcnM7aWYoIShifHxkJiZkW2FdKSlyZXR1cm4hMDthPW5ldyBjcmVhdGVqcy5FdmVudChhLGIsYyl9ZWxzZSBhLnRhcmdldCYmYS5jbG9uZSYmKGE9YS5jbG9uZSgpKTt0cnl7YS50YXJnZXQ9dGhpc31jYXRjaChlKXt9aWYoYS5idWJibGVzJiZ0aGlzLnBhcmVudCl7Zm9yKHZhciBmPXRoaXMsZz1bZl07Zi5wYXJlbnQ7KWcucHVzaChmPWYucGFyZW50KTt2YXIgaCxpPWcubGVuZ3RoO2ZvcihoPWktMTtoPj0wJiYhYS5wcm9wYWdhdGlvblN0b3BwZWQ7aC0tKWdbaF0uX2Rpc3BhdGNoRXZlbnQoYSwxKygwPT1oKSk7Zm9yKGg9MTtpPmgmJiFhLnByb3BhZ2F0aW9uU3RvcHBlZDtoKyspZ1toXS5fZGlzcGF0Y2hFdmVudChhLDMpfWVsc2UgdGhpcy5fZGlzcGF0Y2hFdmVudChhLDIpO3JldHVybiFhLmRlZmF1bHRQcmV2ZW50ZWR9LGEuaGFzRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl9saXN0ZW5lcnMsYz10aGlzLl9jYXB0dXJlTGlzdGVuZXJzO3JldHVybiEhKGImJmJbYV18fGMmJmNbYV0pfSxhLndpbGxUcmlnZ2VyPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzO2I7KXtpZihiLmhhc0V2ZW50TGlzdGVuZXIoYSkpcmV0dXJuITA7Yj1iLnBhcmVudH1yZXR1cm4hMX0sYS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblxcXCJbRXZlbnREaXNwYXRjaGVyXVxcXCJ9LGEuX2Rpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9Mj49Yj90aGlzLl9jYXB0dXJlTGlzdGVuZXJzOnRoaXMuX2xpc3RlbmVycztpZihhJiZlJiYoZD1lW2EudHlwZV0pJiYoYz1kLmxlbmd0aCkpe3RyeXthLmN1cnJlbnRUYXJnZXQ9dGhpc31jYXRjaChmKXt9dHJ5e2EuZXZlbnRQaGFzZT0wfGJ9Y2F0Y2goZil7fWEucmVtb3ZlZD0hMSxkPWQuc2xpY2UoKTtmb3IodmFyIGc9MDtjPmcmJiFhLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDtnKyspe3ZhciBoPWRbZ107aC5oYW5kbGVFdmVudD9oLmhhbmRsZUV2ZW50KGEpOmgoYSksYS5yZW1vdmVkJiYodGhpcy5vZmYoYS50eXBlLGgsMT09YiksYS5yZW1vdmVkPSExKX19Mj09PWImJnRoaXMuX2Rpc3BhdGNoRXZlbnQoYSwyLjEpfSxjcmVhdGVqcy5FdmVudERpc3BhdGNoZXI9RXZlbnREaXNwYXRjaGVyfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gUHJvZ3Jlc3NFdmVudChhLGIpe3RoaXMuRXZlbnRfY29uc3RydWN0b3IoXFxcInByb2dyZXNzXFxcIiksdGhpcy5sb2FkZWQ9YSx0aGlzLnRvdGFsPW51bGw9PWI/MTpiLHRoaXMucHJvZ3Jlc3M9MD09Yj8wOnRoaXMubG9hZGVkL3RoaXMudG90YWx9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKFByb2dyZXNzRXZlbnQsY3JlYXRlanMuRXZlbnQpO2EuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGNyZWF0ZWpzLlByb2dyZXNzRXZlbnQodGhpcy5sb2FkZWQsdGhpcy50b3RhbCl9LGNyZWF0ZWpzLlByb2dyZXNzRXZlbnQ9Y3JlYXRlanMucHJvbW90ZShQcm9ncmVzc0V2ZW50LFxcXCJFdmVudFxcXCIpfSh3aW5kb3cpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGQpe2Z1bmN0aW9uIGYoYSl7aWYoZlthXSE9PXEpcmV0dXJuIGZbYV07dmFyIGI7aWYoXFxcImJ1Zy1zdHJpbmctY2hhci1pbmRleFxcXCI9PWEpYj1cXFwiYVxcXCIhPVxcXCJhXFxcIlswXTtlbHNlIGlmKFxcXCJqc29uXFxcIj09YSliPWYoXFxcImpzb24tc3RyaW5naWZ5XFxcIikmJmYoXFxcImpzb24tcGFyc2VcXFwiKTtlbHNle3ZhciBjLGU9J3tcXFwiYVxcXCI6WzEsdHJ1ZSxmYWxzZSxudWxsLFxcXCJcXFxcXFxcXHUwMDAwXFxcXFxcXFxiXFxcXFxcXFxuXFxcXFxcXFxmXFxcXFxcXFxyXFxcXFxcXFx0XFxcIl19JztpZihcXFwianNvbi1zdHJpbmdpZnlcXFwiPT1hKXt2YXIgaT1kLnN0cmluZ2lmeSxrPVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBpJiZ0O2lmKGspeyhjPWZ1bmN0aW9uKCl7cmV0dXJuIDF9KS50b0pTT049Yzt0cnl7az1cXFwiMFxcXCI9PT1pKDApJiZcXFwiMFxcXCI9PT1pKG5ldyBnKSYmJ1xcXCJcXFwiJz09aShuZXcgaCkmJmkocyk9PT1xJiZpKHEpPT09cSYmaSgpPT09cSYmXFxcIjFcXFwiPT09aShjKSYmXFxcIlsxXVxcXCI9PWkoW2NdKSYmXFxcIltudWxsXVxcXCI9PWkoW3FdKSYmXFxcIm51bGxcXFwiPT1pKG51bGwpJiZcXFwiW251bGwsbnVsbCxudWxsXVxcXCI9PWkoW3EscyxudWxsXSkmJmkoe2E6W2MsITAsITEsbnVsbCxcXFwiXFxcXHgwMFxcXFxiXFxcXG5cXFxcZlxcXFxyXFx0XFxcIl19KT09ZSYmXFxcIjFcXFwiPT09aShudWxsLGMpJiZcXFwiW1xcXFxuIDEsXFxcXG4gMlxcXFxuXVxcXCI9PWkoWzEsMl0sbnVsbCwxKSYmJ1xcXCItMjcxODIxLTA0LTIwVDAwOjAwOjAwLjAwMFpcXFwiJz09aShuZXcgaigtODY0ZTEzKSkmJidcXFwiKzI3NTc2MC0wOS0xM1QwMDowMDowMC4wMDBaXFxcIic9PWkobmV3IGooODY0ZTEzKSkmJidcXFwiLTAwMDAwMS0wMS0wMVQwMDowMDowMC4wMDBaXFxcIic9PWkobmV3IGooLTYyMTk4NzU1MmU1KSkmJidcXFwiMTk2OS0xMi0zMVQyMzo1OTo1OS45OTlaXFxcIic9PWkobmV3IGooLTEpKX1jYXRjaChsKXtrPSExfX1iPWt9aWYoXFxcImpzb24tcGFyc2VcXFwiPT1hKXt2YXIgbT1kLnBhcnNlO2lmKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBtKXRyeXtpZigwPT09bShcXFwiMFxcXCIpJiYhbSghMSkpe2M9bShlKTt2YXIgbj01PT1jLmEubGVuZ3RoJiYxPT09Yy5hWzBdO2lmKG4pe3RyeXtuPSFtKCdcXFwiXFx0XFxcIicpfWNhdGNoKGwpe31pZihuKXRyeXtuPTEhPT1tKFxcXCIwMVxcXCIpfWNhdGNoKGwpe31pZihuKXRyeXtuPTEhPT1tKFxcXCIxLlxcXCIpfWNhdGNoKGwpe319fX1jYXRjaChsKXtuPSExfWI9bn19cmV0dXJuIGZbYV09ISFifWJ8fChiPWUuT2JqZWN0KCkpLGR8fChkPWUuT2JqZWN0KCkpO3ZhciBnPWIuTnVtYmVyfHxlLk51bWJlcixoPWIuU3RyaW5nfHxlLlN0cmluZyxpPWIuT2JqZWN0fHxlLk9iamVjdCxqPWIuRGF0ZXx8ZS5EYXRlLGs9Yi5TeW50YXhFcnJvcnx8ZS5TeW50YXhFcnJvcixsPWIuVHlwZUVycm9yfHxlLlR5cGVFcnJvcixtPWIuTWF0aHx8ZS5NYXRoLG49Yi5KU09OfHxlLkpTT047XFxcIm9iamVjdFxcXCI9PXR5cGVvZiBuJiZuJiYoZC5zdHJpbmdpZnk9bi5zdHJpbmdpZnksZC5wYXJzZT1uLnBhcnNlKTt2YXIgbyxwLHEscj1pLnByb3RvdHlwZSxzPXIudG9TdHJpbmcsdD1uZXcgaigtMHhjNzgyYjViODAwY2VjKTt0cnl7dD0tMTA5MjUyPT10LmdldFVUQ0Z1bGxZZWFyKCkmJjA9PT10LmdldFVUQ01vbnRoKCkmJjE9PT10LmdldFVUQ0RhdGUoKSYmMTA9PXQuZ2V0VVRDSG91cnMoKSYmMzc9PXQuZ2V0VVRDTWludXRlcygpJiY2PT10LmdldFVUQ1NlY29uZHMoKSYmNzA4PT10LmdldFVUQ01pbGxpc2Vjb25kcygpfWNhdGNoKHUpe31pZighZihcXFwianNvblxcXCIpKXt2YXIgdj1cXFwiW29iamVjdCBGdW5jdGlvbl1cXFwiLHc9XFxcIltvYmplY3QgRGF0ZV1cXFwiLHg9XFxcIltvYmplY3QgTnVtYmVyXVxcXCIseT1cXFwiW29iamVjdCBTdHJpbmddXFxcIix6PVxcXCJbb2JqZWN0IEFycmF5XVxcXCIsQT1cXFwiW29iamVjdCBCb29sZWFuXVxcXCIsQj1mKFxcXCJidWctc3RyaW5nLWNoYXItaW5kZXhcXFwiKTtpZighdCl2YXIgQz1tLmZsb29yLEQ9WzAsMzEsNTksOTAsMTIwLDE1MSwxODEsMjEyLDI0MywyNzMsMzA0LDMzNF0sRT1mdW5jdGlvbihhLGIpe3JldHVybiBEW2JdKzM2NSooYS0xOTcwKStDKChhLTE5NjkrKGI9KyhiPjEpKSkvNCktQygoYS0xOTAxK2IpLzEwMCkrQygoYS0xNjAxK2IpLzQwMCl9O2lmKChvPXIuaGFzT3duUHJvcGVydHkpfHwobz1mdW5jdGlvbihhKXt2YXIgYixjPXt9O3JldHVybihjLl9fcHJvdG9fXz1udWxsLGMuX19wcm90b19fPXt0b1N0cmluZzoxfSxjKS50b1N0cmluZyE9cz9vPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX19wcm90b19fLGM9YSBpbih0aGlzLl9fcHJvdG9fXz1udWxsLHRoaXMpO3JldHVybiB0aGlzLl9fcHJvdG9fXz1iLGN9OihiPWMuY29uc3RydWN0b3Isbz1mdW5jdGlvbihhKXt2YXIgYz0odGhpcy5jb25zdHJ1Y3Rvcnx8YikucHJvdG90eXBlO3JldHVybiBhIGluIHRoaXMmJiEoYSBpbiBjJiZ0aGlzW2FdPT09Y1thXSl9KSxjPW51bGwsby5jYWxsKHRoaXMsYSl9KSxwPWZ1bmN0aW9uKGEsYil7dmFyIGQsZSxmLGc9MDsoZD1mdW5jdGlvbigpe3RoaXMudmFsdWVPZj0wfSkucHJvdG90eXBlLnZhbHVlT2Y9MCxlPW5ldyBkO2ZvcihmIGluIGUpby5jYWxsKGUsZikmJmcrKztyZXR1cm4gZD1lPW51bGwsZz9wPTI9PWc/ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXt9LGU9cy5jYWxsKGEpPT12O2ZvcihjIGluIGEpZSYmXFxcInByb3RvdHlwZVxcXCI9PWN8fG8uY2FsbChkLGMpfHwhKGRbY109MSl8fCFvLmNhbGwoYSxjKXx8YihjKX06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9cy5jYWxsKGEpPT12O2ZvcihjIGluIGEpZSYmXFxcInByb3RvdHlwZVxcXCI9PWN8fCFvLmNhbGwoYSxjKXx8KGQ9XFxcImNvbnN0cnVjdG9yXFxcIj09PWMpfHxiKGMpOyhkfHxvLmNhbGwoYSxjPVxcXCJjb25zdHJ1Y3RvclxcXCIpKSYmYihjKX06KGU9W1xcXCJ2YWx1ZU9mXFxcIixcXFwidG9TdHJpbmdcXFwiLFxcXCJ0b0xvY2FsZVN0cmluZ1xcXCIsXFxcInByb3BlcnR5SXNFbnVtZXJhYmxlXFxcIixcXFwiaXNQcm90b3R5cGVPZlxcXCIsXFxcImhhc093blByb3BlcnR5XFxcIixcXFwiY29uc3RydWN0b3JcXFwiXSxwPWZ1bmN0aW9uKGEsYil7dmFyIGQsZixnPXMuY2FsbChhKT09dixoPSFnJiZcXFwiZnVuY3Rpb25cXFwiIT10eXBlb2YgYS5jb25zdHJ1Y3RvciYmY1t0eXBlb2YgYS5oYXNPd25Qcm9wZXJ0eV0mJmEuaGFzT3duUHJvcGVydHl8fG87Zm9yKGQgaW4gYSlnJiZcXFwicHJvdG90eXBlXFxcIj09ZHx8IWguY2FsbChhLGQpfHxiKGQpO2ZvcihmPWUubGVuZ3RoO2Q9ZVstLWZdO2guY2FsbChhLGQpJiZiKGQpKTt9KSxwKGEsYil9LCFmKFxcXCJqc29uLXN0cmluZ2lmeVxcXCIpKXt2YXIgRj17OTI6XFxcIlxcXFxcXFxcXFxcXFxcXFxcXFwiLDM0OidcXFxcXFxcXFxcXCInLDg6XFxcIlxcXFxcXFxcYlxcXCIsMTI6XFxcIlxcXFxcXFxcZlxcXCIsMTA6XFxcIlxcXFxcXFxcblxcXCIsMTM6XFxcIlxcXFxcXFxcclxcXCIsOTpcXFwiXFxcXFxcXFx0XFxcIn0sRz1cXFwiMDAwMDAwXFxcIixIPWZ1bmN0aW9uKGEsYil7cmV0dXJuKEcrKGJ8fDApKS5zbGljZSgtYSl9LEk9XFxcIlxcXFxcXFxcdTAwXFxcIixKPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0nXFxcIicsYz0wLGQ9YS5sZW5ndGgsZT0hQnx8ZD4xMCxmPWUmJihCP2Euc3BsaXQoXFxcIlxcXCIpOmEpO2Q+YztjKyspe3ZhciBnPWEuY2hhckNvZGVBdChjKTtzd2l0Y2goZyl7Y2FzZSA4OmNhc2UgOTpjYXNlIDEwOmNhc2UgMTI6Y2FzZSAxMzpjYXNlIDM0OmNhc2UgOTI6Yis9RltnXTticmVhaztkZWZhdWx0OmlmKDMyPmcpe2IrPUkrSCgyLGcudG9TdHJpbmcoMTYpKTticmVha31iKz1lP2ZbY106YS5jaGFyQXQoYyl9fXJldHVybiBiKydcXFwiJ30sSz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaCxpLGosayxtLG4scix0LHUsdixCLEQsRixHLEksTDt0cnl7aD1iW2FdfWNhdGNoKE0pe31pZihcXFwib2JqZWN0XFxcIj09dHlwZW9mIGgmJmgpaWYoaT1zLmNhbGwoaCksaSE9d3x8by5jYWxsKGgsXFxcInRvSlNPTlxcXCIpKVxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBoLnRvSlNPTiYmKGkhPXgmJmkhPXkmJmkhPXp8fG8uY2FsbChoLFxcXCJ0b0pTT05cXFwiKSkmJihoPWgudG9KU09OKGEpKTtlbHNlIGlmKGg+LTEvMCYmMS8wPmgpe2lmKEUpe2ZvcihtPUMoaC84NjRlNSksaj1DKG0vMzY1LjI0MjUpKzE5NzAtMTtFKGorMSwwKTw9bTtqKyspO2ZvcihrPUMoKG0tRShqLDApKS8zMC40Mik7RShqLGsrMSk8PW07aysrKTttPTErbS1FKGosayksbj0oaCU4NjRlNSs4NjRlNSklODY0ZTUscj1DKG4vMzZlNSklMjQsdD1DKG4vNmU0KSU2MCx1PUMobi8xZTMpJTYwLHY9biUxZTN9ZWxzZSBqPWguZ2V0VVRDRnVsbFllYXIoKSxrPWguZ2V0VVRDTW9udGgoKSxtPWguZ2V0VVRDRGF0ZSgpLHI9aC5nZXRVVENIb3VycygpLHQ9aC5nZXRVVENNaW51dGVzKCksdT1oLmdldFVUQ1NlY29uZHMoKSx2PWguZ2V0VVRDTWlsbGlzZWNvbmRzKCk7aD0oMD49anx8aj49MWU0PygwPmo/XFxcIi1cXFwiOlxcXCIrXFxcIikrSCg2LDA+aj8tajpqKTpIKDQsaikpK1xcXCItXFxcIitIKDIsaysxKStcXFwiLVxcXCIrSCgyLG0pK1xcXCJUXFxcIitIKDIscikrXFxcIjpcXFwiK0goMix0KStcXFwiOlxcXCIrSCgyLHUpK1xcXCIuXFxcIitIKDMsdikrXFxcIlpcXFwifWVsc2UgaD1udWxsO2lmKGMmJihoPWMuY2FsbChiLGEsaCkpLG51bGw9PT1oKXJldHVyblxcXCJudWxsXFxcIjtpZihpPXMuY2FsbChoKSxpPT1BKXJldHVyblxcXCJcXFwiK2g7aWYoaT09eClyZXR1cm4gaD4tMS8wJiYxLzA+aD9cXFwiXFxcIitoOlxcXCJudWxsXFxcIjtpZihpPT15KXJldHVybiBKKFxcXCJcXFwiK2gpO2lmKFxcXCJvYmplY3RcXFwiPT10eXBlb2YgaCl7Zm9yKEc9Zy5sZW5ndGg7Ry0tOylpZihnW0ddPT09aCl0aHJvdyBsKCk7aWYoZy5wdXNoKGgpLEI9W10sST1mLGYrPWUsaT09eil7Zm9yKEY9MCxHPWgubGVuZ3RoO0c+RjtGKyspRD1LKEYsaCxjLGQsZSxmLGcpLEIucHVzaChEPT09cT9cXFwibnVsbFxcXCI6RCk7TD1CLmxlbmd0aD9lP1xcXCJbXFxcXG5cXFwiK2YrQi5qb2luKFxcXCIsXFxcXG5cXFwiK2YpK1xcXCJcXFxcblxcXCIrSStcXFwiXVxcXCI6XFxcIltcXFwiK0Iuam9pbihcXFwiLFxcXCIpK1xcXCJdXFxcIjpcXFwiW11cXFwifWVsc2UgcChkfHxoLGZ1bmN0aW9uKGEpe3ZhciBiPUsoYSxoLGMsZCxlLGYsZyk7YiE9PXEmJkIucHVzaChKKGEpK1xcXCI6XFxcIisoZT9cXFwiIFxcXCI6XFxcIlxcXCIpK2IpfSksTD1CLmxlbmd0aD9lP1xcXCJ7XFxcXG5cXFwiK2YrQi5qb2luKFxcXCIsXFxcXG5cXFwiK2YpK1xcXCJcXFxcblxcXCIrSStcXFwifVxcXCI6XFxcIntcXFwiK0Iuam9pbihcXFwiLFxcXCIpK1xcXCJ9XFxcIjpcXFwie31cXFwiO3JldHVybiBnLnBvcCgpLEx9fTtkLnN0cmluZ2lmeT1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZixnLGg7aWYoY1t0eXBlb2YgYl0mJmIpaWYoKGg9cy5jYWxsKGIpKT09dilmPWI7ZWxzZSBpZihoPT16KXtnPXt9O2Zvcih2YXIgaSxqPTAsaz1iLmxlbmd0aDtrPmo7aT1iW2orK10saD1zLmNhbGwoaSksKGg9PXl8fGg9PXgpJiYoZ1tpXT0xKSk7fWlmKGQpaWYoKGg9cy5jYWxsKGQpKT09eCl7aWYoKGQtPWQlMSk+MClmb3IoZT1cXFwiXFxcIixkPjEwJiYoZD0xMCk7ZS5sZW5ndGg8ZDtlKz1cXFwiIFxcXCIpO31lbHNlIGg9PXkmJihlPWQubGVuZ3RoPD0xMD9kOmQuc2xpY2UoMCwxMCkpO3JldHVybiBLKFxcXCJcXFwiLChpPXt9LGlbXFxcIlxcXCJdPWEsaSksZixnLGUsXFxcIlxcXCIsW10pfX1pZighZihcXFwianNvbi1wYXJzZVxcXCIpKXt2YXIgTCxNLE49aC5mcm9tQ2hhckNvZGUsTz17OTI6XFxcIlxcXFxcXFxcXFxcIiwzNDonXFxcIicsNDc6XFxcIi9cXFwiLDk4OlxcXCJcXFxcYlxcXCIsMTE2OlxcXCJcXHRcXFwiLDExMDpcXFwiXFxcXG5cXFwiLDEwMjpcXFwiXFxcXGZcXFwiLDExNDpcXFwiXFxcXHJcXFwifSxQPWZ1bmN0aW9uKCl7dGhyb3cgTD1NPW51bGwsaygpfSxRPWZ1bmN0aW9uKCl7Zm9yKHZhciBhLGIsYyxkLGUsZj1NLGc9Zi5sZW5ndGg7Zz5MOylzd2l0Y2goZT1mLmNoYXJDb2RlQXQoTCkpe2Nhc2UgOTpjYXNlIDEwOmNhc2UgMTM6Y2FzZSAzMjpMKys7YnJlYWs7Y2FzZSAxMjM6Y2FzZSAxMjU6Y2FzZSA5MTpjYXNlIDkzOmNhc2UgNTg6Y2FzZSA0NDpyZXR1cm4gYT1CP2YuY2hhckF0KEwpOmZbTF0sTCsrLGE7Y2FzZSAzNDpmb3IoYT1cXFwiQFxcXCIsTCsrO2c+TDspaWYoZT1mLmNoYXJDb2RlQXQoTCksMzI+ZSlQKCk7ZWxzZSBpZig5Mj09ZSlzd2l0Y2goZT1mLmNoYXJDb2RlQXQoKytMKSl7Y2FzZSA5MjpjYXNlIDM0OmNhc2UgNDc6Y2FzZSA5ODpjYXNlIDExNjpjYXNlIDExMDpjYXNlIDEwMjpjYXNlIDExNDphKz1PW2VdLEwrKzticmVhaztjYXNlIDExNzpmb3IoYj0rK0wsYz1MKzQ7Yz5MO0wrKyllPWYuY2hhckNvZGVBdChMKSxlPj00OCYmNTc+PWV8fGU+PTk3JiYxMDI+PWV8fGU+PTY1JiY3MD49ZXx8UCgpO2ErPU4oXFxcIjB4XFxcIitmLnNsaWNlKGIsTCkpO2JyZWFrO2RlZmF1bHQ6UCgpfWVsc2V7aWYoMzQ9PWUpYnJlYWs7Zm9yKGU9Zi5jaGFyQ29kZUF0KEwpLGI9TDtlPj0zMiYmOTIhPWUmJjM0IT1lOyllPWYuY2hhckNvZGVBdCgrK0wpO2ErPWYuc2xpY2UoYixMKX1pZigzND09Zi5jaGFyQ29kZUF0KEwpKXJldHVybiBMKyssYTtQKCk7ZGVmYXVsdDppZihiPUwsNDU9PWUmJihkPSEwLGU9Zi5jaGFyQ29kZUF0KCsrTCkpLGU+PTQ4JiY1Nz49ZSl7Zm9yKDQ4PT1lJiYoZT1mLmNoYXJDb2RlQXQoTCsxKSxlPj00OCYmNTc+PWUpJiZQKCksZD0hMTtnPkwmJihlPWYuY2hhckNvZGVBdChMKSxlPj00OCYmNTc+PWUpO0wrKyk7aWYoNDY9PWYuY2hhckNvZGVBdChMKSl7Zm9yKGM9KytMO2c+YyYmKGU9Zi5jaGFyQ29kZUF0KGMpLGU+PTQ4JiY1Nz49ZSk7YysrKTtjPT1MJiZQKCksTD1jfWlmKGU9Zi5jaGFyQ29kZUF0KEwpLDEwMT09ZXx8Njk9PWUpe2ZvcihlPWYuY2hhckNvZGVBdCgrK0wpLCg0Mz09ZXx8NDU9PWUpJiZMKyssYz1MO2c+YyYmKGU9Zi5jaGFyQ29kZUF0KGMpLGU+PTQ4JiY1Nz49ZSk7YysrKTtjPT1MJiZQKCksTD1jfXJldHVybitmLnNsaWNlKGIsTCl9aWYoZCYmUCgpLFxcXCJ0cnVlXFxcIj09Zi5zbGljZShMLEwrNCkpcmV0dXJuIEwrPTQsITA7aWYoXFxcImZhbHNlXFxcIj09Zi5zbGljZShMLEwrNSkpcmV0dXJuIEwrPTUsITE7aWYoXFxcIm51bGxcXFwiPT1mLnNsaWNlKEwsTCs0KSlyZXR1cm4gTCs9NCxudWxsO1AoKX1yZXR1cm5cXFwiJFxcXCJ9LFI9ZnVuY3Rpb24oYSl7dmFyIGIsYztpZihcXFwiJFxcXCI9PWEmJlAoKSxcXFwic3RyaW5nXFxcIj09dHlwZW9mIGEpe2lmKFxcXCJAXFxcIj09KEI/YS5jaGFyQXQoMCk6YVswXSkpcmV0dXJuIGEuc2xpY2UoMSk7aWYoXFxcIltcXFwiPT1hKXtmb3IoYj1bXTthPVEoKSxcXFwiXVxcXCIhPWE7Y3x8KGM9ITApKWMmJihcXFwiLFxcXCI9PWE/KGE9USgpLFxcXCJdXFxcIj09YSYmUCgpKTpQKCkpLFxcXCIsXFxcIj09YSYmUCgpLGIucHVzaChSKGEpKTtyZXR1cm4gYn1pZihcXFwie1xcXCI9PWEpe2ZvcihiPXt9O2E9USgpLFxcXCJ9XFxcIiE9YTtjfHwoYz0hMCkpYyYmKFxcXCIsXFxcIj09YT8oYT1RKCksXFxcIn1cXFwiPT1hJiZQKCkpOlAoKSksKFxcXCIsXFxcIj09YXx8XFxcInN0cmluZ1xcXCIhPXR5cGVvZiBhfHxcXFwiQFxcXCIhPShCP2EuY2hhckF0KDApOmFbMF0pfHxcXFwiOlxcXCIhPVEoKSkmJlAoKSxiW2Euc2xpY2UoMSldPVIoUSgpKTtyZXR1cm4gYn1QKCl9cmV0dXJuIGF9LFM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVQoYSxiLGMpO2Q9PT1xP2RlbGV0ZSBhW2JdOmFbYl09ZH0sVD1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZT1hW2JdO2lmKFxcXCJvYmplY3RcXFwiPT10eXBlb2YgZSYmZSlpZihzLmNhbGwoZSk9PXopZm9yKGQ9ZS5sZW5ndGg7ZC0tOylTKGUsZCxjKTtlbHNlIHAoZSxmdW5jdGlvbihhKXtTKGUsYSxjKX0pO3JldHVybiBjLmNhbGwoYSxiLGUpfTtkLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtyZXR1cm4gTD0wLE09XFxcIlxcXCIrYSxjPVIoUSgpKSxcXFwiJFxcXCIhPVEoKSYmUCgpLEw9TT1udWxsLGImJnMuY2FsbChiKT09dj9UKChkPXt9LGRbXFxcIlxcXCJdPWMsZCksXFxcIlxcXCIsYik6Y319fXJldHVybiBkLnJ1bkluQ29udGV4dD1hLGR9dmFyIGI9XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCxjPXtcXFwiZnVuY3Rpb25cXFwiOiEwLG9iamVjdDohMH0sZD1jW3R5cGVvZiBleHBvcnRzXSYmZXhwb3J0cyYmIWV4cG9ydHMubm9kZVR5cGUmJmV4cG9ydHMsZT1jW3R5cGVvZiB3aW5kb3ddJiZ3aW5kb3d8fHRoaXMsZj1kJiZjW3R5cGVvZiBtb2R1bGVdJiZtb2R1bGUmJiFtb2R1bGUubm9kZVR5cGUmJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWw7aWYoIWZ8fGYuZ2xvYmFsIT09ZiYmZi53aW5kb3chPT1mJiZmLnNlbGYhPT1mfHwoZT1mKSxkJiYhYilhKGUsZCk7ZWxzZXt2YXIgZz1lLkpTT04saD1lLkpTT04zLGk9ITEsaj1hKGUsZS5KU09OMz17bm9Db25mbGljdDpmdW5jdGlvbigpe3JldHVybiBpfHwoaT0hMCxlLkpTT049ZyxlLkpTT04zPWgsZz1oPW51bGwpLGp9fSk7ZS5KU09OPXtwYXJzZTpqLnBhcnNlLHN0cmluZ2lmeTpqLnN0cmluZ2lmeX19YiYmZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIGp9KX0uY2FsbCh0aGlzKSxmdW5jdGlvbigpe3ZhciBhPXt9O2EuYT1mdW5jdGlvbigpe3JldHVybiBhLmVsKFxcXCJhXFxcIil9LGEuc3ZnPWZ1bmN0aW9uKCl7cmV0dXJuIGEuZWwoXFxcInN2Z1xcXCIpfSxhLm9iamVjdD1mdW5jdGlvbigpe3JldHVybiBhLmVsKFxcXCJvYmplY3RcXFwiKX0sYS5pbWFnZT1mdW5jdGlvbigpe3JldHVybiBhLmVsKFxcXCJpbWFnZVxcXCIpfSxhLmltZz1mdW5jdGlvbigpe3JldHVybiBhLmVsKFxcXCJpbWdcXFwiKX0sYS5zdHlsZT1mdW5jdGlvbigpe3JldHVybiBhLmVsKFxcXCJzdHlsZVxcXCIpfSxhLmxpbms9ZnVuY3Rpb24oKXtyZXR1cm4gYS5lbChcXFwibGlua1xcXCIpfSxhLnNjcmlwdD1mdW5jdGlvbigpe3JldHVybiBhLmVsKFxcXCJzY3JpcHRcXFwiKX0sYS5hdWRpbz1mdW5jdGlvbigpe3JldHVybiBhLmVsKFxcXCJhdWRpb1xcXCIpfSxhLnZpZGVvPWZ1bmN0aW9uKCl7cmV0dXJuIGEuZWwoXFxcInZpZGVvXFxcIil9LGEudGV4dD1mdW5jdGlvbihhKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSl9LGEuZWw9ZnVuY3Rpb24oYSl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSl9LGNyZWF0ZWpzLkVsZW1lbnRzPWF9KCksZnVuY3Rpb24oKXt2YXIgYT17fTthLkFCU09MVVRFX1BBVFQ9L14oPzpcXFxcdys6KT9cXFxcL3syfS9pLGEuUkVMQVRJVkVfUEFUVD0vXlsuXFxcXC9dKj9cXFxcLy9pLGEuRVhURU5TSU9OX1BBVFQ9L1xcXFwvP1teXFxcXC9dK1xcXFwuKFxcXFx3ezEsNX0pJC9pLGEucGFyc2VVUkk9ZnVuY3Rpb24oYil7dmFyIGM9e2Fic29sdXRlOiExLHJlbGF0aXZlOiExLHByb3RvY29sOm51bGwsaG9zdG5hbWU6bnVsbCxwb3J0Om51bGwscGF0aG5hbWU6bnVsbCxzZWFyY2g6bnVsbCxoYXNoOm51bGwsaG9zdDpudWxsfTtpZihudWxsPT1iKXJldHVybiBjO3ZhciBkPWNyZWF0ZWpzLkVsZW1lbnRzLmEoKTtkLmhyZWY9Yjtmb3IodmFyIGUgaW4gYyllIGluIGQmJihjW2VdPWRbZV0pO3ZhciBmPWIuaW5kZXhPZihcXFwiP1xcXCIpO2Y+LTEmJihiPWIuc3Vic3RyKDAsZikpO3ZhciBnO3JldHVybiBhLkFCU09MVVRFX1BBVFQudGVzdChiKT9jLmFic29sdXRlPSEwOmEuUkVMQVRJVkVfUEFUVC50ZXN0KGIpJiYoYy5yZWxhdGl2ZT0hMCksKGc9Yi5tYXRjaChhLkVYVEVOU0lPTl9QQVRUKSkmJihjLmV4dGVuc2lvbj1nWzFdLnRvTG93ZXJDYXNlKCkpLGN9LGEuZm9ybWF0UXVlcnlTdHJpbmc9ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1hKXRocm93IG5ldyBFcnJvcihcXFwiWW91IG11c3Qgc3BlY2lmeSBkYXRhLlxcXCIpO3ZhciBjPVtdO2Zvcih2YXIgZCBpbiBhKWMucHVzaChkK1xcXCI9XFxcIitlc2NhcGUoYVtkXSkpO3JldHVybiBiJiYoYz1jLmNvbmNhdChiKSksYy5qb2luKFxcXCImXFxcIil9LGEuYnVpbGRVUkk9ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1iKXJldHVybiBhO3ZhciBjPVtdLGQ9YS5pbmRleE9mKFxcXCI/XFxcIik7aWYoLTEhPWQpe3ZhciBlPWEuc2xpY2UoZCsxKTtjPWMuY29uY2F0KGUuc3BsaXQoXFxcIiZcXFwiKSl9cmV0dXJuLTEhPWQ/YS5zbGljZSgwLGQpK1xcXCI/XFxcIit0aGlzLmZvcm1hdFF1ZXJ5U3RyaW5nKGIsYyk6YStcXFwiP1xcXCIrdGhpcy5mb3JtYXRRdWVyeVN0cmluZyhiLGMpfSxhLmlzQ3Jvc3NEb21haW49ZnVuY3Rpb24oYSl7dmFyIGI9Y3JlYXRlanMuRWxlbWVudHMuYSgpO2IuaHJlZj1hLnNyYzt2YXIgYz1jcmVhdGVqcy5FbGVtZW50cy5hKCk7Yy5ocmVmPWxvY2F0aW9uLmhyZWY7dmFyIGQ9XFxcIlxcXCIhPWIuaG9zdG5hbWUmJihiLnBvcnQhPWMucG9ydHx8Yi5wcm90b2NvbCE9Yy5wcm90b2NvbHx8Yi5ob3N0bmFtZSE9Yy5ob3N0bmFtZSk7cmV0dXJuIGR9LGEuaXNMb2NhbD1mdW5jdGlvbihhKXt2YXIgYj1jcmVhdGVqcy5FbGVtZW50cy5hKCk7cmV0dXJuIGIuaHJlZj1hLnNyYyxcXFwiXFxcIj09Yi5ob3N0bmFtZSYmXFxcImZpbGU6XFxcIj09Yi5wcm90b2NvbH0sY3JlYXRlanMuVVJMVXRpbHM9YX0oKSxmdW5jdGlvbigpe3ZhciBhPXtjb250YWluZXI6bnVsbH07YS5hcHBlbmRUb0hlYWQ9ZnVuY3Rpb24oYil7YS5nZXRIZWFkKCkuYXBwZW5kQ2hpbGQoYil9LGEuYXBwZW5kVG9Cb2R5PWZ1bmN0aW9uKGIpe2lmKG51bGw9PWEuY29udGFpbmVyKXthLmNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJkaXZcXFwiKSxhLmNvbnRhaW5lci5pZD1cXFwicHJlbG9hZGpzLWNvbnRhaW5lclxcXCI7dmFyIGM9YS5jb250YWluZXIuc3R5bGU7Yy52aXNpYmlsaXR5PVxcXCJoaWRkZW5cXFwiLGMucG9zaXRpb249XFxcImFic29sdXRlXFxcIixjLndpZHRoPWEuY29udGFpbmVyLnN0eWxlLmhlaWdodD1cXFwiMTBweFxcXCIsYy5vdmVyZmxvdz1cXFwiaGlkZGVuXFxcIixjLnRyYW5zZm9ybT1jLm1zVHJhbnNmb3JtPWMud2Via2l0VHJhbnNmb3JtPWMub1RyYW5zZm9ybT1cXFwidHJhbnNsYXRlKC0xMHB4LCAtMTBweClcXFwiLGEuZ2V0Qm9keSgpLmFwcGVuZENoaWxkKGEuY29udGFpbmVyKX1hLmNvbnRhaW5lci5hcHBlbmRDaGlsZChiKX0sYS5nZXRIZWFkPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJoZWFkXFxcIilbMF19LGEuZ2V0Qm9keT1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5ib2R5fHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwiYm9keVxcXCIpWzBdfSxhLnJlbW92ZUNoaWxkPWZ1bmN0aW9uKGEpe2EucGFyZW50JiZhLnBhcmVudC5yZW1vdmVDaGlsZChhKX0sYS5pc0ltYWdlVGFnPWZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudH0sYS5pc0F1ZGlvVGFnPWZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuSFRNTEF1ZGlvRWxlbWVudD9hIGluc3RhbmNlb2YgSFRNTEF1ZGlvRWxlbWVudDohMX0sYS5pc1ZpZGVvVGFnPWZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuSFRNTFZpZGVvRWxlbWVudD9hIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudDohMX0sY3JlYXRlanMuRG9tVXRpbHM9YX0oKSxmdW5jdGlvbigpe3ZhciBhPXt9O2EucGFyc2VYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDt0cnl7aWYod2luZG93LkRPTVBhcnNlcil7dmFyIGM9bmV3IERPTVBhcnNlcjtiPWMucGFyc2VGcm9tU3RyaW5nKGEsXFxcInRleHQveG1sXFxcIil9fWNhdGNoKGQpe31pZighYil0cnl7Yj1uZXcgQWN0aXZlWE9iamVjdChcXFwiTWljcm9zb2Z0LlhNTERPTVxcXCIpLGIuYXN5bmM9ITEsYi5sb2FkWE1MKGEpfWNhdGNoKGQpe2I9bnVsbH1yZXR1cm4gYn0sYS5wYXJzZUpTT049ZnVuY3Rpb24oYSl7aWYobnVsbD09YSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIEpTT04ucGFyc2UoYSl9Y2F0Y2goYil7dGhyb3cgYn19LGNyZWF0ZWpzLkRhdGFVdGlscz1hfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXt2YXIgYT17fTthLkJJTkFSWT1cXFwiYmluYXJ5XFxcIixhLkNTUz1cXFwiY3NzXFxcIixhLkZPTlQ9XFxcImZvbnRcXFwiLGEuRk9OVENTUz1cXFwiZm9udGNzc1xcXCIsYS5JTUFHRT1cXFwiaW1hZ2VcXFwiLGEuSkFWQVNDUklQVD1cXFwiamF2YXNjcmlwdFxcXCIsYS5KU09OPVxcXCJqc29uXFxcIixhLkpTT05QPVxcXCJqc29ucFxcXCIsYS5NQU5JRkVTVD1cXFwibWFuaWZlc3RcXFwiLGEuU09VTkQ9XFxcInNvdW5kXFxcIixhLlZJREVPPVxcXCJ2aWRlb1xcXCIsYS5TUFJJVEVTSEVFVD1cXFwic3ByaXRlc2hlZXRcXFwiLGEuU1ZHPVxcXCJzdmdcXFwiLGEuVEVYVD1cXFwidGV4dFxcXCIsYS5YTUw9XFxcInhtbFxcXCIsY3JlYXRlanMuVHlwZXM9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7dmFyIGE9e307YS5QT1NUPVxcXCJQT1NUXFxcIixhLkdFVD1cXFwiR0VUXFxcIixjcmVhdGVqcy5NZXRob2RzPWF9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBMb2FkSXRlbSgpe3RoaXMuc3JjPW51bGwsdGhpcy50eXBlPW51bGwsdGhpcy5pZD1udWxsLHRoaXMubWFpbnRhaW5PcmRlcj0hMSx0aGlzLmNhbGxiYWNrPW51bGwsdGhpcy5kYXRhPW51bGwsdGhpcy5tZXRob2Q9Y3JlYXRlanMuTWV0aG9kcy5HRVQsdGhpcy52YWx1ZXM9bnVsbCx0aGlzLmhlYWRlcnM9bnVsbCx0aGlzLndpdGhDcmVkZW50aWFscz0hMSx0aGlzLm1pbWVUeXBlPW51bGwsdGhpcy5jcm9zc09yaWdpbj1udWxsLHRoaXMubG9hZFRpbWVvdXQ9Yi5MT0FEX1RJTUVPVVRfREVGQVVMVH12YXIgYT1Mb2FkSXRlbS5wcm90b3R5cGU9e30sYj1Mb2FkSXRlbTtiLkxPQURfVElNRU9VVF9ERUZBVUxUPThlMyxiLmNyZWF0ZT1mdW5jdGlvbihhKXtpZihcXFwic3RyaW5nXFxcIj09dHlwZW9mIGEpe3ZhciBjPW5ldyBMb2FkSXRlbTtyZXR1cm4gYy5zcmM9YSxjfWlmKGEgaW5zdGFuY2VvZiBiKXJldHVybiBhO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QmJmEuc3JjKXJldHVybiBudWxsPT1hLmxvYWRUaW1lb3V0JiYoYS5sb2FkVGltZW91dD1iLkxPQURfVElNRU9VVF9ERUZBVUxUKSxhO3Rocm93IG5ldyBFcnJvcihcXFwiVHlwZSBub3QgcmVjb2duaXplZC5cXFwiKX0sYS5zZXQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpdGhpc1tiXT1hW2JdO3JldHVybiB0aGlzfSxjcmVhdGVqcy5Mb2FkSXRlbT1ifSgpLGZ1bmN0aW9uKCl7dmFyIGE9e307YS5pc0JpbmFyeT1mdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSBjcmVhdGVqcy5UeXBlcy5JTUFHRTpjYXNlIGNyZWF0ZWpzLlR5cGVzLkJJTkFSWTpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sYS5pc1RleHQ9ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgY3JlYXRlanMuVHlwZXMuVEVYVDpjYXNlIGNyZWF0ZWpzLlR5cGVzLkpTT046Y2FzZSBjcmVhdGVqcy5UeXBlcy5NQU5JRkVTVDpjYXNlIGNyZWF0ZWpzLlR5cGVzLlhNTDpjYXNlIGNyZWF0ZWpzLlR5cGVzLkNTUzpjYXNlIGNyZWF0ZWpzLlR5cGVzLlNWRzpjYXNlIGNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQ6Y2FzZSBjcmVhdGVqcy5UeXBlcy5TUFJJVEVTSEVFVDpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sYS5nZXRUeXBlQnlFeHRlbnNpb249ZnVuY3Rpb24oYSl7aWYobnVsbD09YSlyZXR1cm4gY3JlYXRlanMuVHlwZXMuVEVYVDtzd2l0Y2goYS50b0xvd2VyQ2FzZSgpKXtjYXNlXFxcImpwZWdcXFwiOmNhc2VcXFwianBnXFxcIjpjYXNlXFxcImdpZlxcXCI6Y2FzZVxcXCJwbmdcXFwiOmNhc2VcXFwid2VicFxcXCI6Y2FzZVxcXCJibXBcXFwiOnJldHVybiBjcmVhdGVqcy5UeXBlcy5JTUFHRTtjYXNlXFxcIm9nZ1xcXCI6Y2FzZVxcXCJtcDNcXFwiOmNhc2VcXFwid2VibVxcXCI6cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlNPVU5EO2Nhc2VcXFwibXA0XFxcIjpjYXNlXFxcIndlYm1cXFwiOmNhc2VcXFwidHNcXFwiOnJldHVybiBjcmVhdGVqcy5UeXBlcy5WSURFTztjYXNlXFxcImpzb25cXFwiOnJldHVybiBjcmVhdGVqcy5UeXBlcy5KU09OO2Nhc2VcXFwieG1sXFxcIjpyZXR1cm4gY3JlYXRlanMuVHlwZXMuWE1MO2Nhc2VcXFwiY3NzXFxcIjpyZXR1cm4gY3JlYXRlanMuVHlwZXMuQ1NTO2Nhc2VcXFwianNcXFwiOnJldHVybiBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUO2Nhc2VcXFwic3ZnXFxcIjpyZXR1cm4gY3JlYXRlanMuVHlwZXMuU1ZHO2RlZmF1bHQ6cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlRFWFR9fSxjcmVhdGVqcy5SZXF1ZXN0VXRpbHM9YX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIEFic3RyYWN0TG9hZGVyKGEsYixjKXt0aGlzLkV2ZW50RGlzcGF0Y2hlcl9jb25zdHJ1Y3RvcigpLHRoaXMubG9hZGVkPSExLHRoaXMuY2FuY2VsZWQ9ITEsdGhpcy5wcm9ncmVzcz0wLHRoaXMudHlwZT1jLHRoaXMucmVzdWx0Rm9ybWF0dGVyPW51bGwsdGhpcy5faXRlbT1hP2NyZWF0ZWpzLkxvYWRJdGVtLmNyZWF0ZShhKTpudWxsLHRoaXMuX3ByZWZlclhIUj1iLHRoaXMuX3Jlc3VsdD1udWxsLHRoaXMuX3Jhd1Jlc3VsdD1udWxsLHRoaXMuX2xvYWRlZEl0ZW1zPW51bGwsdGhpcy5fdGFnU3JjQXR0cmlidXRlPW51bGwsdGhpcy5fdGFnPW51bGx9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKEFic3RyYWN0TG9hZGVyLGNyZWF0ZWpzLkV2ZW50RGlzcGF0Y2hlciksYj1BYnN0cmFjdExvYWRlcjt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYix7UE9TVDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5NZXRob2RzLlBPU1R9LFxcXCJBYnN0cmFjdExvYWRlci5QT1NUXFxcIil9LEdFVDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5NZXRob2RzLkdFVH0sXFxcIkFic3RyYWN0TG9hZGVyLkdFVFxcXCIpfSxCSU5BUlk6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuQklOQVJZfSxcXFwiQWJzdHJhY3RMb2FkZXIuQklOQVJZXFxcIil9LENTUzp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5DU1N9LFxcXCJBYnN0cmFjdExvYWRlci5DU1NcXFwiKX0sRk9OVDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5GT05UfSxcXFwiQWJzdHJhY3RMb2FkZXIuRk9OVFxcXCIpfSxGT05UQ1NTOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkZPTlRDU1N9LFxcXCJBYnN0cmFjdExvYWRlci5GT05UQ1NTXFxcIil9LElNQUdFOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLklNQUdFfSxcXFwiQWJzdHJhY3RMb2FkZXIuSU1BR0VcXFwiKX0sSkFWQVNDUklQVDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUfSxcXFwiQWJzdHJhY3RMb2FkZXIuSkFWQVNDUklQVFxcXCIpfSxKU09OOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkpTT059LFxcXCJBYnN0cmFjdExvYWRlci5KU09OXFxcIil9LEpTT05QOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkpTT05QfSxcXFwiQWJzdHJhY3RMb2FkZXIuSlNPTlBcXFwiKX0sTUFOSUZFU1Q6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuTUFOSUZFU1R9LFxcXCJBYnN0cmFjdExvYWRlci5NQU5JRkVTVFxcXCIpfSxTT1VORDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5TT1VORH0sXFxcIkFic3RyYWN0TG9hZGVyLlNPVU5EXFxcIil9LFZJREVPOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlZJREVPfSxcXFwiQWJzdHJhY3RMb2FkZXIuVklERU9cXFwiKX0sU1BSSVRFU0hFRVQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuU1BSSVRFU0hFRVR9LFxcXCJBYnN0cmFjdExvYWRlci5TUFJJVEVTSEVFVFxcXCIpfSxTVkc6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuU1ZHfSxcXFwiQWJzdHJhY3RMb2FkZXIuU1ZHXFxcIil9LFRFWFQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuVEVYVH0sXFxcIkFic3RyYWN0TG9hZGVyLlRFWFRcXFwiKX0sWE1MOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlhNTH0sXFxcIkFic3RyYWN0TG9hZGVyLlhNTFxcXCIpfX0pfWNhdGNoKGMpe31hLmdldEl0ZW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlbX0sYS5nZXRSZXN1bHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5fcmF3UmVzdWx0OnRoaXMuX3Jlc3VsdH0sYS5nZXRUYWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFnfSxhLnNldFRhZz1mdW5jdGlvbihhKXt0aGlzLl90YWc9YX0sYS5sb2FkPWZ1bmN0aW9uKCl7dGhpcy5fY3JlYXRlUmVxdWVzdCgpLHRoaXMuX3JlcXVlc3Qub24oXFxcImNvbXBsZXRlXFxcIix0aGlzLHRoaXMpLHRoaXMuX3JlcXVlc3Qub24oXFxcInByb2dyZXNzXFxcIix0aGlzLHRoaXMpLHRoaXMuX3JlcXVlc3Qub24oXFxcImxvYWRTdGFydFxcXCIsdGhpcyx0aGlzKSx0aGlzLl9yZXF1ZXN0Lm9uKFxcXCJhYm9ydFxcXCIsdGhpcyx0aGlzKSx0aGlzLl9yZXF1ZXN0Lm9uKFxcXCJ0aW1lb3V0XFxcIix0aGlzLHRoaXMpLHRoaXMuX3JlcXVlc3Qub24oXFxcImVycm9yXFxcIix0aGlzLHRoaXMpO3ZhciBhPW5ldyBjcmVhdGVqcy5FdmVudChcXFwiaW5pdGlhbGl6ZVxcXCIpO2EubG9hZGVyPXRoaXMuX3JlcXVlc3QsdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuX3JlcXVlc3QubG9hZCgpfSxhLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsZWQ9ITAsdGhpcy5kZXN0cm95KCl9LGEuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX3JlcXVlc3QmJih0aGlzLl9yZXF1ZXN0LnJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCksdGhpcy5fcmVxdWVzdC5kZXN0cm95KCkpLHRoaXMuX3JlcXVlc3Q9bnVsbCx0aGlzLl9pdGVtPW51bGwsdGhpcy5fcmF3UmVzdWx0PW51bGwsdGhpcy5fcmVzdWx0PW51bGwsdGhpcy5fbG9hZEl0ZW1zPW51bGwsdGhpcy5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpfSxhLmdldExvYWRlZEl0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlZEl0ZW1zfSxhLl9jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKCl7dGhpcy5fcmVxdWVzdD10aGlzLl9wcmVmZXJYSFI/bmV3IGNyZWF0ZWpzLlhIUlJlcXVlc3QodGhpcy5faXRlbSk6bmV3IGNyZWF0ZWpzLlRhZ1JlcXVlc3QodGhpcy5faXRlbSx0aGlzLl90YWd8fHRoaXMuX2NyZWF0ZVRhZygpLHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZSl9LGEuX2NyZWF0ZVRhZz1mdW5jdGlvbigpe3JldHVybiBudWxsfSxhLl9zZW5kTG9hZFN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5faXNDYW5jZWxlZCgpfHx0aGlzLmRpc3BhdGNoRXZlbnQoXFxcImxvYWRzdGFydFxcXCIpfSxhLl9zZW5kUHJvZ3Jlc3M9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuX2lzQ2FuY2VsZWQoKSl7dmFyIGI9bnVsbDtcXFwibnVtYmVyXFxcIj09dHlwZW9mIGE/KHRoaXMucHJvZ3Jlc3M9YSxiPW5ldyBjcmVhdGVqcy5Qcm9ncmVzc0V2ZW50KHRoaXMucHJvZ3Jlc3MpKTooYj1hLHRoaXMucHJvZ3Jlc3M9YS5sb2FkZWQvYS50b3RhbCxiLnByb2dyZXNzPXRoaXMucHJvZ3Jlc3MsKGlzTmFOKHRoaXMucHJvZ3Jlc3MpfHwxLzA9PXRoaXMucHJvZ3Jlc3MpJiYodGhpcy5wcm9ncmVzcz0wKSksdGhpcy5oYXNFdmVudExpc3RlbmVyKFxcXCJwcm9ncmVzc1xcXCIpJiZ0aGlzLmRpc3BhdGNoRXZlbnQoYil9fSxhLl9zZW5kQ29tcGxldGU9ZnVuY3Rpb24oKXtpZighdGhpcy5faXNDYW5jZWxlZCgpKXt0aGlzLmxvYWRlZD0hMDt2YXIgYT1uZXcgY3JlYXRlanMuRXZlbnQoXFxcImNvbXBsZXRlXFxcIik7YS5yYXdSZXN1bHQ9dGhpcy5fcmF3UmVzdWx0LG51bGwhPXRoaXMuX3Jlc3VsdCYmKGEucmVzdWx0PXRoaXMuX3Jlc3VsdCksdGhpcy5kaXNwYXRjaEV2ZW50KGEpfX0sYS5fc2VuZEVycm9yPWZ1bmN0aW9uKGEpeyF0aGlzLl9pc0NhbmNlbGVkKCkmJnRoaXMuaGFzRXZlbnRMaXN0ZW5lcihcXFwiZXJyb3JcXFwiKSYmKG51bGw9PWEmJihhPW5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFxcXCJQUkVMT0FEX0VSUk9SX0VNUFRZXFxcIikpLHRoaXMuZGlzcGF0Y2hFdmVudChhKSl9LGEuX2lzQ2FuY2VsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09d2luZG93LmNyZWF0ZWpzfHx0aGlzLmNhbmNlbGVkPyEwOiExfSxhLnJlc3VsdEZvcm1hdHRlcj1udWxsLGEuaGFuZGxlRXZlbnQ9ZnVuY3Rpb24oYSl7c3dpdGNoKGEudHlwZSl7Y2FzZVxcXCJjb21wbGV0ZVxcXCI6dGhpcy5fcmF3UmVzdWx0PWEudGFyZ2V0Ll9yZXNwb25zZTt2YXIgYj10aGlzLnJlc3VsdEZvcm1hdHRlciYmdGhpcy5yZXN1bHRGb3JtYXR0ZXIodGhpcyk7YiBpbnN0YW5jZW9mIEZ1bmN0aW9uP2IuY2FsbCh0aGlzLGNyZWF0ZWpzLnByb3h5KHRoaXMuX3Jlc3VsdEZvcm1hdFN1Y2Nlc3MsdGhpcyksY3JlYXRlanMucHJveHkodGhpcy5fcmVzdWx0Rm9ybWF0RmFpbGVkLHRoaXMpKToodGhpcy5fcmVzdWx0PWJ8fHRoaXMuX3Jhd1Jlc3VsdCx0aGlzLl9zZW5kQ29tcGxldGUoKSk7YnJlYWs7Y2FzZVxcXCJwcm9ncmVzc1xcXCI6dGhpcy5fc2VuZFByb2dyZXNzKGEpO2JyZWFrO2Nhc2VcXFwiZXJyb3JcXFwiOnRoaXMuX3NlbmRFcnJvcihhKTticmVhaztjYXNlXFxcImxvYWRzdGFydFxcXCI6dGhpcy5fc2VuZExvYWRTdGFydCgpO2JyZWFrO2Nhc2VcXFwiYWJvcnRcXFwiOmNhc2VcXFwidGltZW91dFxcXCI6dGhpcy5faXNDYW5jZWxlZCgpfHx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXFxcIlBSRUxPQURfXFxcIithLnR5cGUudG9VcHBlckNhc2UoKStcXFwiX0VSUk9SXFxcIikpfX0sYS5fcmVzdWx0Rm9ybWF0U3VjY2Vzcz1mdW5jdGlvbihhKXt0aGlzLl9yZXN1bHQ9YSx0aGlzLl9zZW5kQ29tcGxldGUoKX0sYS5fcmVzdWx0Rm9ybWF0RmFpbGVkPWZ1bmN0aW9uKGEpe3RoaXMuX3NlbmRFcnJvcihhKX0sYS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblxcXCJbUHJlbG9hZEpTIEFic3RyYWN0TG9hZGVyXVxcXCJ9LGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyPWNyZWF0ZWpzLnByb21vdGUoQWJzdHJhY3RMb2FkZXIsXFxcIkV2ZW50RGlzcGF0Y2hlclxcXCIpfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gQWJzdHJhY3RNZWRpYUxvYWRlcihhLGIsYyl7dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3RvcihhLGIsYyksdGhpcy5yZXN1bHRGb3JtYXR0ZXI9dGhpcy5fZm9ybWF0UmVzdWx0LHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZT1cXFwic3JjXFxcIix0aGlzLm9uKFxcXCJpbml0aWFsaXplXFxcIix0aGlzLl91cGRhdGVYSFIsdGhpcyl9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKEFic3RyYWN0TWVkaWFMb2FkZXIsY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpO2EubG9hZD1mdW5jdGlvbigpe3RoaXMuX3RhZ3x8KHRoaXMuX3RhZz10aGlzLl9jcmVhdGVUYWcodGhpcy5faXRlbS5zcmMpKSx0aGlzLl90YWcucHJlbG9hZD1cXFwiYXV0b1xcXCIsdGhpcy5fdGFnLmxvYWQoKSx0aGlzLkFic3RyYWN0TG9hZGVyX2xvYWQoKX0sYS5fY3JlYXRlVGFnPWZ1bmN0aW9uKCl7fSxhLl9jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKCl7dGhpcy5fcmVxdWVzdD10aGlzLl9wcmVmZXJYSFI/bmV3IGNyZWF0ZWpzLlhIUlJlcXVlc3QodGhpcy5faXRlbSk6bmV3IGNyZWF0ZWpzLk1lZGlhVGFnUmVxdWVzdCh0aGlzLl9pdGVtLHRoaXMuX3RhZ3x8dGhpcy5fY3JlYXRlVGFnKCksdGhpcy5fdGFnU3JjQXR0cmlidXRlKX0sYS5fdXBkYXRlWEhSPWZ1bmN0aW9uKGEpe2EubG9hZGVyLnNldFJlc3BvbnNlVHlwZSYmYS5sb2FkZXIuc2V0UmVzcG9uc2VUeXBlKFxcXCJibG9iXFxcIil9LGEuX2Zvcm1hdFJlc3VsdD1mdW5jdGlvbihhKXtpZih0aGlzLl90YWcucmVtb3ZlRXZlbnRMaXN0ZW5lciYmdGhpcy5fdGFnLnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcImNhbnBsYXl0aHJvdWdoXFxcIix0aGlzLl9sb2FkZWRIYW5kbGVyKSx0aGlzLl90YWcub25zdGFsbGVkPW51bGwsdGhpcy5fcHJlZmVyWEhSKXt2YXIgYj13aW5kb3cuVVJMfHx3aW5kb3cud2Via2l0VVJMLGM9YS5nZXRSZXN1bHQoITApO2EuZ2V0VGFnKCkuc3JjPWIuY3JlYXRlT2JqZWN0VVJMKGMpfXJldHVybiBhLmdldFRhZygpfSxjcmVhdGVqcy5BYnN0cmFjdE1lZGlhTG9hZGVyPWNyZWF0ZWpzLnByb21vdGUoQWJzdHJhY3RNZWRpYUxvYWRlcixcXFwiQWJzdHJhY3RMb2FkZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO3ZhciBBYnN0cmFjdFJlcXVlc3Q9ZnVuY3Rpb24oYSl7dGhpcy5faXRlbT1hfSxhPWNyZWF0ZWpzLmV4dGVuZChBYnN0cmFjdFJlcXVlc3QsY3JlYXRlanMuRXZlbnREaXNwYXRjaGVyKTthLmxvYWQ9ZnVuY3Rpb24oKXt9LGEuZGVzdHJveT1mdW5jdGlvbigpe30sYS5jYW5jZWw9ZnVuY3Rpb24oKXt9LGNyZWF0ZWpzLkFic3RyYWN0UmVxdWVzdD1jcmVhdGVqcy5wcm9tb3RlKEFic3RyYWN0UmVxdWVzdCxcXFwiRXZlbnREaXNwYXRjaGVyXFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBUYWdSZXF1ZXN0KGEsYixjKXt0aGlzLkFic3RyYWN0UmVxdWVzdF9jb25zdHJ1Y3RvcihhKSx0aGlzLl90YWc9Yix0aGlzLl90YWdTcmNBdHRyaWJ1dGU9Yyx0aGlzLl9sb2FkZWRIYW5kbGVyPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRhZ0NvbXBsZXRlLHRoaXMpLHRoaXMuX2FkZGVkVG9ET009ITF9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKFRhZ1JlcXVlc3QsY3JlYXRlanMuQWJzdHJhY3RSZXF1ZXN0KTthLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLl90YWcub25sb2FkPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVRhZ0NvbXBsZXRlLHRoaXMpLHRoaXMuX3RhZy5vbnJlYWR5c3RhdGVjaGFuZ2U9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZSx0aGlzKSx0aGlzLl90YWcub25lcnJvcj1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVFcnJvcix0aGlzKTt2YXIgYT1uZXcgY3JlYXRlanMuRXZlbnQoXFxcImluaXRpYWxpemVcXFwiKTthLmxvYWRlcj10aGlzLl90YWcsdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuX2xvYWRUaW1lb3V0PXNldFRpbWVvdXQoY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGltZW91dCx0aGlzKSx0aGlzLl9pdGVtLmxvYWRUaW1lb3V0KSx0aGlzLl90YWdbdGhpcy5fdGFnU3JjQXR0cmlidXRlXT10aGlzLl9pdGVtLnNyYyxudWxsPT10aGlzLl90YWcucGFyZW50Tm9kZSYmKGNyZWF0ZWpzLkRvbVV0aWxzLmFwcGVuZFRvQm9keSh0aGlzLl90YWcpLHRoaXMuX2FkZGVkVG9ET009ITApfSxhLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhbigpLHRoaXMuX3RhZz1udWxsLHRoaXMuQWJzdHJhY3RSZXF1ZXN0X2Rlc3Ryb3koKX0sYS5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZT1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCk7dmFyIGE9dGhpcy5fdGFnOyhcXFwibG9hZGVkXFxcIj09YS5yZWFkeVN0YXRlfHxcXFwiY29tcGxldGVcXFwiPT1hLnJlYWR5U3RhdGUpJiZ0aGlzLl9oYW5kbGVUYWdDb21wbGV0ZSgpfSxhLl9oYW5kbGVFcnJvcj1mdW5jdGlvbigpe3RoaXMuX2NsZWFuKCksdGhpcy5kaXNwYXRjaEV2ZW50KFxcXCJlcnJvclxcXCIpfSxhLl9oYW5kbGVUYWdDb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuX3Jhd1Jlc3VsdD10aGlzLl90YWcsdGhpcy5fcmVzdWx0PXRoaXMucmVzdWx0Rm9ybWF0dGVyJiZ0aGlzLnJlc3VsdEZvcm1hdHRlcih0aGlzKXx8dGhpcy5fcmF3UmVzdWx0LHRoaXMuX2NsZWFuKCksdGhpcy5kaXNwYXRjaEV2ZW50KFxcXCJjb21wbGV0ZVxcXCIpfSxhLl9oYW5kbGVUaW1lb3V0PWZ1bmN0aW9uKCl7dGhpcy5fY2xlYW4oKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLkV2ZW50KFxcXCJ0aW1lb3V0XFxcIikpfSxhLl9jbGVhbj1mdW5jdGlvbigpe3RoaXMuX3RhZy5vbmxvYWQ9bnVsbCx0aGlzLl90YWcub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdGhpcy5fdGFnLm9uZXJyb3I9bnVsbCx0aGlzLl9hZGRlZFRvRE9NJiZudWxsIT10aGlzLl90YWcucGFyZW50Tm9kZSYmdGhpcy5fdGFnLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fdGFnKSxjbGVhclRpbWVvdXQodGhpcy5fbG9hZFRpbWVvdXQpfSxhLl9oYW5kbGVTdGFsbGVkPWZ1bmN0aW9uKCl7fSxjcmVhdGVqcy5UYWdSZXF1ZXN0PWNyZWF0ZWpzLnByb21vdGUoVGFnUmVxdWVzdCxcXFwiQWJzdHJhY3RSZXF1ZXN0XFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBNZWRpYVRhZ1JlcXVlc3QoYSxiLGMpe3RoaXMuQWJzdHJhY3RSZXF1ZXN0X2NvbnN0cnVjdG9yKGEpLHRoaXMuX3RhZz1iLHRoaXMuX3RhZ1NyY0F0dHJpYnV0ZT1jLHRoaXMuX2xvYWRlZEhhbmRsZXI9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGFnQ29tcGxldGUsdGhpcyl9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKE1lZGlhVGFnUmVxdWVzdCxjcmVhdGVqcy5UYWdSZXF1ZXN0KTthLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgYT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVTdGFsbGVkLHRoaXMpO3RoaXMuX3N0YWxsZWRDYWxsYmFjaz1hO3ZhciBiPWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZVByb2dyZXNzLHRoaXMpO3RoaXMuX2hhbmRsZVByb2dyZXNzPWIsdGhpcy5fdGFnLmFkZEV2ZW50TGlzdGVuZXIoXFxcInN0YWxsZWRcXFwiLGEpLHRoaXMuX3RhZy5hZGRFdmVudExpc3RlbmVyKFxcXCJwcm9ncmVzc1xcXCIsYiksdGhpcy5fdGFnLmFkZEV2ZW50TGlzdGVuZXImJnRoaXMuX3RhZy5hZGRFdmVudExpc3RlbmVyKFxcXCJjYW5wbGF5dGhyb3VnaFxcXCIsdGhpcy5fbG9hZGVkSGFuZGxlciwhMSksdGhpcy5UYWdSZXF1ZXN0X2xvYWQoKX0sYS5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZT1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCk7dmFyIGE9dGhpcy5fdGFnOyhcXFwibG9hZGVkXFxcIj09YS5yZWFkeVN0YXRlfHxcXFwiY29tcGxldGVcXFwiPT1hLnJlYWR5U3RhdGUpJiZ0aGlzLl9oYW5kbGVUYWdDb21wbGV0ZSgpfSxhLl9oYW5kbGVTdGFsbGVkPWZ1bmN0aW9uKCl7fSxhLl9oYW5kbGVQcm9ncmVzcz1mdW5jdGlvbihhKXtpZihhJiYhKGEubG9hZGVkPjAmJjA9PWEudG90YWwpKXt2YXIgYj1uZXcgY3JlYXRlanMuUHJvZ3Jlc3NFdmVudChhLmxvYWRlZCxhLnRvdGFsKTt0aGlzLmRpc3BhdGNoRXZlbnQoYil9fSxhLl9jbGVhbj1mdW5jdGlvbigpe3RoaXMuX3RhZy5yZW1vdmVFdmVudExpc3RlbmVyJiZ0aGlzLl90YWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwiY2FucGxheXRocm91Z2hcXFwiLHRoaXMuX2xvYWRlZEhhbmRsZXIpLHRoaXMuX3RhZy5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJzdGFsbGVkXFxcIix0aGlzLl9zdGFsbGVkQ2FsbGJhY2spLHRoaXMuX3RhZy5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJwcm9ncmVzc1xcXCIsdGhpcy5fcHJvZ3Jlc3NDYWxsYmFjayksdGhpcy5UYWdSZXF1ZXN0X19jbGVhbigpfSxjcmVhdGVqcy5NZWRpYVRhZ1JlcXVlc3Q9Y3JlYXRlanMucHJvbW90ZShNZWRpYVRhZ1JlcXVlc3QsXFxcIlRhZ1JlcXVlc3RcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIFhIUlJlcXVlc3QoYSl7dGhpcy5BYnN0cmFjdFJlcXVlc3RfY29uc3RydWN0b3IoYSksdGhpcy5fcmVxdWVzdD1udWxsLHRoaXMuX2xvYWRUaW1lb3V0PW51bGwsdGhpcy5feGhyTGV2ZWw9MSx0aGlzLl9yZXNwb25zZT1udWxsLHRoaXMuX3Jhd1Jlc3BvbnNlPW51bGwsdGhpcy5fY2FuY2VsZWQ9ITEsdGhpcy5faGFuZGxlTG9hZFN0YXJ0UHJveHk9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlTG9hZFN0YXJ0LHRoaXMpLHRoaXMuX2hhbmRsZVByb2dyZXNzUHJveHk9Y3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlUHJvZ3Jlc3MsdGhpcyksdGhpcy5faGFuZGxlQWJvcnRQcm94eT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVBYm9ydCx0aGlzKSx0aGlzLl9oYW5kbGVFcnJvclByb3h5PWNyZWF0ZWpzLnByb3h5KHRoaXMuX2hhbmRsZUVycm9yLHRoaXMpLHRoaXMuX2hhbmRsZVRpbWVvdXRQcm94eT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVUaW1lb3V0LHRoaXMpLHRoaXMuX2hhbmRsZUxvYWRQcm94eT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVMb2FkLHRoaXMpLHRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2VQcm94eT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVSZWFkeVN0YXRlQ2hhbmdlLHRoaXMpLCF0aGlzLl9jcmVhdGVYSFIoYSl9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKFhIUlJlcXVlc3QsY3JlYXRlanMuQWJzdHJhY3RSZXF1ZXN0KTtYSFJSZXF1ZXN0LkFDVElWRVhfVkVSU0lPTlM9W1xcXCJNc3htbDIuWE1MSFRUUC42LjBcXFwiLFxcXCJNc3htbDIuWE1MSFRUUC41LjBcXFwiLFxcXCJNc3htbDIuWE1MSFRUUC40LjBcXFwiLFxcXCJNU1hNTDIuWE1MSFRUUC4zLjBcXFwiLFxcXCJNU1hNTDIuWE1MSFRUUFxcXCIsXFxcIk1pY3Jvc29mdC5YTUxIVFRQXFxcIl0sYS5nZXRSZXN1bHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnRoaXMuX3Jhd1Jlc3BvbnNlP3RoaXMuX3Jhd1Jlc3BvbnNlOnRoaXMuX3Jlc3BvbnNlfSxhLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsZWQ9ITAsdGhpcy5fY2xlYW4oKSx0aGlzLl9yZXF1ZXN0LmFib3J0KCl9LGEubG9hZD1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMuX3JlcXVlc3QpcmV0dXJuIHZvaWQgdGhpcy5faGFuZGxlRXJyb3IoKTtudWxsIT10aGlzLl9yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXI/KHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcXFwibG9hZHN0YXJ0XFxcIix0aGlzLl9oYW5kbGVMb2FkU3RhcnRQcm94eSwhMSksdGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFxcXCJwcm9ncmVzc1xcXCIsdGhpcy5faGFuZGxlUHJvZ3Jlc3NQcm94eSwhMSksdGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFxcXCJhYm9ydFxcXCIsdGhpcy5faGFuZGxlQWJvcnRQcm94eSwhMSksdGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFxcXCJlcnJvclxcXCIsdGhpcy5faGFuZGxlRXJyb3JQcm94eSwhMSksdGhpcy5fcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFxcXCJ0aW1lb3V0XFxcIix0aGlzLl9oYW5kbGVUaW1lb3V0UHJveHksITEpLHRoaXMuX3JlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcXFwibG9hZFxcXCIsdGhpcy5faGFuZGxlTG9hZFByb3h5LCExKSx0aGlzLl9yZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXFxcInJlYWR5c3RhdGVjaGFuZ2VcXFwiLHRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2VQcm94eSwhMSkpOih0aGlzLl9yZXF1ZXN0Lm9ubG9hZHN0YXJ0PXRoaXMuX2hhbmRsZUxvYWRTdGFydFByb3h5LHRoaXMuX3JlcXVlc3Qub25wcm9ncmVzcz10aGlzLl9oYW5kbGVQcm9ncmVzc1Byb3h5LHRoaXMuX3JlcXVlc3Qub25hYm9ydD10aGlzLl9oYW5kbGVBYm9ydFByb3h5LHRoaXMuX3JlcXVlc3Qub25lcnJvcj10aGlzLl9oYW5kbGVFcnJvclByb3h5LHRoaXMuX3JlcXVlc3Qub250aW1lb3V0PXRoaXMuX2hhbmRsZVRpbWVvdXRQcm94eSx0aGlzLl9yZXF1ZXN0Lm9ubG9hZD10aGlzLl9oYW5kbGVMb2FkUHJveHksdGhpcy5fcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2U9dGhpcy5faGFuZGxlUmVhZHlTdGF0ZUNoYW5nZVByb3h5KSwxPT10aGlzLl94aHJMZXZlbCYmKHRoaXMuX2xvYWRUaW1lb3V0PXNldFRpbWVvdXQoY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGltZW91dCx0aGlzKSx0aGlzLl9pdGVtLmxvYWRUaW1lb3V0KSk7dHJ5e3RoaXMuX2l0ZW0udmFsdWVzP3RoaXMuX3JlcXVlc3Quc2VuZChjcmVhdGVqcy5VUkxVdGlscy5mb3JtYXRRdWVyeVN0cmluZyh0aGlzLl9pdGVtLnZhbHVlcykpOnRoaXMuX3JlcXVlc3Quc2VuZCgpfWNhdGNoKGEpe3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgY3JlYXRlanMuRXJyb3JFdmVudChcXFwiWEhSX1NFTkRcXFwiLG51bGwsYSkpfX0sYS5zZXRSZXNwb25zZVR5cGU9ZnVuY3Rpb24oYSl7XFxcImJsb2JcXFwiPT09YSYmKGE9d2luZG93LlVSTD9cXFwiYmxvYlxcXCI6XFxcImFycmF5YnVmZmVyXFxcIix0aGlzLl9yZXNwb25zZVR5cGU9YSksdGhpcy5fcmVxdWVzdC5yZXNwb25zZVR5cGU9YX0sYS5nZXRBbGxSZXNwb25zZUhlYWRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMgaW5zdGFuY2VvZiBGdW5jdGlvbj90aGlzLl9yZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpOm51bGx9LGEuZ2V0UmVzcG9uc2VIZWFkZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX3JlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIgaW5zdGFuY2VvZiBGdW5jdGlvbj90aGlzLl9yZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyKGEpOm51bGx9LGEuX2hhbmRsZVByb2dyZXNzPWZ1bmN0aW9uKGEpe2lmKGEmJiEoYS5sb2FkZWQ+MCYmMD09YS50b3RhbCkpe3ZhciBiPW5ldyBjcmVhdGVqcy5Qcm9ncmVzc0V2ZW50KGEubG9hZGVkLGEudG90YWwpO3RoaXMuZGlzcGF0Y2hFdmVudChiKX19LGEuX2hhbmRsZUxvYWRTdGFydD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCksdGhpcy5kaXNwYXRjaEV2ZW50KFxcXCJsb2Fkc3RhcnRcXFwiKX0sYS5faGFuZGxlQWJvcnQ9ZnVuY3Rpb24oYSl7dGhpcy5fY2xlYW4oKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXFxcIlhIUl9BQk9SVEVEXFxcIixudWxsLGEpKX0sYS5faGFuZGxlRXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5fY2xlYW4oKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoYS5tZXNzYWdlKSl9LGEuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2U9ZnVuY3Rpb24oKXs0PT10aGlzLl9yZXF1ZXN0LnJlYWR5U3RhdGUmJnRoaXMuX2hhbmRsZUxvYWQoKX0sYS5faGFuZGxlTG9hZD1mdW5jdGlvbigpe2lmKCF0aGlzLmxvYWRlZCl7dGhpcy5sb2FkZWQ9ITA7dmFyIGE9dGhpcy5fY2hlY2tFcnJvcigpO2lmKGEpcmV0dXJuIHZvaWQgdGhpcy5faGFuZGxlRXJyb3IoYSk7aWYodGhpcy5fcmVzcG9uc2U9dGhpcy5fZ2V0UmVzcG9uc2UoKSxcXFwiYXJyYXlidWZmZXJcXFwiPT09dGhpcy5fcmVzcG9uc2VUeXBlKXRyeXt0aGlzLl9yZXNwb25zZT1uZXcgQmxvYihbdGhpcy5fcmVzcG9uc2VdKX1jYXRjaChiKXtpZih3aW5kb3cuQmxvYkJ1aWxkZXI9d2luZG93LkJsb2JCdWlsZGVyfHx3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXJ8fHdpbmRvdy5Nb3pCbG9iQnVpbGRlcnx8d2luZG93Lk1TQmxvYkJ1aWxkZXIsXFxcIlR5cGVFcnJvclxcXCI9PT1iLm5hbWUmJndpbmRvdy5CbG9iQnVpbGRlcil7dmFyIGM9bmV3IEJsb2JCdWlsZGVyO2MuYXBwZW5kKHRoaXMuX3Jlc3BvbnNlKSx0aGlzLl9yZXNwb25zZT1jLmdldEJsb2IoKX19dGhpcy5fY2xlYW4oKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLkV2ZW50KFxcXCJjb21wbGV0ZVxcXCIpKX19LGEuX2hhbmRsZVRpbWVvdXQ9ZnVuY3Rpb24oYSl7dGhpcy5fY2xlYW4oKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXFxcIlBSRUxPQURfVElNRU9VVFxcXCIsbnVsbCxhKSl9LGEuX2NoZWNrRXJyb3I9ZnVuY3Rpb24oKXt2YXIgYT1wYXJzZUludCh0aGlzLl9yZXF1ZXN0LnN0YXR1cyk7cmV0dXJuIGE+PTQwMCYmNTk5Pj1hP25ldyBFcnJvcihhKTowPT1hJiYvXmh0dHBzPzovLnRlc3QobG9jYXRpb24ucHJvdG9jb2wpP25ldyBFcnJvcigwKTpudWxsfSxhLl9nZXRSZXNwb25zZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuX3Jlc3BvbnNlKXJldHVybiB0aGlzLl9yZXNwb25zZTtcXG5pZihudWxsIT10aGlzLl9yZXF1ZXN0LnJlc3BvbnNlKXJldHVybiB0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlO3RyeXtpZihudWxsIT10aGlzLl9yZXF1ZXN0LnJlc3BvbnNlVGV4dClyZXR1cm4gdGhpcy5fcmVxdWVzdC5yZXNwb25zZVRleHR9Y2F0Y2goYSl7fXRyeXtpZihudWxsIT10aGlzLl9yZXF1ZXN0LnJlc3BvbnNlWE1MKXJldHVybiB0aGlzLl9yZXF1ZXN0LnJlc3BvbnNlWE1MfWNhdGNoKGEpe31yZXR1cm4gbnVsbH0sYS5fY3JlYXRlWEhSPWZ1bmN0aW9uKGEpe3ZhciBiPWNyZWF0ZWpzLlVSTFV0aWxzLmlzQ3Jvc3NEb21haW4oYSksYz17fSxkPW51bGw7aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0KWQ9bmV3IFhNTEh0dHBSZXF1ZXN0LGImJnZvaWQgMD09PWQud2l0aENyZWRlbnRpYWxzJiZ3aW5kb3cuWERvbWFpblJlcXVlc3QmJihkPW5ldyBYRG9tYWluUmVxdWVzdCk7ZWxzZXtmb3IodmFyIGU9MCxmPXMuQUNUSVZFWF9WRVJTSU9OUy5sZW5ndGg7Zj5lO2UrKyl7dmFyIGc9cy5BQ1RJVkVYX1ZFUlNJT05TW2VdO3RyeXtkPW5ldyBBY3RpdmVYT2JqZWN0KGcpO2JyZWFrfWNhdGNoKGgpe319aWYobnVsbD09ZClyZXR1cm4hMX1udWxsPT1hLm1pbWVUeXBlJiZjcmVhdGVqcy5SZXF1ZXN0VXRpbHMuaXNUZXh0KGEudHlwZSkmJihhLm1pbWVUeXBlPVxcXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XFxcIiksYS5taW1lVHlwZSYmZC5vdmVycmlkZU1pbWVUeXBlJiZkLm92ZXJyaWRlTWltZVR5cGUoYS5taW1lVHlwZSksdGhpcy5feGhyTGV2ZWw9XFxcInN0cmluZ1xcXCI9PXR5cGVvZiBkLnJlc3BvbnNlVHlwZT8yOjE7dmFyIGk9bnVsbDtpZihpPWEubWV0aG9kPT1jcmVhdGVqcy5NZXRob2RzLkdFVD9jcmVhdGVqcy5VUkxVdGlscy5idWlsZFVSSShhLnNyYyxhLnZhbHVlcyk6YS5zcmMsZC5vcGVuKGEubWV0aG9kfHxjcmVhdGVqcy5NZXRob2RzLkdFVCxpLCEwKSxiJiZkIGluc3RhbmNlb2YgWE1MSHR0cFJlcXVlc3QmJjE9PXRoaXMuX3hockxldmVsJiYoYy5PcmlnaW49bG9jYXRpb24ub3JpZ2luKSxhLnZhbHVlcyYmYS5tZXRob2Q9PWNyZWF0ZWpzLk1ldGhvZHMuUE9TVCYmKGNbXFxcIkNvbnRlbnQtVHlwZVxcXCJdPVxcXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcXFwiKSxifHxjW1xcXCJYLVJlcXVlc3RlZC1XaXRoXFxcIl18fChjW1xcXCJYLVJlcXVlc3RlZC1XaXRoXFxcIl09XFxcIlhNTEh0dHBSZXF1ZXN0XFxcIiksYS5oZWFkZXJzKWZvcih2YXIgaiBpbiBhLmhlYWRlcnMpY1tqXT1hLmhlYWRlcnNbal07Zm9yKGogaW4gYylkLnNldFJlcXVlc3RIZWFkZXIoaixjW2pdKTtyZXR1cm4gZCBpbnN0YW5jZW9mIFhNTEh0dHBSZXF1ZXN0JiZ2b2lkIDAhPT1hLndpdGhDcmVkZW50aWFscyYmKGQud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzKSx0aGlzLl9yZXF1ZXN0PWQsITB9LGEuX2NsZWFuPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KSxudWxsIT10aGlzLl9yZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXI/KHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwibG9hZHN0YXJ0XFxcIix0aGlzLl9oYW5kbGVMb2FkU3RhcnRQcm94eSksdGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJwcm9ncmVzc1xcXCIsdGhpcy5faGFuZGxlUHJvZ3Jlc3NQcm94eSksdGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJhYm9ydFxcXCIsdGhpcy5faGFuZGxlQWJvcnRQcm94eSksdGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJlcnJvclxcXCIsdGhpcy5faGFuZGxlRXJyb3JQcm94eSksdGhpcy5fcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKFxcXCJ0aW1lb3V0XFxcIix0aGlzLl9oYW5kbGVUaW1lb3V0UHJveHkpLHRoaXMuX3JlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcXFwibG9hZFxcXCIsdGhpcy5faGFuZGxlTG9hZFByb3h5KSx0aGlzLl9yZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXFxcInJlYWR5c3RhdGVjaGFuZ2VcXFwiLHRoaXMuX2hhbmRsZVJlYWR5U3RhdGVDaGFuZ2VQcm94eSkpOih0aGlzLl9yZXF1ZXN0Lm9ubG9hZHN0YXJ0PW51bGwsdGhpcy5fcmVxdWVzdC5vbnByb2dyZXNzPW51bGwsdGhpcy5fcmVxdWVzdC5vbmFib3J0PW51bGwsdGhpcy5fcmVxdWVzdC5vbmVycm9yPW51bGwsdGhpcy5fcmVxdWVzdC5vbnRpbWVvdXQ9bnVsbCx0aGlzLl9yZXF1ZXN0Lm9ubG9hZD1udWxsLHRoaXMuX3JlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlPW51bGwpfSxhLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXFxcIltQcmVsb2FkSlMgWEhSUmVxdWVzdF1cXFwifSxjcmVhdGVqcy5YSFJSZXF1ZXN0PWNyZWF0ZWpzLnByb21vdGUoWEhSUmVxdWVzdCxcXFwiQWJzdHJhY3RSZXF1ZXN0XFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBMb2FkUXVldWUoYSxiLGMpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoKSx0aGlzLl9wbHVnaW5zPVtdLHRoaXMuX3R5cGVDYWxsYmFja3M9e30sdGhpcy5fZXh0ZW5zaW9uQ2FsbGJhY2tzPXt9LHRoaXMubmV4dD1udWxsLHRoaXMubWFpbnRhaW5TY3JpcHRPcmRlcj0hMCx0aGlzLnN0b3BPbkVycm9yPSExLHRoaXMuX21heENvbm5lY3Rpb25zPTEsdGhpcy5fYXZhaWxhYmxlTG9hZGVycz1bY3JlYXRlanMuRm9udExvYWRlcixjcmVhdGVqcy5JbWFnZUxvYWRlcixjcmVhdGVqcy5KYXZhU2NyaXB0TG9hZGVyLGNyZWF0ZWpzLkNTU0xvYWRlcixjcmVhdGVqcy5KU09OTG9hZGVyLGNyZWF0ZWpzLkpTT05QTG9hZGVyLGNyZWF0ZWpzLlNvdW5kTG9hZGVyLGNyZWF0ZWpzLk1hbmlmZXN0TG9hZGVyLGNyZWF0ZWpzLlNwcml0ZVNoZWV0TG9hZGVyLGNyZWF0ZWpzLlhNTExvYWRlcixjcmVhdGVqcy5TVkdMb2FkZXIsY3JlYXRlanMuQmluYXJ5TG9hZGVyLGNyZWF0ZWpzLlZpZGVvTG9hZGVyLGNyZWF0ZWpzLlRleHRMb2FkZXJdLHRoaXMuX2RlZmF1bHRMb2FkZXJMZW5ndGg9dGhpcy5fYXZhaWxhYmxlTG9hZGVycy5sZW5ndGgsdGhpcy5pbml0KGEsYixjKX12YXIgYT1jcmVhdGVqcy5leHRlbmQoTG9hZFF1ZXVlLGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSxiPUxvYWRRdWV1ZTt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYix7UE9TVDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5NZXRob2RzLlBPU1R9LFxcXCJBYnN0cmFjdExvYWRlci5QT1NUXFxcIil9LEdFVDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5NZXRob2RzLkdFVH0sXFxcIkFic3RyYWN0TG9hZGVyLkdFVFxcXCIpfSxCSU5BUlk6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuQklOQVJZfSxcXFwiQWJzdHJhY3RMb2FkZXIuQklOQVJZXFxcIil9LENTUzp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5DU1N9LFxcXCJBYnN0cmFjdExvYWRlci5DU1NcXFwiKX0sRk9OVDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5GT05UfSxcXFwiQWJzdHJhY3RMb2FkZXIuRk9OVFxcXCIpfSxGT05UQ1NTOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkZPTlRDU1N9LFxcXCJBYnN0cmFjdExvYWRlci5GT05UQ1NTXFxcIil9LElNQUdFOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLklNQUdFfSxcXFwiQWJzdHJhY3RMb2FkZXIuSU1BR0VcXFwiKX0sSkFWQVNDUklQVDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUfSxcXFwiQWJzdHJhY3RMb2FkZXIuSkFWQVNDUklQVFxcXCIpfSxKU09OOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkpTT059LFxcXCJBYnN0cmFjdExvYWRlci5KU09OXFxcIil9LEpTT05QOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLkpTT05QfSxcXFwiQWJzdHJhY3RMb2FkZXIuSlNPTlBcXFwiKX0sTUFOSUZFU1Q6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuTUFOSUZFU1R9LFxcXCJBYnN0cmFjdExvYWRlci5NQU5JRkVTVFxcXCIpfSxTT1VORDp7Z2V0OmNyZWF0ZWpzLmRlcHJlY2F0ZShmdW5jdGlvbigpe3JldHVybiBjcmVhdGVqcy5UeXBlcy5TT1VORH0sXFxcIkFic3RyYWN0TG9hZGVyLlNPVU5EXFxcIil9LFZJREVPOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlZJREVPfSxcXFwiQWJzdHJhY3RMb2FkZXIuVklERU9cXFwiKX0sU1BSSVRFU0hFRVQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuU1BSSVRFU0hFRVR9LFxcXCJBYnN0cmFjdExvYWRlci5TUFJJVEVTSEVFVFxcXCIpfSxTVkc6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuU1ZHfSxcXFwiQWJzdHJhY3RMb2FkZXIuU1ZHXFxcIil9LFRFWFQ6e2dldDpjcmVhdGVqcy5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlanMuVHlwZXMuVEVYVH0sXFxcIkFic3RyYWN0TG9hZGVyLlRFWFRcXFwiKX0sWE1MOntnZXQ6Y3JlYXRlanMuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLlR5cGVzLlhNTH0sXFxcIkFic3RyYWN0TG9hZGVyLlhNTFxcXCIpfX0pfWNhdGNoKGMpe31hLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMucHJlZmVyWEhSPSEwLHRoaXMuX3ByZWZlclhIUj0hMCx0aGlzLnNldFByZWZlclhIUihhKSx0aGlzLl9wYXVzZWQ9ITEsdGhpcy5fYmFzZVBhdGg9Yix0aGlzLl9jcm9zc09yaWdpbj1jLHRoaXMuX2xvYWRTdGFydFdhc0Rpc3BhdGNoZWQ9ITEsdGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdD1udWxsLHRoaXMuX2N1cnJlbnRMb2Fkcz1bXSx0aGlzLl9sb2FkUXVldWU9W10sdGhpcy5fbG9hZFF1ZXVlQmFja3VwPVtdLHRoaXMuX2xvYWRJdGVtc0J5SWQ9e30sdGhpcy5fbG9hZEl0ZW1zQnlTcmM9e30sdGhpcy5fbG9hZGVkUmVzdWx0cz17fSx0aGlzLl9sb2FkZWRSYXdSZXN1bHRzPXt9LHRoaXMuX251bUl0ZW1zPTAsdGhpcy5fbnVtSXRlbXNMb2FkZWQ9MCx0aGlzLl9zY3JpcHRPcmRlcj1bXSx0aGlzLl9sb2FkZWRTY3JpcHRzPVtdLHRoaXMuX2xhc3RQcm9ncmVzcz0wLzB9LGEucmVnaXN0ZXJMb2FkZXI9ZnVuY3Rpb24oYSl7aWYoIWF8fCFhLmNhbkxvYWRJdGVtKXRocm93IG5ldyBFcnJvcihcXFwibG9hZGVyIGlzIG9mIGFuIGluY29ycmVjdCB0eXBlLlxcXCIpO2lmKC0xIT10aGlzLl9hdmFpbGFibGVMb2FkZXJzLmluZGV4T2YoYSkpdGhyb3cgbmV3IEVycm9yKFxcXCJsb2FkZXIgYWxyZWFkeSBleGlzdHMuXFxcIik7dGhpcy5fYXZhaWxhYmxlTG9hZGVycy51bnNoaWZ0KGEpfSxhLnVucmVnaXN0ZXJMb2FkZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fYXZhaWxhYmxlTG9hZGVycy5pbmRleE9mKGEpOy0xIT1iJiZiPHRoaXMuX2RlZmF1bHRMb2FkZXJMZW5ndGgtMSYmdGhpcy5fYXZhaWxhYmxlTG9hZGVycy5zcGxpY2UoYiwxKX0sYS5zZXRQcmVmZXJYSFI9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHJlZmVyWEhSPTAhPWEmJm51bGwhPXdpbmRvdy5YTUxIdHRwUmVxdWVzdCx0aGlzLnByZWZlclhIUn0sYS5yZW1vdmVBbGw9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZSgpfSxhLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKGEmJiFBcnJheS5pc0FycmF5KGEpKWI9W2FdO2Vsc2UgaWYoYSliPWE7ZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoPjApcmV0dXJuO3ZhciBjPSExO2lmKGIpe2Zvcig7Yi5sZW5ndGg7KXt2YXIgZD1iLnBvcCgpLGU9dGhpcy5nZXRSZXN1bHQoZCk7Zm9yKGY9dGhpcy5fbG9hZFF1ZXVlLmxlbmd0aC0xO2Y+PTA7Zi0tKWlmKGc9dGhpcy5fbG9hZFF1ZXVlW2ZdLmdldEl0ZW0oKSxnLmlkPT1kfHxnLnNyYz09ZCl7dGhpcy5fbG9hZFF1ZXVlLnNwbGljZShmLDEpWzBdLmNhbmNlbCgpO2JyZWFrfWZvcihmPXRoaXMuX2xvYWRRdWV1ZUJhY2t1cC5sZW5ndGgtMTtmPj0wO2YtLSlpZihnPXRoaXMuX2xvYWRRdWV1ZUJhY2t1cFtmXS5nZXRJdGVtKCksZy5pZD09ZHx8Zy5zcmM9PWQpe3RoaXMuX2xvYWRRdWV1ZUJhY2t1cC5zcGxpY2UoZiwxKVswXS5jYW5jZWwoKTticmVha31pZihlKXRoaXMuX2Rpc3Bvc2VJdGVtKHRoaXMuZ2V0SXRlbShkKSk7ZWxzZSBmb3IodmFyIGY9dGhpcy5fY3VycmVudExvYWRzLmxlbmd0aC0xO2Y+PTA7Zi0tKXt2YXIgZz10aGlzLl9jdXJyZW50TG9hZHNbZl0uZ2V0SXRlbSgpO2lmKGcuaWQ9PWR8fGcuc3JjPT1kKXt0aGlzLl9jdXJyZW50TG9hZHMuc3BsaWNlKGYsMSlbMF0uY2FuY2VsKCksYz0hMDticmVha319fWMmJnRoaXMuX2xvYWROZXh0KCl9ZWxzZXt0aGlzLmNsb3NlKCk7Zm9yKHZhciBoIGluIHRoaXMuX2xvYWRJdGVtc0J5SWQpdGhpcy5fZGlzcG9zZUl0ZW0odGhpcy5fbG9hZEl0ZW1zQnlJZFtoXSk7dGhpcy5pbml0KHRoaXMucHJlZmVyWEhSLHRoaXMuX2Jhc2VQYXRoKX19LGEucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCk7Zm9yKHZhciBhIGluIHRoaXMuX2xvYWRJdGVtc0J5SWQpdGhpcy5fZGlzcG9zZUl0ZW0odGhpcy5fbG9hZEl0ZW1zQnlJZFthXSk7Zm9yKHZhciBiPVtdLGM9MCxkPXRoaXMuX2xvYWRRdWV1ZUJhY2t1cC5sZW5ndGg7ZD5jO2MrKyliLnB1c2godGhpcy5fbG9hZFF1ZXVlQmFja3VwW2NdLmdldEl0ZW0oKSk7dGhpcy5sb2FkTWFuaWZlc3QoYiwhMSl9LGEuaW5zdGFsbFBsdWdpbj1mdW5jdGlvbihhKXtpZihudWxsIT1hJiZudWxsIT1hLmdldFByZWxvYWRIYW5kbGVycyl7dGhpcy5fcGx1Z2lucy5wdXNoKGEpO3ZhciBiPWEuZ2V0UHJlbG9hZEhhbmRsZXJzKCk7aWYoYi5zY29wZT1hLG51bGwhPWIudHlwZXMpZm9yKHZhciBjPTAsZD1iLnR5cGVzLmxlbmd0aDtkPmM7YysrKXRoaXMuX3R5cGVDYWxsYmFja3NbYi50eXBlc1tjXV09YjtpZihudWxsIT1iLmV4dGVuc2lvbnMpZm9yKGM9MCxkPWIuZXh0ZW5zaW9ucy5sZW5ndGg7ZD5jO2MrKyl0aGlzLl9leHRlbnNpb25DYWxsYmFja3NbYi5leHRlbnNpb25zW2NdXT1ifX0sYS5zZXRNYXhDb25uZWN0aW9ucz1mdW5jdGlvbihhKXt0aGlzLl9tYXhDb25uZWN0aW9ucz1hLCF0aGlzLl9wYXVzZWQmJnRoaXMuX2xvYWRRdWV1ZS5sZW5ndGg+MCYmdGhpcy5fbG9hZE5leHQoKX0sYS5sb2FkRmlsZT1mdW5jdGlvbihhLGIsYyl7aWYobnVsbD09YSl7dmFyIGQ9bmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXFxcIlBSRUxPQURfTk9fRklMRVxcXCIpO3JldHVybiB2b2lkIHRoaXMuX3NlbmRFcnJvcihkKX10aGlzLl9hZGRJdGVtKGEsbnVsbCxjKSx0aGlzLnNldFBhdXNlZChiIT09ITE/ITE6ITApfSxhLmxvYWRNYW5pZmVzdD1mdW5jdGlvbihhLGMsZCl7dmFyIGU9bnVsbCxmPW51bGw7aWYoQXJyYXkuaXNBcnJheShhKSl7aWYoMD09YS5sZW5ndGgpe3ZhciBnPW5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFxcXCJQUkVMT0FEX01BTklGRVNUX0VNUFRZXFxcIik7cmV0dXJuIHZvaWQgdGhpcy5fc2VuZEVycm9yKGcpfWU9YX1lbHNlIGlmKFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYSllPVt7c3JjOmEsdHlwZTpiLk1BTklGRVNUfV07ZWxzZXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGEpe3ZhciBnPW5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFxcXCJQUkVMT0FEX01BTklGRVNUX05VTExcXFwiKTtyZXR1cm4gdm9pZCB0aGlzLl9zZW5kRXJyb3IoZyl9aWYodm9pZCAwIT09YS5zcmMpe2lmKG51bGw9PWEudHlwZSlhLnR5cGU9Yi5NQU5JRkVTVDtlbHNlIGlmKGEudHlwZSE9Yi5NQU5JRkVTVCl7dmFyIGc9bmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXFxcIlBSRUxPQURfTUFOSUZFU1RfVFlQRVxcXCIpO3RoaXMuX3NlbmRFcnJvcihnKX1lPVthXX1lbHNlIHZvaWQgMCE9PWEubWFuaWZlc3QmJihlPWEubWFuaWZlc3QsZj1hLnBhdGgpfWZvcih2YXIgaD0wLGk9ZS5sZW5ndGg7aT5oO2grKyl0aGlzLl9hZGRJdGVtKGVbaF0sZixkKTt0aGlzLnNldFBhdXNlZChjIT09ITE/ITE6ITApfSxhLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLnNldFBhdXNlZCghMSl9LGEuZ2V0SXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fbG9hZEl0ZW1zQnlJZFthXXx8dGhpcy5fbG9hZEl0ZW1zQnlTcmNbYV19LGEuZ2V0UmVzdWx0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fbG9hZEl0ZW1zQnlJZFthXXx8dGhpcy5fbG9hZEl0ZW1zQnlTcmNbYV07aWYobnVsbD09YylyZXR1cm4gbnVsbDt2YXIgZD1jLmlkO3JldHVybiBiJiZ0aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2RdP3RoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbZF06dGhpcy5fbG9hZGVkUmVzdWx0c1tkXX0sYS5nZXRJdGVtcz1mdW5jdGlvbihhKXt2YXIgYj1bXTtmb3IodmFyIGMgaW4gdGhpcy5fbG9hZEl0ZW1zQnlJZCl7dmFyIGQ9dGhpcy5fbG9hZEl0ZW1zQnlJZFtjXSxlPXRoaXMuZ2V0UmVzdWx0KGMpOyhhIT09ITB8fG51bGwhPWUpJiZiLnB1c2goe2l0ZW06ZCxyZXN1bHQ6ZSxyYXdSZXN1bHQ6dGhpcy5nZXRSZXN1bHQoYywhMCl9KX1yZXR1cm4gYn0sYS5zZXRQYXVzZWQ9ZnVuY3Rpb24oYSl7dGhpcy5fcGF1c2VkPWEsdGhpcy5fcGF1c2VkfHx0aGlzLl9sb2FkTmV4dCgpfSxhLmNsb3NlPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoOyl0aGlzLl9jdXJyZW50TG9hZHMucG9wKCkuY2FuY2VsKCk7dGhpcy5fc2NyaXB0T3JkZXIubGVuZ3RoPTAsdGhpcy5fbG9hZGVkU2NyaXB0cy5sZW5ndGg9MCx0aGlzLmxvYWRTdGFydFdhc0Rpc3BhdGNoZWQ9ITEsdGhpcy5faXRlbUNvdW50PTAsdGhpcy5fbGFzdFByb2dyZXNzPTAvMH0sYS5fYWRkSXRlbT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5fY3JlYXRlTG9hZEl0ZW0oYSxiLGMpO2lmKG51bGwhPWQpe3ZhciBlPXRoaXMuX2NyZWF0ZUxvYWRlcihkKTtudWxsIT1lJiYoXFxcInBsdWdpbnNcXFwiaW4gZSYmKGUucGx1Z2lucz10aGlzLl9wbHVnaW5zKSxkLl9sb2FkZXI9ZSx0aGlzLl9sb2FkUXVldWUucHVzaChlKSx0aGlzLl9sb2FkUXVldWVCYWNrdXAucHVzaChlKSx0aGlzLl9udW1JdGVtcysrLHRoaXMuX3VwZGF0ZVByb2dyZXNzKCksKHRoaXMubWFpbnRhaW5TY3JpcHRPcmRlciYmZC50eXBlPT1jcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUfHxkLm1haW50YWluT3JkZXI9PT0hMCkmJih0aGlzLl9zY3JpcHRPcmRlci5wdXNoKGQpLHRoaXMuX2xvYWRlZFNjcmlwdHMucHVzaChudWxsKSkpfX0sYS5fY3JlYXRlTG9hZEl0ZW09ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWNyZWF0ZWpzLkxvYWRJdGVtLmNyZWF0ZShhKTtpZihudWxsPT1kKXJldHVybiBudWxsO3ZhciBlPVxcXCJcXFwiLGY9Y3x8dGhpcy5fYmFzZVBhdGg7aWYoZC5zcmMgaW5zdGFuY2VvZiBPYmplY3Qpe2lmKCFkLnR5cGUpcmV0dXJuIG51bGw7aWYoYil7ZT1iO3ZhciBnPWNyZWF0ZWpzLlVSTFV0aWxzLnBhcnNlVVJJKGIpO251bGw9PWZ8fGcuYWJzb2x1dGV8fGcucmVsYXRpdmV8fChlPWYrZSl9ZWxzZSBudWxsIT1mJiYoZT1mKX1lbHNle3ZhciBoPWNyZWF0ZWpzLlVSTFV0aWxzLnBhcnNlVVJJKGQuc3JjKTtoLmV4dGVuc2lvbiYmKGQuZXh0PWguZXh0ZW5zaW9uKSxudWxsPT1kLnR5cGUmJihkLnR5cGU9Y3JlYXRlanMuUmVxdWVzdFV0aWxzLmdldFR5cGVCeUV4dGVuc2lvbihkLmV4dCkpO3ZhciBpPWQuc3JjO2lmKCFoLmFic29sdXRlJiYhaC5yZWxhdGl2ZSlpZihiKXtlPWI7dmFyIGc9Y3JlYXRlanMuVVJMVXRpbHMucGFyc2VVUkkoYik7aT1iK2ksbnVsbD09Znx8Zy5hYnNvbHV0ZXx8Zy5yZWxhdGl2ZXx8KGU9ZitlKX1lbHNlIG51bGwhPWYmJihlPWYpO2Quc3JjPWUrZC5zcmN9ZC5wYXRoPWUsKHZvaWQgMD09PWQuaWR8fG51bGw9PT1kLmlkfHxcXFwiXFxcIj09PWQuaWQpJiYoZC5pZD1pKTt2YXIgaj10aGlzLl90eXBlQ2FsbGJhY2tzW2QudHlwZV18fHRoaXMuX2V4dGVuc2lvbkNhbGxiYWNrc1tkLmV4dF07aWYoail7dmFyIGs9ai5jYWxsYmFjay5jYWxsKGouc2NvcGUsZCx0aGlzKTtpZihrPT09ITEpcmV0dXJuIG51bGw7az09PSEwfHxudWxsIT1rJiYoZC5fbG9hZGVyPWspLGg9Y3JlYXRlanMuVVJMVXRpbHMucGFyc2VVUkkoZC5zcmMpLG51bGwhPWguZXh0ZW5zaW9uJiYoZC5leHQ9aC5leHRlbnNpb24pfXJldHVybiB0aGlzLl9sb2FkSXRlbXNCeUlkW2QuaWRdPWQsdGhpcy5fbG9hZEl0ZW1zQnlTcmNbZC5zcmNdPWQsbnVsbD09ZC5jcm9zc09yaWdpbiYmKGQuY3Jvc3NPcmlnaW49dGhpcy5fY3Jvc3NPcmlnaW4pLGR9LGEuX2NyZWF0ZUxvYWRlcj1mdW5jdGlvbihhKXtpZihudWxsIT1hLl9sb2FkZXIpcmV0dXJuIGEuX2xvYWRlcjtmb3IodmFyIGI9dGhpcy5wcmVmZXJYSFIsYz0wO2M8dGhpcy5fYXZhaWxhYmxlTG9hZGVycy5sZW5ndGg7YysrKXt2YXIgZD10aGlzLl9hdmFpbGFibGVMb2FkZXJzW2NdO2lmKGQmJmQuY2FuTG9hZEl0ZW0oYSkpcmV0dXJuIG5ldyBkKGEsYil9cmV0dXJuIG51bGx9LGEuX2xvYWROZXh0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3BhdXNlZCl7dGhpcy5fbG9hZFN0YXJ0V2FzRGlzcGF0Y2hlZHx8KHRoaXMuX3NlbmRMb2FkU3RhcnQoKSx0aGlzLl9sb2FkU3RhcnRXYXNEaXNwYXRjaGVkPSEwKSx0aGlzLl9udW1JdGVtcz09dGhpcy5fbnVtSXRlbXNMb2FkZWQ/KHRoaXMubG9hZGVkPSEwLHRoaXMuX3NlbmRDb21wbGV0ZSgpLHRoaXMubmV4dCYmdGhpcy5uZXh0LmxvYWQmJnRoaXMubmV4dC5sb2FkKCkpOnRoaXMubG9hZGVkPSExO2Zvcih2YXIgYT0wO2E8dGhpcy5fbG9hZFF1ZXVlLmxlbmd0aCYmISh0aGlzLl9jdXJyZW50TG9hZHMubGVuZ3RoPj10aGlzLl9tYXhDb25uZWN0aW9ucyk7YSsrKXt2YXIgYj10aGlzLl9sb2FkUXVldWVbYV07dGhpcy5fY2FuU3RhcnRMb2FkKGIpJiYodGhpcy5fbG9hZFF1ZXVlLnNwbGljZShhLDEpLGEtLSx0aGlzLl9sb2FkSXRlbShiKSl9fX0sYS5fbG9hZEl0ZW09ZnVuY3Rpb24oYSl7YS5vbihcXFwiZmlsZWxvYWRcXFwiLHRoaXMuX2hhbmRsZUZpbGVMb2FkLHRoaXMpLGEub24oXFxcInByb2dyZXNzXFxcIix0aGlzLl9oYW5kbGVQcm9ncmVzcyx0aGlzKSxhLm9uKFxcXCJjb21wbGV0ZVxcXCIsdGhpcy5faGFuZGxlRmlsZUNvbXBsZXRlLHRoaXMpLGEub24oXFxcImVycm9yXFxcIix0aGlzLl9oYW5kbGVFcnJvcix0aGlzKSxhLm9uKFxcXCJmaWxlZXJyb3JcXFwiLHRoaXMuX2hhbmRsZUZpbGVFcnJvcix0aGlzKSx0aGlzLl9jdXJyZW50TG9hZHMucHVzaChhKSx0aGlzLl9zZW5kRmlsZVN0YXJ0KGEuZ2V0SXRlbSgpKSxhLmxvYWQoKX0sYS5faGFuZGxlRmlsZUxvYWQ9ZnVuY3Rpb24oYSl7YS50YXJnZXQ9bnVsbCx0aGlzLmRpc3BhdGNoRXZlbnQoYSl9LGEuX2hhbmRsZUZpbGVFcnJvcj1mdW5jdGlvbihhKXt2YXIgYj1uZXcgY3JlYXRlanMuRXJyb3JFdmVudChcXFwiRklMRV9MT0FEX0VSUk9SXFxcIixudWxsLGEuaXRlbSk7dGhpcy5fc2VuZEVycm9yKGIpfSxhLl9oYW5kbGVFcnJvcj1mdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldDt0aGlzLl9udW1JdGVtc0xvYWRlZCsrLHRoaXMuX2ZpbmlzaE9yZGVyZWRJdGVtKGIsITApLHRoaXMuX3VwZGF0ZVByb2dyZXNzKCk7dmFyIGM9bmV3IGNyZWF0ZWpzLkVycm9yRXZlbnQoXFxcIkZJTEVfTE9BRF9FUlJPUlxcXCIsbnVsbCxiLmdldEl0ZW0oKSk7dGhpcy5fc2VuZEVycm9yKGMpLHRoaXMuc3RvcE9uRXJyb3I/dGhpcy5zZXRQYXVzZWQoITApOih0aGlzLl9yZW1vdmVMb2FkSXRlbShiKSx0aGlzLl9jbGVhbkxvYWRJdGVtKGIpLHRoaXMuX2xvYWROZXh0KCkpfSxhLl9oYW5kbGVGaWxlQ29tcGxldGU9ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsYz1iLmdldEl0ZW0oKSxkPWIuZ2V0UmVzdWx0KCk7dGhpcy5fbG9hZGVkUmVzdWx0c1tjLmlkXT1kO3ZhciBlPWIuZ2V0UmVzdWx0KCEwKTtudWxsIT1lJiZlIT09ZCYmKHRoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbYy5pZF09ZSksdGhpcy5fc2F2ZUxvYWRlZEl0ZW1zKGIpLHRoaXMuX3JlbW92ZUxvYWRJdGVtKGIpLHRoaXMuX2ZpbmlzaE9yZGVyZWRJdGVtKGIpfHx0aGlzLl9wcm9jZXNzRmluaXNoZWRMb2FkKGMsYiksdGhpcy5fY2xlYW5Mb2FkSXRlbShiKX0sYS5fc2F2ZUxvYWRlZEl0ZW1zPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0TG9hZGVkSXRlbXMoKTtpZihudWxsIT09Yilmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXS5pdGVtO3RoaXMuX2xvYWRJdGVtc0J5U3JjW2Quc3JjXT1kLHRoaXMuX2xvYWRJdGVtc0J5SWRbZC5pZF09ZCx0aGlzLl9sb2FkZWRSZXN1bHRzW2QuaWRdPWJbY10ucmVzdWx0LHRoaXMuX2xvYWRlZFJhd1Jlc3VsdHNbZC5pZF09YltjXS5yYXdSZXN1bHR9fSxhLl9maW5pc2hPcmRlcmVkSXRlbT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0SXRlbSgpO2lmKHRoaXMubWFpbnRhaW5TY3JpcHRPcmRlciYmYy50eXBlPT1jcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUfHxjLm1haW50YWluT3JkZXIpe2EgaW5zdGFuY2VvZiBjcmVhdGVqcy5KYXZhU2NyaXB0TG9hZGVyJiYodGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdD0hMSk7dmFyIGQ9Y3JlYXRlanMuaW5kZXhPZih0aGlzLl9zY3JpcHRPcmRlcixjKTtyZXR1cm4tMT09ZD8hMToodGhpcy5fbG9hZGVkU2NyaXB0c1tkXT1iPT09ITA/ITA6Yyx0aGlzLl9jaGVja1NjcmlwdExvYWRPcmRlcigpLCEwKX1yZXR1cm4hMX0sYS5fY2hlY2tTY3JpcHRMb2FkT3JkZXI9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5fbG9hZGVkU2NyaXB0cy5sZW5ndGgsYj0wO2E+YjtiKyspe3ZhciBjPXRoaXMuX2xvYWRlZFNjcmlwdHNbYl07aWYobnVsbD09PWMpYnJlYWs7aWYoYyE9PSEwKXt2YXIgZD10aGlzLl9sb2FkZWRSZXN1bHRzW2MuaWRdO2MudHlwZT09Y3JlYXRlanMuVHlwZXMuSkFWQVNDUklQVCYmY3JlYXRlanMuRG9tVXRpbHMuYXBwZW5kVG9IZWFkKGQpO3ZhciBlPWMuX2xvYWRlcjt0aGlzLl9wcm9jZXNzRmluaXNoZWRMb2FkKGMsZSksdGhpcy5fbG9hZGVkU2NyaXB0c1tiXT0hMH19fSxhLl9wcm9jZXNzRmluaXNoZWRMb2FkPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5fbnVtSXRlbXNMb2FkZWQrKywhdGhpcy5tYWludGFpblNjcmlwdE9yZGVyJiZhLnR5cGU9PWNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQpe3ZhciBjPWIuZ2V0VGFnKCk7Y3JlYXRlanMuRG9tVXRpbHMuYXBwZW5kVG9IZWFkKGMpfXRoaXMuX3VwZGF0ZVByb2dyZXNzKCksdGhpcy5fc2VuZEZpbGVDb21wbGV0ZShhLGIpLHRoaXMuX2xvYWROZXh0KCl9LGEuX2NhblN0YXJ0TG9hZD1mdW5jdGlvbihhKXtpZighdGhpcy5tYWludGFpblNjcmlwdE9yZGVyfHxhLnByZWZlclhIUilyZXR1cm4hMDt2YXIgYj1hLmdldEl0ZW0oKTtpZihiLnR5cGUhPWNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQpcmV0dXJuITA7aWYodGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdClyZXR1cm4hMTtmb3IodmFyIGM9dGhpcy5fc2NyaXB0T3JkZXIuaW5kZXhPZihiKSxkPTA7Yz5kOyl7dmFyIGU9dGhpcy5fbG9hZGVkU2NyaXB0c1tkXTtpZihudWxsPT1lKXJldHVybiExO2QrK31yZXR1cm4gdGhpcy5fY3VycmVudGx5TG9hZGluZ1NjcmlwdD0hMCwhMH0sYS5fcmVtb3ZlTG9hZEl0ZW09ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuX2N1cnJlbnRMb2Fkcy5sZW5ndGgsYz0wO2I+YztjKyspaWYodGhpcy5fY3VycmVudExvYWRzW2NdPT1hKXt0aGlzLl9jdXJyZW50TG9hZHMuc3BsaWNlKGMsMSk7YnJlYWt9fSxhLl9jbGVhbkxvYWRJdGVtPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0SXRlbSgpO2ImJmRlbGV0ZSBiLl9sb2FkZXJ9LGEuX2hhbmRsZVByb2dyZXNzPWZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O3RoaXMuX3NlbmRGaWxlUHJvZ3Jlc3MoYi5nZXRJdGVtKCksYi5wcm9ncmVzcyksdGhpcy5fdXBkYXRlUHJvZ3Jlc3MoKX0sYS5fdXBkYXRlUHJvZ3Jlc3M9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9udW1JdGVtc0xvYWRlZC90aGlzLl9udW1JdGVtcyxiPXRoaXMuX251bUl0ZW1zLXRoaXMuX251bUl0ZW1zTG9hZGVkO2lmKGI+MCl7Zm9yKHZhciBjPTAsZD0wLGU9dGhpcy5fY3VycmVudExvYWRzLmxlbmd0aDtlPmQ7ZCsrKWMrPXRoaXMuX2N1cnJlbnRMb2Fkc1tkXS5wcm9ncmVzczthKz1jL2IqKGIvdGhpcy5fbnVtSXRlbXMpfXRoaXMuX2xhc3RQcm9ncmVzcyE9YSYmKHRoaXMuX3NlbmRQcm9ncmVzcyhhKSx0aGlzLl9sYXN0UHJvZ3Jlc3M9YSl9LGEuX2Rpc3Bvc2VJdGVtPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLl9sb2FkZWRSZXN1bHRzW2EuaWRdLGRlbGV0ZSB0aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2EuaWRdLGRlbGV0ZSB0aGlzLl9sb2FkSXRlbXNCeUlkW2EuaWRdLGRlbGV0ZSB0aGlzLl9sb2FkSXRlbXNCeVNyY1thLnNyY119LGEuX3NlbmRGaWxlUHJvZ3Jlc3M9ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5faXNDYW5jZWxlZCgpJiYhdGhpcy5fcGF1c2VkJiZ0aGlzLmhhc0V2ZW50TGlzdGVuZXIoXFxcImZpbGVwcm9ncmVzc1xcXCIpKXt2YXIgYz1uZXcgY3JlYXRlanMuRXZlbnQoXFxcImZpbGVwcm9ncmVzc1xcXCIpO2MucHJvZ3Jlc3M9YixjLmxvYWRlZD1iLGMudG90YWw9MSxjLml0ZW09YSx0aGlzLmRpc3BhdGNoRXZlbnQoYyl9fSxhLl9zZW5kRmlsZUNvbXBsZXRlPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuX2lzQ2FuY2VsZWQoKSYmIXRoaXMuX3BhdXNlZCl7dmFyIGM9bmV3IGNyZWF0ZWpzLkV2ZW50KFxcXCJmaWxlbG9hZFxcXCIpO2MubG9hZGVyPWIsYy5pdGVtPWEsYy5yZXN1bHQ9dGhpcy5fbG9hZGVkUmVzdWx0c1thLmlkXSxjLnJhd1Jlc3VsdD10aGlzLl9sb2FkZWRSYXdSZXN1bHRzW2EuaWRdLGEuY29tcGxldGVIYW5kbGVyJiZhLmNvbXBsZXRlSGFuZGxlcihjKSx0aGlzLmhhc0V2ZW50TGlzdGVuZXIoXFxcImZpbGVsb2FkXFxcIikmJnRoaXMuZGlzcGF0Y2hFdmVudChjKX19LGEuX3NlbmRGaWxlU3RhcnQ9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGNyZWF0ZWpzLkV2ZW50KFxcXCJmaWxlc3RhcnRcXFwiKTtiLml0ZW09YSx0aGlzLmhhc0V2ZW50TGlzdGVuZXIoXFxcImZpbGVzdGFydFxcXCIpJiZ0aGlzLmRpc3BhdGNoRXZlbnQoYil9LGEudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cXFwiW1ByZWxvYWRKUyBMb2FkUXVldWVdXFxcIn0sY3JlYXRlanMuTG9hZFF1ZXVlPWNyZWF0ZWpzLnByb21vdGUoTG9hZFF1ZXVlLFxcXCJBYnN0cmFjdExvYWRlclxcXCIpfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gVGV4dExvYWRlcihhKXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGEsITAsY3JlYXRlanMuVHlwZXMuVEVYVCl9dmFyIGE9KGNyZWF0ZWpzLmV4dGVuZChUZXh0TG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSxUZXh0TG9hZGVyKTthLmNhbkxvYWRJdGVtPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PWNyZWF0ZWpzLlR5cGVzLlRFWFR9LGNyZWF0ZWpzLlRleHRMb2FkZXI9Y3JlYXRlanMucHJvbW90ZShUZXh0TG9hZGVyLFxcXCJBYnN0cmFjdExvYWRlclxcXCIpfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gQmluYXJ5TG9hZGVyKGEpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSwhMCxjcmVhdGVqcy5UeXBlcy5CSU5BUlkpLHRoaXMub24oXFxcImluaXRpYWxpemVcXFwiLHRoaXMuX3VwZGF0ZVhIUix0aGlzKX12YXIgYT1jcmVhdGVqcy5leHRlbmQoQmluYXJ5TG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSxiPUJpbmFyeUxvYWRlcjtiLmNhbkxvYWRJdGVtPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PWNyZWF0ZWpzLlR5cGVzLkJJTkFSWX0sYS5fdXBkYXRlWEhSPWZ1bmN0aW9uKGEpe2EubG9hZGVyLnNldFJlc3BvbnNlVHlwZShcXFwiYXJyYXlidWZmZXJcXFwiKX0sY3JlYXRlanMuQmluYXJ5TG9hZGVyPWNyZWF0ZWpzLnByb21vdGUoQmluYXJ5TG9hZGVyLFxcXCJBYnN0cmFjdExvYWRlclxcXCIpfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gQ1NTTG9hZGVyKGEsYil7dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3RvcihhLGIsY3JlYXRlanMuVHlwZXMuQ1NTKSx0aGlzLnJlc3VsdEZvcm1hdHRlcj10aGlzLl9mb3JtYXRSZXN1bHQsdGhpcy5fdGFnU3JjQXR0cmlidXRlPVxcXCJocmVmXFxcIix0aGlzLl90YWc9Yj9jcmVhdGVqcy5FbGVtZW50cy5zdHlsZSgpOmNyZWF0ZWpzLkVsZW1lbnRzLmxpbmsoKSx0aGlzLl90YWcucmVsPVxcXCJzdHlsZXNoZWV0XFxcIix0aGlzLl90YWcudHlwZT1cXFwidGV4dC9jc3NcXFwifXZhciBhPWNyZWF0ZWpzLmV4dGVuZChDU1NMb2FkZXIsY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpLGI9Q1NTTG9hZGVyO2IuY2FuTG9hZEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Y3JlYXRlanMuVHlwZXMuQ1NTfSxhLl9mb3JtYXRSZXN1bHQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5fcHJlZmVyWEhSKXt2YXIgYj1hLmdldFRhZygpO2lmKGIuc3R5bGVTaGVldCliLnN0eWxlU2hlZXQuY3NzVGV4dD1hLmdldFJlc3VsdCghMCk7ZWxzZXt2YXIgYz1jcmVhdGVqcy5FbGVtZW50cy50ZXh0KGEuZ2V0UmVzdWx0KCEwKSk7Yi5hcHBlbmRDaGlsZChjKX19ZWxzZSBiPXRoaXMuX3RhZztyZXR1cm4gY3JlYXRlanMuRG9tVXRpbHMuYXBwZW5kVG9IZWFkKGIpLGJ9LGNyZWF0ZWpzLkNTU0xvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKENTU0xvYWRlcixcXFwiQWJzdHJhY3RMb2FkZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIEZvbnRMb2FkZXIoYSxiKXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGEsYixhLnR5cGUpLHRoaXMuX2ZhY2VzPXt9LHRoaXMuX3dhdGNoZWQ9W10sdGhpcy5fY291bnQ9MCx0aGlzLl93YXRjaEludGVydmFsPW51bGwsdGhpcy5fbG9hZFRpbWVvdXQ9bnVsbCx0aGlzLl9pbmplY3RDU1M9dm9pZCAwPT09YS5pbmplY3RDU1M/ITA6YS5pbmplY3RDU1MsdGhpcy5kaXNwYXRjaEV2ZW50KFxcXCJpbml0aWFsaXplXFxcIil9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKEZvbnRMb2FkZXIsY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpO0ZvbnRMb2FkZXIuY2FuTG9hZEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Y3JlYXRlanMuVHlwZXMuRk9OVHx8YS50eXBlPT1jcmVhdGVqcy5UeXBlcy5GT05UQ1NTfSxGb250TG9hZGVyLnNhbXBsZVRleHQ9XFxcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6IEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXFxcIixGb250TG9hZGVyLl9jdHg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcXFwiY2FudmFzXFxcIikuZ2V0Q29udGV4dChcXFwiMmRcXFwiKSxGb250TG9hZGVyLl9yZWZlcmVuY2VGb250cz1bXFxcInNlcmlmXFxcIixcXFwibW9ub3NwYWNlXFxcIl0sRm9udExvYWRlci5XRUlHSFRfUkVHRVg9L1stIC5fXSoodGhpbnxub3JtYWx8Ym9va3xyZWd1bGFyfG1lZGl1bXxibGFja3xoZWF2eXxbMS05XTAwfCg/OmV4dHJhfHVsdHJhfHNlbWl8ZGVtaSk/Wy0gLl9dKig/OmxpZ2h0fGJvbGQpKVstIC5fXSovZ2ksRm9udExvYWRlci5TVFlMRV9SRUdFWD0vWy0gLl9dKihpdGFsaWN8b2JsaXF1ZSlbLSAuX10qL2dpLEZvbnRMb2FkZXIuRk9OVF9GT1JNQVQ9e3dvZmYyOlxcXCJ3b2ZmMlxcXCIsd29mZjpcXFwid29mZlxcXCIsdHRmOlxcXCJ0cnVldHlwZVxcXCIsb3RmOlxcXCJ0cnVldHlwZVxcXCJ9LEZvbnRMb2FkZXIuRk9OVF9XRUlHSFQ9e3RoaW46MTAwLGV4dHJhbGlnaHQ6MjAwLHVsdHJhbGlnaHQ6MjAwLGxpZ2h0OjMwMCxzZW1pbGlnaHQ6MzAwLGRlbWlsaWdodDozMDAsYm9vazpcXFwibm9ybWFsXFxcIixyZWd1bGFyOlxcXCJub3JtYWxcXFwiLHNlbWlib2xkOjYwMCxkZW1pYm9sZDo2MDAsZXh0cmFib2xkOjgwMCx1bHRyYWJvbGQ6ODAwLGJsYWNrOjkwMCxoZWF2eTo5MDB9LEZvbnRMb2FkZXIuV0FUQ0hfRFVSQVRJT049MTAsYS5sb2FkPWZ1bmN0aW9uKCl7aWYodGhpcy50eXBlPT1jcmVhdGVqcy5UeXBlcy5GT05UQ1NTKXt2YXIgYT10aGlzLl93YXRjaENTUygpO2lmKCFhKXJldHVybiB2b2lkIHRoaXMuQWJzdHJhY3RMb2FkZXJfbG9hZCgpfWVsc2UgaWYodGhpcy5faXRlbS5zcmMgaW5zdGFuY2VvZiBBcnJheSl0aGlzLl93YXRjaEZvbnRBcnJheSgpO2Vsc2V7dmFyIGI9dGhpcy5fZGVmRnJvbVNyYyh0aGlzLl9pdGVtLnNyYyk7dGhpcy5fd2F0Y2hGb250KGIpLHRoaXMuX2luamVjdFN0eWxlVGFnKHRoaXMuX2Nzc0Zyb21EZWYoYikpfXRoaXMuX2xvYWRUaW1lb3V0PXNldFRpbWVvdXQoY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGltZW91dCx0aGlzKSx0aGlzLl9pdGVtLmxvYWRUaW1lb3V0KSx0aGlzLmRpc3BhdGNoRXZlbnQoXFxcImxvYWRzdGFydFxcXCIpfSxhLl9oYW5kbGVUaW1lb3V0PWZ1bmN0aW9uKCl7dGhpcy5fc3RvcFdhdGNoaW5nKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFxcXCJQUkVMT0FEX1RJTUVPVVRcXFwiKSl9LGEuX2NyZWF0ZVJlcXVlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVxdWVzdH0sYS5oYW5kbGVFdmVudD1mdW5jdGlvbihhKXtzd2l0Y2goYS50eXBlKXtjYXNlXFxcImNvbXBsZXRlXFxcIjp0aGlzLl9yYXdSZXN1bHQ9YS50YXJnZXQuX3Jlc3BvbnNlLHRoaXMuX3Jlc3VsdD0hMCx0aGlzLl9wYXJzZUNTUyh0aGlzLl9yYXdSZXN1bHQpO2JyZWFrO2Nhc2VcXFwiZXJyb3JcXFwiOnRoaXMuX3N0b3BXYXRjaGluZygpLHRoaXMuQWJzdHJhY3RMb2FkZXJfaGFuZGxlRXZlbnQoYSl9fSxhLl93YXRjaENTUz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX2l0ZW0uc3JjO3JldHVybiBhIGluc3RhbmNlb2YgSFRNTFN0eWxlRWxlbWVudCYmKHRoaXMuX2luamVjdENTUyYmIWEucGFyZW50Tm9kZSYmKGRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCJoZWFkXFxcIilbMF0pLmFwcGVuZENoaWxkKGEpLHRoaXMuX2luamVjdENTUz0hMSxhPVxcXCJcXFxcblxcXCIrYS50ZXh0Q29udGVudCksLTEhPT1hLnNlYXJjaCgvXFxcXG58XFxcXHJ8QGZvbnQtZmFjZS9pKT8odGhpcy5fcGFyc2VDU1MoYSksITApOih0aGlzLl9yZXF1ZXN0PW5ldyBjcmVhdGVqcy5YSFJSZXF1ZXN0KHRoaXMuX2l0ZW0pLCExKX0sYS5fcGFyc2VDU1M9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPS9AZm9udC1mYWNlXFxcXHMqXFxcXHsoW159XSspfS9nOzspe3ZhciBjPWIuZXhlYyhhKTtpZighYylicmVhazt0aGlzLl93YXRjaEZvbnQodGhpcy5fcGFyc2VGb250RmFjZShjWzFdKSl9dGhpcy5faW5qZWN0U3R5bGVUYWcoYSl9LGEuX3dhdGNoRm9udEFycmF5PWZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9dGhpcy5faXRlbS5zcmMsYz1cXFwiXFxcIixkPWIubGVuZ3RoLTE7ZD49MDtkLS0pe3ZhciBlPWJbZF07YT1cXFwic3RyaW5nXFxcIj09dHlwZW9mIGU/dGhpcy5fZGVmRnJvbVNyYyhlKTp0aGlzLl9kZWZGcm9tT2JqKGUpLHRoaXMuX3dhdGNoRm9udChhKSxjKz10aGlzLl9jc3NGcm9tRGVmKGEpK1xcXCJcXFxcblxcXCJ9dGhpcy5faW5qZWN0U3R5bGVUYWcoYyl9LGEuX2luamVjdFN0eWxlVGFnPWZ1bmN0aW9uKGEpe2lmKHRoaXMuX2luamVjdENTUyl7dmFyIGI9ZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXFxcImhlYWRcXFwiKVswXSxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXFxcInN0eWxlXFxcIik7Yy50eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIsYy5zdHlsZVNoZWV0P2Muc3R5bGVTaGVldC5jc3NUZXh0PWE6Yy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSksYi5hcHBlbmRDaGlsZChjKX19LGEuX3BhcnNlRm9udEZhY2U9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fZ2V0Q1NTVmFsdWUoYSxcXFwiZm9udC1mYW1pbHlcXFwiKSxjPXRoaXMuX2dldENTU1ZhbHVlKGEsXFxcInNyY1xcXCIpO3JldHVybiBiJiZjP3RoaXMuX2RlZkZyb21PYmooe2ZhbWlseTpiLHNyYzpjLHN0eWxlOnRoaXMuX2dldENTU1ZhbHVlKGEsXFxcImZvbnQtc3R5bGVcXFwiKSx3ZWlnaHQ6dGhpcy5fZ2V0Q1NTVmFsdWUoYSxcXFwiZm9udC13ZWlnaHRcXFwiKX0pOm51bGx9LGEuX3dhdGNoRm9udD1mdW5jdGlvbihhKXthJiYhdGhpcy5fZmFjZXNbYS5pZF0mJih0aGlzLl9mYWNlc1thLmlkXT1hLHRoaXMuX3dhdGNoZWQucHVzaChhKSx0aGlzLl9jb3VudCsrLHRoaXMuX2NhbGN1bGF0ZVJlZmVyZW5jZVNpemVzKGEpLHRoaXMuX3N0YXJ0V2F0Y2hpbmcoKSl9LGEuX3N0YXJ0V2F0Y2hpbmc9ZnVuY3Rpb24oKXtudWxsPT10aGlzLl93YXRjaEludGVydmFsJiYodGhpcy5fd2F0Y2hJbnRlcnZhbD1zZXRJbnRlcnZhbChjcmVhdGVqcy5wcm94eSh0aGlzLl93YXRjaCx0aGlzKSxGb250TG9hZGVyLldBVENIX0RVUkFUSU9OKSl9LGEuX3N0b3BXYXRjaGluZz1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGhpcy5fd2F0Y2hJbnRlcnZhbCksY2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRUaW1lb3V0KSx0aGlzLl93YXRjaEludGVydmFsPW51bGx9LGEuX3dhdGNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuX3dhdGNoZWQsYj1Gb250TG9hZGVyLl9yZWZlcmVuY2VGb250cyxjPWEubGVuZ3RoLGQ9Yy0xO2Q+PTA7ZC0tKWZvcih2YXIgZT1hW2RdLGY9ZS5yZWZzLGc9Zi5sZW5ndGgtMTtnPj0wO2ctLSl7dmFyIGg9dGhpcy5fZ2V0VGV4dFdpZHRoKGUuZmFtaWx5K1xcXCIsXFxcIitiW2ddLGUud2VpZ2h0LGUuc3R5bGUpO2lmKGghPWZbZ10pe3ZhciBpPW5ldyBjcmVhdGVqcy5FdmVudChcXFwiZmlsZWxvYWRcXFwiKTtlLnR5cGU9XFxcImZvbnQtZmFtaWx5XFxcIixpLml0ZW09ZSx0aGlzLmRpc3BhdGNoRXZlbnQoaSksYS5zcGxpY2UoZCwxKTticmVha319aWYoYyE9PWEubGVuZ3RoKXt2YXIgaT1uZXcgY3JlYXRlanMuUHJvZ3Jlc3NFdmVudCh0aGlzLl9jb3VudC1hLmxlbmd0aCx0aGlzLl9jb3VudCk7dGhpcy5kaXNwYXRjaEV2ZW50KGkpfTA9PT1jJiYodGhpcy5fc3RvcFdhdGNoaW5nKCksdGhpcy5fc2VuZENvbXBsZXRlKCkpfSxhLl9jYWxjdWxhdGVSZWZlcmVuY2VTaXplcz1mdW5jdGlvbihhKXtmb3IodmFyIGI9Rm9udExvYWRlci5fcmVmZXJlbmNlRm9udHMsYz1hLnJlZnM9W10sZD0wO2Q8Yi5sZW5ndGg7ZCsrKWNbZF09dGhpcy5fZ2V0VGV4dFdpZHRoKGJbZF0sYS53ZWlnaHQsYS5zdHlsZSl9LGEuX2RlZkZyb21TcmM9ZnVuY3Rpb24oYSl7dmFyIGIsYz0vWy0gLl9dKy9nLGQ9YSxlPW51bGw7Yj1kLnNlYXJjaCgvWz8jXS8pLC0xIT09YiYmKGQ9ZC5zdWJzdHIoMCxiKSksYj1kLmxhc3RJbmRleE9mKFxcXCIuXFxcIiksLTEhPT1iJiYoZT1kLnN1YnN0cihiKzEpLGQ9ZC5zdWJzdHIoMCxiKSksYj1kLmxhc3RJbmRleE9mKFxcXCIvXFxcIiksLTEhPT1iJiYoZD1kLnN1YnN0cihiKzEpKTt2YXIgZj1kLGc9Zi5tYXRjaChGb250TG9hZGVyLldFSUdIVF9SRUdFWCk7ZyYmKGc9Z1swXSxmPWYucmVwbGFjZShnLFxcXCJcXFwiKSxnPWcucmVwbGFjZShjLFxcXCJcXFwiKS50b0xvd2VyQ2FzZSgpKTt2YXIgaD1kLm1hdGNoKEZvbnRMb2FkZXIuU1RZTEVfUkVHRVgpO2gmJihmPWYucmVwbGFjZShoWzBdLFxcXCJcXFwiKSxoPVxcXCJpdGFsaWNcXFwiKSxmPWYucmVwbGFjZShjLFxcXCJcXFwiKTt2YXIgaT1cXFwibG9jYWwoJ1xcXCIrZC5yZXBsYWNlKGMsXFxcIiBcXFwiKStcXFwiJyksIHVybCgnXFxcIithK1xcXCInKVxcXCIsaj1Gb250TG9hZGVyLkZPTlRfRk9STUFUW2VdO3JldHVybiBqJiYoaSs9XFxcIiBmb3JtYXQoJ1xcXCIraitcXFwiJylcXFwiKSx0aGlzLl9kZWZGcm9tT2JqKHtmYW1pbHk6Zix3ZWlnaHQ6Rm9udExvYWRlci5GT05UX1dFSUdIVFtnXXx8ZyxzdHlsZTpoLHNyYzppfSl9LGEuX2RlZkZyb21PYmo9ZnVuY3Rpb24oYSl7dmFyIGI9e2ZhbWlseTphLmZhbWlseSxzcmM6YS5zcmMsc3R5bGU6YS5zdHlsZXx8XFxcIm5vcm1hbFxcXCIsd2VpZ2h0OmEud2VpZ2h0fHxcXFwibm9ybWFsXFxcIn07cmV0dXJuIGIuaWQ9Yi5mYW1pbHkrXFxcIjtcXFwiK2Iuc3R5bGUrXFxcIjtcXFwiK2Iud2VpZ2h0LGJ9LGEuX2Nzc0Zyb21EZWY9ZnVuY3Rpb24oYSl7cmV0dXJuXFxcIkBmb250LWZhY2Uge1xcXFxuXFx0Zm9udC1mYW1pbHk6ICdcXFwiK2EuZmFtaWx5K1xcXCInO1xcXFxuXFx0Zm9udC1zdHlsZTogXFxcIithLnN0eWxlK1xcXCI7XFxcXG5cXHRmb250LXdlaWdodDogXFxcIithLndlaWdodCtcXFwiO1xcXFxuXFx0c3JjOiBcXFwiK2Euc3JjK1xcXCI7XFxcXG59XFxcIn0sYS5fZ2V0VGV4dFdpZHRoPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1Gb250TG9hZGVyLl9jdHg7cmV0dXJuIGQuZm9udD1jK1xcXCIgXFxcIitiK1xcXCIgNzJweCBcXFwiK2EsZC5tZWFzdXJlVGV4dChGb250TG9hZGVyLnNhbXBsZVRleHQpLndpZHRofSxhLl9nZXRDU1NWYWx1ZT1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBSZWdFeHAoYitcXFwiOnMqKFteO31dKz8pcypbO31dXFxcIiksZD1jLmV4ZWMoYSk7cmV0dXJuIGQmJmRbMV0/ZFsxXTpudWxsfSxjcmVhdGVqcy5Gb250TG9hZGVyPWNyZWF0ZWpzLnByb21vdGUoRm9udExvYWRlcixcXFwiQWJzdHJhY3RMb2FkZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIEltYWdlTG9hZGVyKGEsYil7dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3RvcihhLGIsY3JlYXRlanMuVHlwZXMuSU1BR0UpLHRoaXMucmVzdWx0Rm9ybWF0dGVyPXRoaXMuX2Zvcm1hdFJlc3VsdCx0aGlzLl90YWdTcmNBdHRyaWJ1dGU9XFxcInNyY1xcXCIsY3JlYXRlanMuRG9tVXRpbHMuaXNJbWFnZVRhZyhhKT90aGlzLl90YWc9YTpjcmVhdGVqcy5Eb21VdGlscy5pc0ltYWdlVGFnKGEuc3JjKT90aGlzLl90YWc9YS5zcmM6Y3JlYXRlanMuRG9tVXRpbHMuaXNJbWFnZVRhZyhhLnRhZykmJih0aGlzLl90YWc9YS50YWcpLG51bGwhPXRoaXMuX3RhZz90aGlzLl9wcmVmZXJYSFI9ITE6dGhpcy5fdGFnPWNyZWF0ZWpzLkVsZW1lbnRzLmltZygpLHRoaXMub24oXFxcImluaXRpYWxpemVcXFwiLHRoaXMuX3VwZGF0ZVhIUix0aGlzKX12YXIgYT1jcmVhdGVqcy5leHRlbmQoSW1hZ2VMb2FkZXIsY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpLGI9SW1hZ2VMb2FkZXI7Yi5jYW5Mb2FkSXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1jcmVhdGVqcy5UeXBlcy5JTUFHRX0sYS5sb2FkPWZ1bmN0aW9uKCl7aWYoXFxcIlxcXCIhPXRoaXMuX3RhZy5zcmMmJnRoaXMuX3RhZy5jb21wbGV0ZSlyZXR1cm4gdm9pZCB0aGlzLl9zZW5kQ29tcGxldGUoKTt2YXIgYT10aGlzLl9pdGVtLmNyb3NzT3JpZ2luOzE9PWEmJihhPVxcXCJBbm9ueW1vdXNcXFwiKSxudWxsPT1hfHxjcmVhdGVqcy5VUkxVdGlscy5pc0xvY2FsKHRoaXMuX2l0ZW0pfHwodGhpcy5fdGFnLmNyb3NzT3JpZ2luPWEpLHRoaXMuQWJzdHJhY3RMb2FkZXJfbG9hZCgpfSxhLl91cGRhdGVYSFI9ZnVuY3Rpb24oYSl7YS5sb2FkZXIubWltZVR5cGU9XFxcInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWQtYmluYXJ5XFxcIixhLmxvYWRlci5zZXRSZXNwb25zZVR5cGUmJmEubG9hZGVyLnNldFJlc3BvbnNlVHlwZShcXFwiYmxvYlxcXCIpfSxhLl9mb3JtYXRSZXN1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9ybWF0SW1hZ2V9LGEuX2Zvcm1hdEltYWdlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fdGFnLGQ9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTDtpZih0aGlzLl9wcmVmZXJYSFIpaWYoZCl7dmFyIGU9ZC5jcmVhdGVPYmplY3RVUkwodGhpcy5nZXRSZXN1bHQoITApKTtjLnNyYz1lLGMuYWRkRXZlbnRMaXN0ZW5lcihcXFwibG9hZFxcXCIsdGhpcy5fY2xlYW5VcFVSTCwhMSksYy5hZGRFdmVudExpc3RlbmVyKFxcXCJlcnJvclxcXCIsdGhpcy5fY2xlYW5VcFVSTCwhMSl9ZWxzZSBjLnNyYz10aGlzLl9pdGVtLnNyYztlbHNlO2MuY29tcGxldGU/YShjKTooYy5vbmxvYWQ9Y3JlYXRlanMucHJveHkoZnVuY3Rpb24oKXthKHRoaXMuX3RhZyksYy5vbmxvYWQ9Yy5vbmVycm9yPW51bGx9LHRoaXMpLGMub25lcnJvcj1jcmVhdGVqcy5wcm94eShmdW5jdGlvbihhKXtiKG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFxcXCJJTUFHRV9GT1JNQVRcXFwiLG51bGwsYSkpLGMub25sb2FkPWMub25lcnJvcj1udWxsfSx0aGlzKSl9LGEuX2NsZWFuVXBVUkw9ZnVuY3Rpb24oYSl7dmFyIGI9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTDtiLnJldm9rZU9iamVjdFVSTChhLnRhcmdldC5zcmMpfSxjcmVhdGVqcy5JbWFnZUxvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKEltYWdlTG9hZGVyLFxcXCJBYnN0cmFjdExvYWRlclxcXCIpfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gSmF2YVNjcmlwdExvYWRlcihhLGIpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSxiLGNyZWF0ZWpzLlR5cGVzLkpBVkFTQ1JJUFQpLHRoaXMucmVzdWx0Rm9ybWF0dGVyPXRoaXMuX2Zvcm1hdFJlc3VsdCx0aGlzLl90YWdTcmNBdHRyaWJ1dGU9XFxcInNyY1xcXCIsdGhpcy5zZXRUYWcoY3JlYXRlanMuRWxlbWVudHMuc2NyaXB0KCkpfXZhciBhPWNyZWF0ZWpzLmV4dGVuZChKYXZhU2NyaXB0TG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSxiPUphdmFTY3JpcHRMb2FkZXI7Yi5jYW5Mb2FkSXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1jcmVhdGVqcy5UeXBlcy5KQVZBU0NSSVBUfSxhLl9mb3JtYXRSZXN1bHQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRUYWcoKTtyZXR1cm4gdGhpcy5fcHJlZmVyWEhSJiYoYi50ZXh0PWEuZ2V0UmVzdWx0KCEwKSksYn0sY3JlYXRlanMuSmF2YVNjcmlwdExvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKEphdmFTY3JpcHRMb2FkZXIsXFxcIkFic3RyYWN0TG9hZGVyXFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBKU09OTG9hZGVyKGEpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSwhMCxjcmVhdGVqcy5UeXBlcy5KU09OKSx0aGlzLnJlc3VsdEZvcm1hdHRlcj10aGlzLl9mb3JtYXRSZXN1bHR9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKEpTT05Mb2FkZXIsY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpLGI9SlNPTkxvYWRlcjtiLmNhbkxvYWRJdGVtPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PWNyZWF0ZWpzLlR5cGVzLkpTT059LGEuX2Zvcm1hdFJlc3VsdD1mdW5jdGlvbihhKXt2YXIgYj1udWxsO3RyeXtiPWNyZWF0ZWpzLkRhdGFVdGlscy5wYXJzZUpTT04oYS5nZXRSZXN1bHQoITApKX1jYXRjaChjKXt2YXIgZD1uZXcgY3JlYXRlanMuRXJyb3JFdmVudChcXFwiSlNPTl9GT1JNQVRcXFwiLG51bGwsYyk7cmV0dXJuIHRoaXMuX3NlbmRFcnJvcihkKSxjfXJldHVybiBifSxjcmVhdGVqcy5KU09OTG9hZGVyPWNyZWF0ZWpzLnByb21vdGUoSlNPTkxvYWRlcixcXFwiQWJzdHJhY3RMb2FkZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIEpTT05QTG9hZGVyKGEpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSwhMSxjcmVhdGVqcy5UeXBlcy5KU09OUCksdGhpcy5zZXRUYWcoY3JlYXRlanMuRWxlbWVudHMuc2NyaXB0KCkpLHRoaXMuZ2V0VGFnKCkudHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIn12YXIgYT1jcmVhdGVqcy5leHRlbmQoSlNPTlBMb2FkZXIsY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpLGI9SlNPTlBMb2FkZXI7Yi5jYW5Mb2FkSXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1jcmVhdGVqcy5UeXBlcy5KU09OUH0sYS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLkFic3RyYWN0TG9hZGVyX2NhbmNlbCgpLHRoaXMuX2Rpc3Bvc2UoKX0sYS5sb2FkPWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy5faXRlbS5jYWxsYmFjayl0aHJvdyBuZXcgRXJyb3IoXFxcImNhbGxiYWNrIGlzIHJlcXVpcmVkIGZvciBsb2FkaW5nIEpTT05QIHJlcXVlc3RzLlxcXCIpO2lmKG51bGwhPXdpbmRvd1t0aGlzLl9pdGVtLmNhbGxiYWNrXSl0aHJvdyBuZXcgRXJyb3IoXFxcIkpTT05QIGNhbGxiYWNrICdcXFwiK3RoaXMuX2l0ZW0uY2FsbGJhY2srXFxcIicgYWxyZWFkeSBleGlzdHMgb24gd2luZG93LiBZb3UgbmVlZCB0byBzcGVjaWZ5IGEgZGlmZmVyZW50IGNhbGxiYWNrIG9yIHJlLW5hbWUgdGhlIGN1cnJlbnQgb25lLlxcXCIpO3dpbmRvd1t0aGlzLl9pdGVtLmNhbGxiYWNrXT1jcmVhdGVqcy5wcm94eSh0aGlzLl9oYW5kbGVMb2FkLHRoaXMpLGNyZWF0ZWpzLkRvbVV0aWxzLmFwcGVuZFRvQm9keSh0aGlzLl90YWcpLHRoaXMuX2xvYWRUaW1lb3V0PXNldFRpbWVvdXQoY3JlYXRlanMucHJveHkodGhpcy5faGFuZGxlVGltZW91dCx0aGlzKSx0aGlzLl9pdGVtLmxvYWRUaW1lb3V0KSx0aGlzLl90YWcuc3JjPXRoaXMuX2l0ZW0uc3JjfSxhLl9oYW5kbGVMb2FkPWZ1bmN0aW9uKGEpe3RoaXMuX3Jlc3VsdD10aGlzLl9yYXdSZXN1bHQ9YSx0aGlzLl9zZW5kQ29tcGxldGUoKSx0aGlzLl9kaXNwb3NlKCl9LGEuX2hhbmRsZVRpbWVvdXQ9ZnVuY3Rpb24oKXt0aGlzLl9kaXNwb3NlKCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBjcmVhdGVqcy5FcnJvckV2ZW50KFxcXCJ0aW1lb3V0XFxcIikpfSxhLl9kaXNwb3NlPWZ1bmN0aW9uKCl7Y3JlYXRlanMuRG9tVXRpbHMucmVtb3ZlQ2hpbGQodGhpcy5fdGFnKSxkZWxldGUgd2luZG93W3RoaXMuX2l0ZW0uY2FsbGJhY2tdLGNsZWFyVGltZW91dCh0aGlzLl9sb2FkVGltZW91dCl9LGNyZWF0ZWpzLkpTT05QTG9hZGVyPWNyZWF0ZWpzLnByb21vdGUoSlNPTlBMb2FkZXIsXFxcIkFic3RyYWN0TG9hZGVyXFxcIil9KCksdGhpcy5jcmVhdGVqcz10aGlzLmNyZWF0ZWpzfHx7fSxmdW5jdGlvbigpe1xcXCJ1c2Ugc3RyaWN0XFxcIjtmdW5jdGlvbiBNYW5pZmVzdExvYWRlcihhLGIpe3RoaXMuQWJzdHJhY3RMb2FkZXJfY29uc3RydWN0b3IoYSxiLGNyZWF0ZWpzLlR5cGVzLk1BTklGRVNUKSx0aGlzLnBsdWdpbnM9bnVsbCx0aGlzLl9tYW5pZmVzdFF1ZXVlPW51bGx9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKE1hbmlmZXN0TG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TG9hZGVyKSxiPU1hbmlmZXN0TG9hZGVyO2IuTUFOSUZFU1RfUFJPR1JFU1M9LjI1LGIuY2FuTG9hZEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Y3JlYXRlanMuVHlwZXMuTUFOSUZFU1R9LGEubG9hZD1mdW5jdGlvbigpe3RoaXMuQWJzdHJhY3RMb2FkZXJfbG9hZCgpfSxhLl9jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5faXRlbS5jYWxsYmFjazt0aGlzLl9yZXF1ZXN0PW51bGwhPWE/bmV3IGNyZWF0ZWpzLkpTT05QTG9hZGVyKHRoaXMuX2l0ZW0pOm5ldyBjcmVhdGVqcy5KU09OTG9hZGVyKHRoaXMuX2l0ZW0pfSxhLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKGEpe3N3aXRjaChhLnR5cGUpe2Nhc2VcXFwiY29tcGxldGVcXFwiOnJldHVybiB0aGlzLl9yYXdSZXN1bHQ9YS50YXJnZXQuZ2V0UmVzdWx0KCEwKSx0aGlzLl9yZXN1bHQ9YS50YXJnZXQuZ2V0UmVzdWx0KCksdGhpcy5fc2VuZFByb2dyZXNzKGIuTUFOSUZFU1RfUFJPR1JFU1MpLHZvaWQgdGhpcy5fbG9hZE1hbmlmZXN0KHRoaXMuX3Jlc3VsdCk7Y2FzZVxcXCJwcm9ncmVzc1xcXCI6cmV0dXJuIGEubG9hZGVkKj1iLk1BTklGRVNUX1BST0dSRVNTLHRoaXMucHJvZ3Jlc3M9YS5sb2FkZWQvYS50b3RhbCwoaXNOYU4odGhpcy5wcm9ncmVzcyl8fDEvMD09dGhpcy5wcm9ncmVzcykmJih0aGlzLnByb2dyZXNzPTApLHZvaWQgdGhpcy5fc2VuZFByb2dyZXNzKGEpfXRoaXMuQWJzdHJhY3RMb2FkZXJfaGFuZGxlRXZlbnQoYSl9LGEuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuQWJzdHJhY3RMb2FkZXJfZGVzdHJveSgpLHRoaXMuX21hbmlmZXN0UXVldWUuY2xvc2UoKX0sYS5fbG9hZE1hbmlmZXN0PWZ1bmN0aW9uKGEpe2lmKGEmJmEubWFuaWZlc3Qpe3ZhciBiPXRoaXMuX21hbmlmZXN0UXVldWU9bmV3IGNyZWF0ZWpzLkxvYWRRdWV1ZSh0aGlzLl9wcmVmZXJYSFIpO2Iub24oXFxcImZpbGVsb2FkXFxcIix0aGlzLl9oYW5kbGVNYW5pZmVzdEZpbGVMb2FkLHRoaXMpLGIub24oXFxcInByb2dyZXNzXFxcIix0aGlzLl9oYW5kbGVNYW5pZmVzdFByb2dyZXNzLHRoaXMpLGIub24oXFxcImNvbXBsZXRlXFxcIix0aGlzLl9oYW5kbGVNYW5pZmVzdENvbXBsZXRlLHRoaXMsITApLGIub24oXFxcImVycm9yXFxcIix0aGlzLl9oYW5kbGVNYW5pZmVzdEVycm9yLHRoaXMsITApO2Zvcih2YXIgYz0wLGQ9dGhpcy5wbHVnaW5zLmxlbmd0aDtkPmM7YysrKWIuaW5zdGFsbFBsdWdpbih0aGlzLnBsdWdpbnNbY10pO2IubG9hZE1hbmlmZXN0KGEpfWVsc2UgdGhpcy5fc2VuZENvbXBsZXRlKCl9LGEuX2hhbmRsZU1hbmlmZXN0RmlsZUxvYWQ9ZnVuY3Rpb24oYSl7YS50YXJnZXQ9bnVsbCx0aGlzLmRpc3BhdGNoRXZlbnQoYSl9LGEuX2hhbmRsZU1hbmlmZXN0Q29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLl9sb2FkZWRJdGVtcz10aGlzLl9tYW5pZmVzdFF1ZXVlLmdldEl0ZW1zKCEwKSx0aGlzLl9zZW5kQ29tcGxldGUoKX0sYS5faGFuZGxlTWFuaWZlc3RQcm9ncmVzcz1mdW5jdGlvbihhKXt0aGlzLnByb2dyZXNzPWEucHJvZ3Jlc3MqKDEtYi5NQU5JRkVTVF9QUk9HUkVTUykrYi5NQU5JRkVTVF9QUk9HUkVTUyx0aGlzLl9zZW5kUHJvZ3Jlc3ModGhpcy5wcm9ncmVzcyl9LGEuX2hhbmRsZU1hbmlmZXN0RXJyb3I9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGNyZWF0ZWpzLkV2ZW50KFxcXCJmaWxlZXJyb3JcXFwiKTtiLml0ZW09YS5kYXRhLHRoaXMuZGlzcGF0Y2hFdmVudChiKX0sY3JlYXRlanMuTWFuaWZlc3RMb2FkZXI9Y3JlYXRlanMucHJvbW90ZShNYW5pZmVzdExvYWRlcixcXFwiQWJzdHJhY3RMb2FkZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIFNvdW5kTG9hZGVyKGEsYil7dGhpcy5BYnN0cmFjdE1lZGlhTG9hZGVyX2NvbnN0cnVjdG9yKGEsYixjcmVhdGVqcy5UeXBlcy5TT1VORCksY3JlYXRlanMuRG9tVXRpbHMuaXNBdWRpb1RhZyhhKT90aGlzLl90YWc9YTpjcmVhdGVqcy5Eb21VdGlscy5pc0F1ZGlvVGFnKGEuc3JjKT90aGlzLl90YWc9YTpjcmVhdGVqcy5Eb21VdGlscy5pc0F1ZGlvVGFnKGEudGFnKSYmKHRoaXMuX3RhZz1jcmVhdGVqcy5Eb21VdGlscy5pc0F1ZGlvVGFnKGEpP2E6YS5zcmMpLG51bGwhPXRoaXMuX3RhZyYmKHRoaXMuX3ByZWZlclhIUj0hMSl9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKFNvdW5kTG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TWVkaWFMb2FkZXIpLGI9U291bmRMb2FkZXI7Yi5jYW5Mb2FkSXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1jcmVhdGVqcy5UeXBlcy5TT1VORH0sYS5fY3JlYXRlVGFnPWZ1bmN0aW9uKGEpe3ZhciBiPWNyZWF0ZWpzLkVsZW1lbnRzLmF1ZGlvKCk7cmV0dXJuIGIuYXV0b3BsYXk9ITEsYi5wcmVsb2FkPVxcXCJub25lXFxcIixiLnNyYz1hLGJ9LGNyZWF0ZWpzLlNvdW5kTG9hZGVyPWNyZWF0ZWpzLnByb21vdGUoU291bmRMb2FkZXIsXFxcIkFic3RyYWN0TWVkaWFMb2FkZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIFZpZGVvTG9hZGVyKGEsYil7dGhpcy5BYnN0cmFjdE1lZGlhTG9hZGVyX2NvbnN0cnVjdG9yKGEsYixjcmVhdGVqcy5UeXBlcy5WSURFTyksY3JlYXRlanMuRG9tVXRpbHMuaXNWaWRlb1RhZyhhKXx8Y3JlYXRlanMuRG9tVXRpbHMuaXNWaWRlb1RhZyhhLnNyYyk/KHRoaXMuc2V0VGFnKGNyZWF0ZWpzLkRvbVV0aWxzLmlzVmlkZW9UYWcoYSk/YTphLnNyYyksdGhpcy5fcHJlZmVyWEhSPSExKTp0aGlzLnNldFRhZyh0aGlzLl9jcmVhdGVUYWcoKSl9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKFZpZGVvTG9hZGVyLGNyZWF0ZWpzLkFic3RyYWN0TWVkaWFMb2FkZXIpLGI9VmlkZW9Mb2FkZXI7YS5fY3JlYXRlVGFnPWZ1bmN0aW9uKCl7cmV0dXJuIGNyZWF0ZWpzLkVsZW1lbnRzLnZpZGVvKCl9LGIuY2FuTG9hZEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Y3JlYXRlanMuVHlwZXMuVklERU99LGNyZWF0ZWpzLlZpZGVvTG9hZGVyPWNyZWF0ZWpzLnByb21vdGUoVmlkZW9Mb2FkZXIsXFxcIkFic3RyYWN0TWVkaWFMb2FkZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIFNwcml0ZVNoZWV0TG9hZGVyKGEsYil7dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3RvcihhLGIsY3JlYXRlanMuVHlwZXMuU1BSSVRFU0hFRVQpLHRoaXMuX21hbmlmZXN0UXVldWU9bnVsbH12YXIgYT1jcmVhdGVqcy5leHRlbmQoU3ByaXRlU2hlZXRMb2FkZXIsY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpLGI9U3ByaXRlU2hlZXRMb2FkZXI7Yi5TUFJJVEVTSEVFVF9QUk9HUkVTUz0uMjUsYi5jYW5Mb2FkSXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1jcmVhdGVqcy5UeXBlcy5TUFJJVEVTSEVFVH0sYS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5BYnN0cmFjdExvYWRlcl9kZXN0cm95KCksdGhpcy5fbWFuaWZlc3RRdWV1ZS5jbG9zZSgpfSxhLl9jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5faXRlbS5jYWxsYmFjazt0aGlzLl9yZXF1ZXN0PW51bGwhPWE/bmV3IGNyZWF0ZWpzLkpTT05QTG9hZGVyKHRoaXMuX2l0ZW0pOm5ldyBjcmVhdGVqcy5KU09OTG9hZGVyKHRoaXMuX2l0ZW0pfSxhLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKGEpe3N3aXRjaChhLnR5cGUpe2Nhc2VcXFwiY29tcGxldGVcXFwiOnJldHVybiB0aGlzLl9yYXdSZXN1bHQ9YS50YXJnZXQuZ2V0UmVzdWx0KCEwKSx0aGlzLl9yZXN1bHQ9YS50YXJnZXQuZ2V0UmVzdWx0KCksdGhpcy5fc2VuZFByb2dyZXNzKGIuU1BSSVRFU0hFRVRfUFJPR1JFU1MpLHZvaWQgdGhpcy5fbG9hZE1hbmlmZXN0KHRoaXMuX3Jlc3VsdCk7Y2FzZVxcXCJwcm9ncmVzc1xcXCI6cmV0dXJuIGEubG9hZGVkKj1iLlNQUklURVNIRUVUX1BST0dSRVNTLHRoaXMucHJvZ3Jlc3M9YS5sb2FkZWQvYS50b3RhbCwoaXNOYU4odGhpcy5wcm9ncmVzcyl8fDEvMD09dGhpcy5wcm9ncmVzcykmJih0aGlzLnByb2dyZXNzPTApLHZvaWQgdGhpcy5fc2VuZFByb2dyZXNzKGEpfXRoaXMuQWJzdHJhY3RMb2FkZXJfaGFuZGxlRXZlbnQoYSl9LGEuX2xvYWRNYW5pZmVzdD1mdW5jdGlvbihhKXtpZihhJiZhLmltYWdlcyl7dmFyIGI9dGhpcy5fbWFuaWZlc3RRdWV1ZT1uZXcgY3JlYXRlanMuTG9hZFF1ZXVlKHRoaXMuX3ByZWZlclhIUix0aGlzLl9pdGVtLnBhdGgsdGhpcy5faXRlbS5jcm9zc09yaWdpbik7Yi5vbihcXFwiY29tcGxldGVcXFwiLHRoaXMuX2hhbmRsZU1hbmlmZXN0Q29tcGxldGUsdGhpcywhMCksYi5vbihcXFwiZmlsZWxvYWRcXFwiLHRoaXMuX2hhbmRsZU1hbmlmZXN0RmlsZUxvYWQsdGhpcyksYi5vbihcXFwicHJvZ3Jlc3NcXFwiLHRoaXMuX2hhbmRsZU1hbmlmZXN0UHJvZ3Jlc3MsdGhpcyksYi5vbihcXFwiZXJyb3JcXFwiLHRoaXMuX2hhbmRsZU1hbmlmZXN0RXJyb3IsdGhpcywhMCksYi5sb2FkTWFuaWZlc3QoYS5pbWFnZXMpfX0sYS5faGFuZGxlTWFuaWZlc3RGaWxlTG9hZD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlc3VsdDtpZihudWxsIT1iKXt2YXIgYz10aGlzLmdldFJlc3VsdCgpLmltYWdlcyxkPWMuaW5kZXhPZihhLml0ZW0uc3JjKTtjW2RdPWJ9fSxhLl9oYW5kbGVNYW5pZmVzdENvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5fcmVzdWx0PW5ldyBjcmVhdGVqcy5TcHJpdGVTaGVldCh0aGlzLl9yZXN1bHQpLHRoaXMuX2xvYWRlZEl0ZW1zPXRoaXMuX21hbmlmZXN0UXVldWUuZ2V0SXRlbXMoITApLHRoaXMuX3NlbmRDb21wbGV0ZSgpfSxhLl9oYW5kbGVNYW5pZmVzdFByb2dyZXNzPWZ1bmN0aW9uKGEpe3RoaXMucHJvZ3Jlc3M9YS5wcm9ncmVzcyooMS1iLlNQUklURVNIRUVUX1BST0dSRVNTKStiLlNQUklURVNIRUVUX1BST0dSRVNTLHRoaXMuX3NlbmRQcm9ncmVzcyh0aGlzLnByb2dyZXNzKX0sYS5faGFuZGxlTWFuaWZlc3RFcnJvcj1mdW5jdGlvbihhKXt2YXIgYj1uZXcgY3JlYXRlanMuRXZlbnQoXFxcImZpbGVlcnJvclxcXCIpO2IuaXRlbT1hLmRhdGEsdGhpcy5kaXNwYXRjaEV2ZW50KGIpfSxjcmVhdGVqcy5TcHJpdGVTaGVldExvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKFNwcml0ZVNoZWV0TG9hZGVyLFxcXCJBYnN0cmFjdExvYWRlclxcXCIpfSgpLHRoaXMuY3JlYXRlanM9dGhpcy5jcmVhdGVqc3x8e30sZnVuY3Rpb24oKXtcXFwidXNlIHN0cmljdFxcXCI7ZnVuY3Rpb24gU1ZHTG9hZGVyKGEsYil7dGhpcy5BYnN0cmFjdExvYWRlcl9jb25zdHJ1Y3RvcihhLGIsY3JlYXRlanMuVHlwZXMuU1ZHKSx0aGlzLnJlc3VsdEZvcm1hdHRlcj10aGlzLl9mb3JtYXRSZXN1bHQsdGhpcy5fdGFnU3JjQXR0cmlidXRlPVxcXCJkYXRhXFxcIixiP3RoaXMuc2V0VGFnKGNyZWF0ZWpzLkVsZW1lbnRzLnN2ZygpKToodGhpcy5zZXRUYWcoY3JlYXRlanMuRWxlbWVudHMub2JqZWN0KCkpLHRoaXMuZ2V0VGFnKCkudHlwZT1cXFwiaW1hZ2Uvc3ZnK3htbFxcXCIpXFxufXZhciBhPWNyZWF0ZWpzLmV4dGVuZChTVkdMb2FkZXIsY3JlYXRlanMuQWJzdHJhY3RMb2FkZXIpLGI9U1ZHTG9hZGVyO2IuY2FuTG9hZEl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Y3JlYXRlanMuVHlwZXMuU1ZHfSxhLl9mb3JtYXRSZXN1bHQ9ZnVuY3Rpb24oYSl7dmFyIGI9Y3JlYXRlanMuRGF0YVV0aWxzLnBhcnNlWE1MKGEuZ2V0UmVzdWx0KCEwKSksYz1hLmdldFRhZygpO2lmKCF0aGlzLl9wcmVmZXJYSFImJmRvY3VtZW50LmJvZHkuY29udGFpbnMoYykmJmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYyksbnVsbCE9Yi5kb2N1bWVudEVsZW1lbnQpe3ZhciBkPWIuZG9jdW1lbnRFbGVtZW50O3JldHVybiBkb2N1bWVudC5pbXBvcnROb2RlJiYoZD1kb2N1bWVudC5pbXBvcnROb2RlKGQsITApKSxjLmFwcGVuZENoaWxkKGQpLGN9cmV0dXJuIGJ9LGNyZWF0ZWpzLlNWR0xvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKFNWR0xvYWRlcixcXFwiQWJzdHJhY3RMb2FkZXJcXFwiKX0oKSx0aGlzLmNyZWF0ZWpzPXRoaXMuY3JlYXRlanN8fHt9LGZ1bmN0aW9uKCl7XFxcInVzZSBzdHJpY3RcXFwiO2Z1bmN0aW9uIFhNTExvYWRlcihhKXt0aGlzLkFic3RyYWN0TG9hZGVyX2NvbnN0cnVjdG9yKGEsITAsY3JlYXRlanMuVHlwZXMuWE1MKSx0aGlzLnJlc3VsdEZvcm1hdHRlcj10aGlzLl9mb3JtYXRSZXN1bHR9dmFyIGE9Y3JlYXRlanMuZXh0ZW5kKFhNTExvYWRlcixjcmVhdGVqcy5BYnN0cmFjdExvYWRlciksYj1YTUxMb2FkZXI7Yi5jYW5Mb2FkSXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1jcmVhdGVqcy5UeXBlcy5YTUx9LGEuX2Zvcm1hdFJlc3VsdD1mdW5jdGlvbihhKXtyZXR1cm4gY3JlYXRlanMuRGF0YVV0aWxzLnBhcnNlWE1MKGEuZ2V0UmVzdWx0KCEwKSl9LGNyZWF0ZWpzLlhNTExvYWRlcj1jcmVhdGVqcy5wcm9tb3RlKFhNTExvYWRlcixcXFwiQWJzdHJhY3RMb2FkZXJcXFwiKX0oKTtcIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Jhdy1sb2FkZXIhLi9ub2RlX21vZHVsZXMvcHJlbG9hZGpzL2xpYi9wcmVsb2FkanMubWluLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwicmVxdWlyZShcIiEhL1VzZXJzL2xpbnhpYW9sb25nL2dpdGh1Yi9vbmUtaDUvbm9kZV9tb2R1bGVzL3NjcmlwdC1sb2FkZXIvYWRkU2NyaXB0LmpzXCIpKHJlcXVpcmUoXCIhIS9Vc2Vycy9saW54aWFvbG9uZy9naXRodWIvb25lLWg1L25vZGVfbW9kdWxlcy9yYXctbG9hZGVyL2luZGV4LmpzIS9Vc2Vycy9saW54aWFvbG9uZy9naXRodWIvb25lLWg1L25vZGVfbW9kdWxlcy96ZXB0by9kaXN0L3plcHRvLm1pbi5qc1wiKSlcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9zY3JpcHQtbG9hZGVyIS4vbm9kZV9tb2R1bGVzL3plcHRvL2Rpc3QvemVwdG8ubWluLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSBcIi8qIFplcHRvIHYxLjIuMCAtIHplcHRvIGV2ZW50IGFqYXggZm9ybSBpZSAtIHplcHRvanMuY29tL2xpY2Vuc2UgKi9cXG4hZnVuY3Rpb24odCxlKXtcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiBlKHQpfSk6ZSh0KX0odGhpcyxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uICQodCl7cmV0dXJuIG51bGw9PXQ/U3RyaW5nKHQpOlNbQy5jYWxsKHQpXXx8XFxcIm9iamVjdFxcXCJ9ZnVuY3Rpb24gRih0KXtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiPT0kKHQpfWZ1bmN0aW9uIGsodCl7cmV0dXJuIG51bGwhPXQmJnQ9PXQud2luZG93fWZ1bmN0aW9uIE0odCl7cmV0dXJuIG51bGwhPXQmJnQubm9kZVR5cGU9PXQuRE9DVU1FTlRfTk9ERX1mdW5jdGlvbiBSKHQpe3JldHVyblxcXCJvYmplY3RcXFwiPT0kKHQpfWZ1bmN0aW9uIFoodCl7cmV0dXJuIFIodCkmJiFrKHQpJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk9PU9iamVjdC5wcm90b3R5cGV9ZnVuY3Rpb24geih0KXt2YXIgZT0hIXQmJlxcXCJsZW5ndGhcXFwiaW4gdCYmdC5sZW5ndGgsbj1yLnR5cGUodCk7cmV0dXJuXFxcImZ1bmN0aW9uXFxcIiE9biYmIWsodCkmJihcXFwiYXJyYXlcXFwiPT1ufHwwPT09ZXx8XFxcIm51bWJlclxcXCI9PXR5cGVvZiBlJiZlPjAmJmUtMSBpbiB0KX1mdW5jdGlvbiBxKHQpe3JldHVybiBhLmNhbGwodCxmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dH0pfWZ1bmN0aW9uIEgodCl7cmV0dXJuIHQubGVuZ3RoPjA/ci5mbi5jb25jYXQuYXBwbHkoW10sdCk6dH1mdW5jdGlvbiBJKHQpe3JldHVybiB0LnJlcGxhY2UoLzo6L2csXFxcIi9cXFwiKS5yZXBsYWNlKC8oW0EtWl0rKShbQS1aXVthLXpdKS9nLFxcXCIkMV8kMlxcXCIpLnJlcGxhY2UoLyhbYS16XFxcXGRdKShbQS1aXSkvZyxcXFwiJDFfJDJcXFwiKS5yZXBsYWNlKC9fL2csXFxcIi1cXFwiKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIFYodCl7cmV0dXJuIHQgaW4gbD9sW3RdOmxbdF09bmV3IFJlZ0V4cChcXFwiKF58XFxcXFxcXFxzKVxcXCIrdCtcXFwiKFxcXFxcXFxcc3wkKVxcXCIpfWZ1bmN0aW9uIF8odCxlKXtyZXR1cm5cXFwibnVtYmVyXFxcIiE9dHlwZW9mIGV8fGhbSSh0KV0/ZTplK1xcXCJweFxcXCJ9ZnVuY3Rpb24gQih0KXt2YXIgZSxuO3JldHVybiBjW3RdfHwoZT1mLmNyZWF0ZUVsZW1lbnQodCksZi5ib2R5LmFwcGVuZENoaWxkKGUpLG49Z2V0Q29tcHV0ZWRTdHlsZShlLFxcXCJcXFwiKS5nZXRQcm9wZXJ0eVZhbHVlKFxcXCJkaXNwbGF5XFxcIiksZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLFxcXCJub25lXFxcIj09biYmKG49XFxcImJsb2NrXFxcIiksY1t0XT1uKSxjW3RdfWZ1bmN0aW9uIFUodCl7cmV0dXJuXFxcImNoaWxkcmVuXFxcImluIHQ/dS5jYWxsKHQuY2hpbGRyZW4pOnIubWFwKHQuY2hpbGROb2RlcyxmdW5jdGlvbih0KXtyZXR1cm4gMT09dC5ub2RlVHlwZT90OnZvaWQgMH0pfWZ1bmN0aW9uIFgodCxlKXt2YXIgbixyPXQ/dC5sZW5ndGg6MDtmb3Iobj0wO3I+bjtuKyspdGhpc1tuXT10W25dO3RoaXMubGVuZ3RoPXIsdGhpcy5zZWxlY3Rvcj1lfHxcXFwiXFxcIn1mdW5jdGlvbiBKKHQscixpKXtmb3IobiBpbiByKWkmJihaKHJbbl0pfHxMKHJbbl0pKT8oWihyW25dKSYmIVoodFtuXSkmJih0W25dPXt9KSxMKHJbbl0pJiYhTCh0W25dKSYmKHRbbl09W10pLEoodFtuXSxyW25dLGkpKTpyW25dIT09ZSYmKHRbbl09cltuXSl9ZnVuY3Rpb24gVyh0LGUpe3JldHVybiBudWxsPT1lP3IodCk6cih0KS5maWx0ZXIoZSl9ZnVuY3Rpb24gWSh0LGUsbixyKXtyZXR1cm4gRihlKT9lLmNhbGwodCxuLHIpOmV9ZnVuY3Rpb24gRyh0LGUsbil7bnVsbD09bj90LnJlbW92ZUF0dHJpYnV0ZShlKTp0LnNldEF0dHJpYnV0ZShlLG4pfWZ1bmN0aW9uIEsodCxuKXt2YXIgcj10LmNsYXNzTmFtZXx8XFxcIlxcXCIsaT1yJiZyLmJhc2VWYWwhPT1lO3JldHVybiBuPT09ZT9pP3IuYmFzZVZhbDpyOnZvaWQoaT9yLmJhc2VWYWw9bjp0LmNsYXNzTmFtZT1uKX1mdW5jdGlvbiBRKHQpe3RyeXtyZXR1cm4gdD9cXFwidHJ1ZVxcXCI9PXR8fChcXFwiZmFsc2VcXFwiPT10PyExOlxcXCJudWxsXFxcIj09dD9udWxsOit0K1xcXCJcXFwiPT10Pyt0Oi9eW1xcXFxbXFxcXHtdLy50ZXN0KHQpP3IucGFyc2VKU09OKHQpOnQpOnR9Y2F0Y2goZSl7cmV0dXJuIHR9fWZ1bmN0aW9uIHR0KHQsZSl7ZSh0KTtmb3IodmFyIG49MCxyPXQuY2hpbGROb2Rlcy5sZW5ndGg7cj5uO24rKyl0dCh0LmNoaWxkTm9kZXNbbl0sZSl9dmFyIGUsbixyLGksTyxQLG89W10scz1vLmNvbmNhdCxhPW8uZmlsdGVyLHU9by5zbGljZSxmPXQuZG9jdW1lbnQsYz17fSxsPXt9LGg9e1xcXCJjb2x1bW4tY291bnRcXFwiOjEsY29sdW1uczoxLFxcXCJmb250LXdlaWdodFxcXCI6MSxcXFwibGluZS1oZWlnaHRcXFwiOjEsb3BhY2l0eToxLFxcXCJ6LWluZGV4XFxcIjoxLHpvb206MX0scD0vXlxcXFxzKjwoXFxcXHcrfCEpW14+XSo+LyxkPS9ePChcXFxcdyspXFxcXHMqXFxcXC8/Pig/OjxcXFxcL1xcXFwxPnwpJC8sbT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFxcXHc6XSspW14+XSopXFxcXC8+L2dpLGc9L14oPzpib2R5fGh0bWwpJC9pLHY9LyhbQS1aXSkvZyx5PVtcXFwidmFsXFxcIixcXFwiY3NzXFxcIixcXFwiaHRtbFxcXCIsXFxcInRleHRcXFwiLFxcXCJkYXRhXFxcIixcXFwid2lkdGhcXFwiLFxcXCJoZWlnaHRcXFwiLFxcXCJvZmZzZXRcXFwiXSx4PVtcXFwiYWZ0ZXJcXFwiLFxcXCJwcmVwZW5kXFxcIixcXFwiYmVmb3JlXFxcIixcXFwiYXBwZW5kXFxcIl0sYj1mLmNyZWF0ZUVsZW1lbnQoXFxcInRhYmxlXFxcIiksRT1mLmNyZWF0ZUVsZW1lbnQoXFxcInRyXFxcIiksaj17dHI6Zi5jcmVhdGVFbGVtZW50KFxcXCJ0Ym9keVxcXCIpLHRib2R5OmIsdGhlYWQ6Yix0Zm9vdDpiLHRkOkUsdGg6RSxcXFwiKlxcXCI6Zi5jcmVhdGVFbGVtZW50KFxcXCJkaXZcXFwiKX0sdz0vY29tcGxldGV8bG9hZGVkfGludGVyYWN0aXZlLyxUPS9eW1xcXFx3LV0qJC8sUz17fSxDPVMudG9TdHJpbmcsTj17fSxBPWYuY3JlYXRlRWxlbWVudChcXFwiZGl2XFxcIiksRD17dGFiaW5kZXg6XFxcInRhYkluZGV4XFxcIixyZWFkb25seTpcXFwicmVhZE9ubHlcXFwiLFxcXCJmb3JcXFwiOlxcXCJodG1sRm9yXFxcIixcXFwiY2xhc3NcXFwiOlxcXCJjbGFzc05hbWVcXFwiLG1heGxlbmd0aDpcXFwibWF4TGVuZ3RoXFxcIixjZWxsc3BhY2luZzpcXFwiY2VsbFNwYWNpbmdcXFwiLGNlbGxwYWRkaW5nOlxcXCJjZWxsUGFkZGluZ1xcXCIscm93c3BhbjpcXFwicm93U3BhblxcXCIsY29sc3BhbjpcXFwiY29sU3BhblxcXCIsdXNlbWFwOlxcXCJ1c2VNYXBcXFwiLGZyYW1lYm9yZGVyOlxcXCJmcmFtZUJvcmRlclxcXCIsY29udGVudGVkaXRhYmxlOlxcXCJjb250ZW50RWRpdGFibGVcXFwifSxMPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgQXJyYXl9O3JldHVybiBOLm1hdGNoZXM9ZnVuY3Rpb24odCxlKXtpZighZXx8IXR8fDEhPT10Lm5vZGVUeXBlKXJldHVybiExO3ZhciBuPXQubWF0Y2hlc3x8dC53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fHQubW96TWF0Y2hlc1NlbGVjdG9yfHx0Lm9NYXRjaGVzU2VsZWN0b3J8fHQubWF0Y2hlc1NlbGVjdG9yO2lmKG4pcmV0dXJuIG4uY2FsbCh0LGUpO3ZhciByLGk9dC5wYXJlbnROb2RlLG89IWk7cmV0dXJuIG8mJihpPUEpLmFwcGVuZENoaWxkKHQpLHI9fk4ucXNhKGksZSkuaW5kZXhPZih0KSxvJiZBLnJlbW92ZUNoaWxkKHQpLHJ9LE89ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvLSsoLik/L2csZnVuY3Rpb24odCxlKXtyZXR1cm4gZT9lLnRvVXBwZXJDYXNlKCk6XFxcIlxcXCJ9KX0sUD1mdW5jdGlvbih0KXtyZXR1cm4gYS5jYWxsKHQsZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5pbmRleE9mKGUpPT1ufSl9LE4uZnJhZ21lbnQ9ZnVuY3Rpb24odCxuLGkpe3ZhciBvLHMsYTtyZXR1cm4gZC50ZXN0KHQpJiYobz1yKGYuY3JlYXRlRWxlbWVudChSZWdFeHAuJDEpKSksb3x8KHQucmVwbGFjZSYmKHQ9dC5yZXBsYWNlKG0sXFxcIjwkMT48LyQyPlxcXCIpKSxuPT09ZSYmKG49cC50ZXN0KHQpJiZSZWdFeHAuJDEpLG4gaW4ganx8KG49XFxcIipcXFwiKSxhPWpbbl0sYS5pbm5lckhUTUw9XFxcIlxcXCIrdCxvPXIuZWFjaCh1LmNhbGwoYS5jaGlsZE5vZGVzKSxmdW5jdGlvbigpe2EucmVtb3ZlQ2hpbGQodGhpcyl9KSksWihpKSYmKHM9cihvKSxyLmVhY2goaSxmdW5jdGlvbih0LGUpe3kuaW5kZXhPZih0KT4tMT9zW3RdKGUpOnMuYXR0cih0LGUpfSkpLG99LE4uWj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgWCh0LGUpfSxOLmlzWj1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE4uWn0sTi5pbml0PWZ1bmN0aW9uKHQsbil7dmFyIGk7aWYoIXQpcmV0dXJuIE4uWigpO2lmKFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgdClpZih0PXQudHJpbSgpLFxcXCI8XFxcIj09dFswXSYmcC50ZXN0KHQpKWk9Ti5mcmFnbWVudCh0LFJlZ0V4cC4kMSxuKSx0PW51bGw7ZWxzZXtpZihuIT09ZSlyZXR1cm4gcihuKS5maW5kKHQpO2k9Ti5xc2EoZix0KX1lbHNle2lmKEYodCkpcmV0dXJuIHIoZikucmVhZHkodCk7aWYoTi5pc1oodCkpcmV0dXJuIHQ7aWYoTCh0KSlpPXEodCk7ZWxzZSBpZihSKHQpKWk9W3RdLHQ9bnVsbDtlbHNlIGlmKHAudGVzdCh0KSlpPU4uZnJhZ21lbnQodC50cmltKCksUmVnRXhwLiQxLG4pLHQ9bnVsbDtlbHNle2lmKG4hPT1lKXJldHVybiByKG4pLmZpbmQodCk7aT1OLnFzYShmLHQpfX1yZXR1cm4gTi5aKGksdCl9LHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTi5pbml0KHQsZSl9LHIuZXh0ZW5kPWZ1bmN0aW9uKHQpe3ZhciBlLG49dS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm5cXFwiYm9vbGVhblxcXCI9PXR5cGVvZiB0JiYoZT10LHQ9bi5zaGlmdCgpKSxuLmZvckVhY2goZnVuY3Rpb24obil7Sih0LG4sZSl9KSx0fSxOLnFzYT1mdW5jdGlvbih0LGUpe3ZhciBuLHI9XFxcIiNcXFwiPT1lWzBdLGk9IXImJlxcXCIuXFxcIj09ZVswXSxvPXJ8fGk/ZS5zbGljZSgxKTplLHM9VC50ZXN0KG8pO3JldHVybiB0LmdldEVsZW1lbnRCeUlkJiZzJiZyPyhuPXQuZ2V0RWxlbWVudEJ5SWQobykpP1tuXTpbXToxIT09dC5ub2RlVHlwZSYmOSE9PXQubm9kZVR5cGUmJjExIT09dC5ub2RlVHlwZT9bXTp1LmNhbGwocyYmIXImJnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT9pP3QuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShvKTp0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOnQucXVlcnlTZWxlY3RvckFsbChlKSl9LHIuY29udGFpbnM9Zi5kb2N1bWVudEVsZW1lbnQuY29udGFpbnM/ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCE9PWUmJnQuY29udGFpbnMoZSl9OmZ1bmN0aW9uKHQsZSl7Zm9yKDtlJiYoZT1lLnBhcmVudE5vZGUpOylpZihlPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sci50eXBlPSQsci5pc0Z1bmN0aW9uPUYsci5pc1dpbmRvdz1rLHIuaXNBcnJheT1MLHIuaXNQbGFpbk9iamVjdD1aLHIuaXNFbXB0eU9iamVjdD1mdW5jdGlvbih0KXt2YXIgZTtmb3IoZSBpbiB0KXJldHVybiExO3JldHVybiEwfSxyLmlzTnVtZXJpYz1mdW5jdGlvbih0KXt2YXIgZT1OdW1iZXIodCksbj10eXBlb2YgdDtyZXR1cm4gbnVsbCE9dCYmXFxcImJvb2xlYW5cXFwiIT1uJiYoXFxcInN0cmluZ1xcXCIhPW58fHQubGVuZ3RoKSYmIWlzTmFOKGUpJiZpc0Zpbml0ZShlKXx8ITF9LHIuaW5BcnJheT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG8uaW5kZXhPZi5jYWxsKGUsdCxuKX0sci5jYW1lbENhc2U9TyxyLnRyaW09ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/XFxcIlxcXCI6U3RyaW5nLnByb3RvdHlwZS50cmltLmNhbGwodCl9LHIudXVpZD0wLHIuc3VwcG9ydD17fSxyLmV4cHI9e30sci5ub29wPWZ1bmN0aW9uKCl7fSxyLm1hcD1mdW5jdGlvbih0LGUpe3ZhciBuLGksbyxyPVtdO2lmKHoodCkpZm9yKGk9MDtpPHQubGVuZ3RoO2krKyluPWUodFtpXSxpKSxudWxsIT1uJiZyLnB1c2gobik7ZWxzZSBmb3IobyBpbiB0KW49ZSh0W29dLG8pLG51bGwhPW4mJnIucHVzaChuKTtyZXR1cm4gSChyKX0sci5lYWNoPWZ1bmN0aW9uKHQsZSl7dmFyIG4scjtpZih6KHQpKXtmb3Iobj0wO248dC5sZW5ndGg7bisrKWlmKGUuY2FsbCh0W25dLG4sdFtuXSk9PT0hMSlyZXR1cm4gdH1lbHNlIGZvcihyIGluIHQpaWYoZS5jYWxsKHRbcl0scix0W3JdKT09PSExKXJldHVybiB0O3JldHVybiB0fSxyLmdyZXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYS5jYWxsKHQsZSl9LHQuSlNPTiYmKHIucGFyc2VKU09OPUpTT04ucGFyc2UpLHIuZWFjaChcXFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvclxcXCIuc3BsaXQoXFxcIiBcXFwiKSxmdW5jdGlvbih0LGUpe1NbXFxcIltvYmplY3QgXFxcIitlK1xcXCJdXFxcIl09ZS50b0xvd2VyQ2FzZSgpfSksci5mbj17Y29uc3RydWN0b3I6Ti5aLGxlbmd0aDowLGZvckVhY2g6by5mb3JFYWNoLHJlZHVjZTpvLnJlZHVjZSxwdXNoOm8ucHVzaCxzb3J0Om8uc29ydCxzcGxpY2U6by5zcGxpY2UsaW5kZXhPZjpvLmluZGV4T2YsY29uY2F0OmZ1bmN0aW9uKCl7dmFyIHQsZSxuPVtdO2Zvcih0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllPWFyZ3VtZW50c1t0XSxuW3RdPU4uaXNaKGUpP2UudG9BcnJheSgpOmU7cmV0dXJuIHMuYXBwbHkoTi5pc1oodGhpcyk/dGhpcy50b0FycmF5KCk6dGhpcyxuKX0sbWFwOmZ1bmN0aW9uKHQpe3JldHVybiByKHIubWFwKHRoaXMsZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5jYWxsKGUsbixlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gcih1LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LHJlYWR5OmZ1bmN0aW9uKHQpe3JldHVybiB3LnRlc3QoZi5yZWFkeVN0YXRlKSYmZi5ib2R5P3Qocik6Zi5hZGRFdmVudExpc3RlbmVyKFxcXCJET01Db250ZW50TG9hZGVkXFxcIixmdW5jdGlvbigpe3Qocil9LCExKSx0aGlzfSxnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lP3UuY2FsbCh0aGlzKTp0aGlzW3Q+PTA/dDp0K3RoaXMubGVuZ3RoXX0sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgpfSxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyl9KX0sZWFjaDpmdW5jdGlvbih0KXtyZXR1cm4gby5ldmVyeS5jYWxsKHRoaXMsZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5jYWxsKGUsbixlKSE9PSExfSksdGhpc30sZmlsdGVyOmZ1bmN0aW9uKHQpe3JldHVybiBGKHQpP3RoaXMubm90KHRoaXMubm90KHQpKTpyKGEuY2FsbCh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBOLm1hdGNoZXMoZSx0KX0pKX0sYWRkOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIoUCh0aGlzLmNvbmNhdChyKHQsZSkpKSl9LGlzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxlbmd0aD4wJiZOLm1hdGNoZXModGhpc1swXSx0KX0sbm90OmZ1bmN0aW9uKHQpe3ZhciBuPVtdO2lmKEYodCkmJnQuY2FsbCE9PWUpdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe3QuY2FsbCh0aGlzLGUpfHxuLnB1c2godGhpcyl9KTtlbHNle3ZhciBpPVxcXCJzdHJpbmdcXFwiPT10eXBlb2YgdD90aGlzLmZpbHRlcih0KTp6KHQpJiZGKHQuaXRlbSk/dS5jYWxsKHQpOnIodCk7dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2kuaW5kZXhPZih0KTwwJiZuLnB1c2godCl9KX1yZXR1cm4gcihuKX0saGFzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBSKHQpP3IuY29udGFpbnModGhpcyx0KTpyKHRoaXMpLmZpbmQodCkuc2l6ZSgpfSl9LGVxOmZ1bmN0aW9uKHQpe3JldHVybi0xPT09dD90aGlzLnNsaWNlKHQpOnRoaXMuc2xpY2UodCwrdCsxKX0sZmlyc3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzWzBdO3JldHVybiB0JiYhUih0KT90OnIodCl9LGxhc3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzW3RoaXMubGVuZ3RoLTFdO3JldHVybiB0JiYhUih0KT90OnIodCl9LGZpbmQ6ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzO3JldHVybiBlPXQ/XFxcIm9iamVjdFxcXCI9PXR5cGVvZiB0P3IodCkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gby5zb21lLmNhbGwobixmdW5jdGlvbihlKXtyZXR1cm4gci5jb250YWlucyhlLHQpfSl9KToxPT10aGlzLmxlbmd0aD9yKE4ucXNhKHRoaXNbMF0sdCkpOnRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIE4ucXNhKHRoaXMsdCl9KTpyKCl9LGNsb3Nlc3Q6ZnVuY3Rpb24odCxlKXt2YXIgbj1bXSxpPVxcXCJvYmplY3RcXFwiPT10eXBlb2YgdCYmcih0KTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHIsbyl7Zm9yKDtvJiYhKGk/aS5pbmRleE9mKG8pPj0wOk4ubWF0Y2hlcyhvLHQpKTspbz1vIT09ZSYmIU0obykmJm8ucGFyZW50Tm9kZTtvJiZuLmluZGV4T2Yobyk8MCYmbi5wdXNoKG8pfSkscihuKX0scGFyZW50czpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj10aGlzO24ubGVuZ3RoPjA7KW49ci5tYXAobixmdW5jdGlvbih0KXtyZXR1cm4odD10LnBhcmVudE5vZGUpJiYhTSh0KSYmZS5pbmRleE9mKHQpPDA/KGUucHVzaCh0KSx0KTp2b2lkIDB9KTtyZXR1cm4gVyhlLHQpfSxwYXJlbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIFcoUCh0aGlzLnBsdWNrKFxcXCJwYXJlbnROb2RlXFxcIikpLHQpfSxjaGlsZHJlbjpmdW5jdGlvbih0KXtyZXR1cm4gVyh0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBVKHRoaXMpfSksdCl9LGNvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudERvY3VtZW50fHx1LmNhbGwodGhpcy5jaGlsZE5vZGVzKX0pfSxzaWJsaW5nczpmdW5jdGlvbih0KXtyZXR1cm4gVyh0aGlzLm1hcChmdW5jdGlvbih0LGUpe3JldHVybiBhLmNhbGwoVShlLnBhcmVudE5vZGUpLGZ1bmN0aW9uKHQpe3JldHVybiB0IT09ZX0pfSksdCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuaW5uZXJIVE1MPVxcXCJcXFwifSl9LHBsdWNrOmZ1bmN0aW9uKHQpe3JldHVybiByLm1hcCh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBlW3RdfSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7XFxcIm5vbmVcXFwiPT10aGlzLnN0eWxlLmRpc3BsYXkmJih0aGlzLnN0eWxlLmRpc3BsYXk9XFxcIlxcXCIpLFxcXCJub25lXFxcIj09Z2V0Q29tcHV0ZWRTdHlsZSh0aGlzLFxcXCJcXFwiKS5nZXRQcm9wZXJ0eVZhbHVlKFxcXCJkaXNwbGF5XFxcIikmJih0aGlzLnN0eWxlLmRpc3BsYXk9Qih0aGlzLm5vZGVOYW1lKSl9KX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYmVmb3JlKHQpLnJlbW92ZSgpfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBlPUYodCk7aWYodGhpc1swXSYmIWUpdmFyIG49cih0KS5nZXQoMCksaT1uLnBhcmVudE5vZGV8fHRoaXMubGVuZ3RoPjE7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihvKXtyKHRoaXMpLndyYXBBbGwoZT90LmNhbGwodGhpcyxvKTppP24uY2xvbmVOb2RlKCEwKTpuKX0pfSx3cmFwQWxsOmZ1bmN0aW9uKHQpe2lmKHRoaXNbMF0pe3IodGhpc1swXSkuYmVmb3JlKHQ9cih0KSk7Zm9yKHZhciBlOyhlPXQuY2hpbGRyZW4oKSkubGVuZ3RoOyl0PWUuZmlyc3QoKTtyKHQpLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKHQpe3ZhciBlPUYodCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihuKXt2YXIgaT1yKHRoaXMpLG89aS5jb250ZW50cygpLHM9ZT90LmNhbGwodGhpcyxuKTp0O28ubGVuZ3RoP28ud3JhcEFsbChzKTppLmFwcGVuZChzKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7cih0aGlzKS5yZXBsYWNlV2l0aChyKHRoaXMpLmNoaWxkcmVuKCkpfSksdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZU5vZGUoITApfSl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jc3MoXFxcImRpc3BsYXlcXFwiLFxcXCJub25lXFxcIil9LHRvZ2dsZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49cih0aGlzKTsodD09PWU/XFxcIm5vbmVcXFwiPT1uLmNzcyhcXFwiZGlzcGxheVxcXCIpOnQpP24uc2hvdygpOm4uaGlkZSgpfSl9LHByZXY6ZnVuY3Rpb24odCl7cmV0dXJuIHIodGhpcy5wbHVjayhcXFwicHJldmlvdXNFbGVtZW50U2libGluZ1xcXCIpKS5maWx0ZXIodHx8XFxcIipcXFwiKX0sbmV4dDpmdW5jdGlvbih0KXtyZXR1cm4gcih0aGlzLnBsdWNrKFxcXCJuZXh0RWxlbWVudFNpYmxpbmdcXFwiKSkuZmlsdGVyKHR8fFxcXCIqXFxcIil9LGh0bWw6ZnVuY3Rpb24odCl7cmV0dXJuIDAgaW4gYXJndW1lbnRzP3RoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgbj10aGlzLmlubmVySFRNTDtyKHRoaXMpLmVtcHR5KCkuYXBwZW5kKFkodGhpcyx0LGUsbikpfSk6MCBpbiB0aGlzP3RoaXNbMF0uaW5uZXJIVE1MOm51bGx9LHRleHQ6ZnVuY3Rpb24odCl7cmV0dXJuIDAgaW4gYXJndW1lbnRzP3RoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgbj1ZKHRoaXMsdCxlLHRoaXMudGV4dENvbnRlbnQpO3RoaXMudGV4dENvbnRlbnQ9bnVsbD09bj9cXFwiXFxcIjpcXFwiXFxcIitufSk6MCBpbiB0aGlzP3RoaXMucGx1Y2soXFxcInRleHRDb250ZW50XFxcIikuam9pbihcXFwiXFxcIik6bnVsbH0sYXR0cjpmdW5jdGlvbih0LHIpe3ZhciBpO3JldHVyblxcXCJzdHJpbmdcXFwiIT10eXBlb2YgdHx8MSBpbiBhcmd1bWVudHM/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe2lmKDE9PT10aGlzLm5vZGVUeXBlKWlmKFIodCkpZm9yKG4gaW4gdClHKHRoaXMsbix0W25dKTtlbHNlIEcodGhpcyx0LFkodGhpcyxyLGUsdGhpcy5nZXRBdHRyaWJ1dGUodCkpKX0pOjAgaW4gdGhpcyYmMT09dGhpc1swXS5ub2RlVHlwZSYmbnVsbCE9KGk9dGhpc1swXS5nZXRBdHRyaWJ1dGUodCkpP2k6ZX0scmVtb3ZlQXR0cjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7MT09PXRoaXMubm9kZVR5cGUmJnQuc3BsaXQoXFxcIiBcXFwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe0codGhpcyx0KX0sdGhpcyl9KX0scHJvcDpmdW5jdGlvbih0LGUpe3JldHVybiB0PURbdF18fHQsMSBpbiBhcmd1bWVudHM/dGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3RoaXNbdF09WSh0aGlzLGUsbix0aGlzW3RdKX0pOnRoaXNbMF0mJnRoaXNbMF1bdF19LHJlbW92ZVByb3A6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9RFt0XXx8dCx0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1t0XX0pfSxkYXRhOmZ1bmN0aW9uKHQsbil7dmFyIHI9XFxcImRhdGEtXFxcIit0LnJlcGxhY2UodixcXFwiLSQxXFxcIikudG9Mb3dlckNhc2UoKSxpPTEgaW4gYXJndW1lbnRzP3RoaXMuYXR0cihyLG4pOnRoaXMuYXR0cihyKTtyZXR1cm4gbnVsbCE9PWk/UShpKTplfSx2YWw6ZnVuY3Rpb24odCl7cmV0dXJuIDAgaW4gYXJndW1lbnRzPyhudWxsPT10JiYodD1cXFwiXFxcIiksdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe3RoaXMudmFsdWU9WSh0aGlzLHQsZSx0aGlzLnZhbHVlKX0pKTp0aGlzWzBdJiYodGhpc1swXS5tdWx0aXBsZT9yKHRoaXNbMF0pLmZpbmQoXFxcIm9wdGlvblxcXCIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGVkfSkucGx1Y2soXFxcInZhbHVlXFxcIik6dGhpc1swXS52YWx1ZSl9LG9mZnNldDpmdW5jdGlvbihlKXtpZihlKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCl7dmFyIG49cih0aGlzKSxpPVkodGhpcyxlLHQsbi5vZmZzZXQoKSksbz1uLm9mZnNldFBhcmVudCgpLm9mZnNldCgpLHM9e3RvcDppLnRvcC1vLnRvcCxsZWZ0OmkubGVmdC1vLmxlZnR9O1xcXCJzdGF0aWNcXFwiPT1uLmNzcyhcXFwicG9zaXRpb25cXFwiKSYmKHMucG9zaXRpb249XFxcInJlbGF0aXZlXFxcIiksbi5jc3Mocyl9KTtpZighdGhpcy5sZW5ndGgpcmV0dXJuIG51bGw7aWYoZi5kb2N1bWVudEVsZW1lbnQhPT10aGlzWzBdJiYhci5jb250YWlucyhmLmRvY3VtZW50RWxlbWVudCx0aGlzWzBdKSlyZXR1cm57dG9wOjAsbGVmdDowfTt2YXIgbj10aGlzWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybntsZWZ0Om4ubGVmdCt0LnBhZ2VYT2Zmc2V0LHRvcDpuLnRvcCt0LnBhZ2VZT2Zmc2V0LHdpZHRoOk1hdGgucm91bmQobi53aWR0aCksaGVpZ2h0Ok1hdGgucm91bmQobi5oZWlnaHQpfX0sY3NzOmZ1bmN0aW9uKHQsZSl7aWYoYXJndW1lbnRzLmxlbmd0aDwyKXt2YXIgaT10aGlzWzBdO2lmKFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgdCl7aWYoIWkpcmV0dXJuO3JldHVybiBpLnN0eWxlW08odCldfHxnZXRDb21wdXRlZFN0eWxlKGksXFxcIlxcXCIpLmdldFByb3BlcnR5VmFsdWUodCl9aWYoTCh0KSl7aWYoIWkpcmV0dXJuO3ZhciBvPXt9LHM9Z2V0Q29tcHV0ZWRTdHlsZShpLFxcXCJcXFwiKTtyZXR1cm4gci5lYWNoKHQsZnVuY3Rpb24odCxlKXtvW2VdPWkuc3R5bGVbTyhlKV18fHMuZ2V0UHJvcGVydHlWYWx1ZShlKX0pLG99fXZhciBhPVxcXCJcXFwiO2lmKFxcXCJzdHJpbmdcXFwiPT0kKHQpKWV8fDA9PT1lP2E9SSh0KStcXFwiOlxcXCIrXyh0LGUpOnRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoSSh0KSl9KTtlbHNlIGZvcihuIGluIHQpdFtuXXx8MD09PXRbbl0/YSs9SShuKStcXFwiOlxcXCIrXyhuLHRbbl0pK1xcXCI7XFxcIjp0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KEkobikpfSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuc3R5bGUuY3NzVGV4dCs9XFxcIjtcXFwiK2F9KX0saW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy5pbmRleE9mKHIodClbMF0pOnRoaXMucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleE9mKHRoaXNbMF0pfSxoYXNDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gdD9vLnNvbWUuY2FsbCh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRlc3QoSyh0KSl9LFYodCkpOiExfSxhZGRDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gdD90aGlzLmVhY2goZnVuY3Rpb24oZSl7aWYoXFxcImNsYXNzTmFtZVxcXCJpbiB0aGlzKXtpPVtdO3ZhciBuPUsodGhpcyksbz1ZKHRoaXMsdCxlLG4pO28uc3BsaXQoL1xcXFxzKy9nKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IodGhpcykuaGFzQ2xhc3ModCl8fGkucHVzaCh0KX0sdGhpcyksaS5sZW5ndGgmJksodGhpcyxuKyhuP1xcXCIgXFxcIjpcXFwiXFxcIikraS5qb2luKFxcXCIgXFxcIikpfX0pOnRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obil7aWYoXFxcImNsYXNzTmFtZVxcXCJpbiB0aGlzKXtpZih0PT09ZSlyZXR1cm4gSyh0aGlzLFxcXCJcXFwiKTtpPUsodGhpcyksWSh0aGlzLHQsbixpKS5zcGxpdCgvXFxcXHMrL2cpLmZvckVhY2goZnVuY3Rpb24odCl7aT1pLnJlcGxhY2UoVih0KSxcXFwiIFxcXCIpfSksSyh0aGlzLGkudHJpbSgpKX19KX0sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24odCxuKXtyZXR1cm4gdD90aGlzLmVhY2goZnVuY3Rpb24oaSl7dmFyIG89cih0aGlzKSxzPVkodGhpcyx0LGksSyh0aGlzKSk7cy5zcGxpdCgvXFxcXHMrL2cpLmZvckVhY2goZnVuY3Rpb24odCl7KG49PT1lPyFvLmhhc0NsYXNzKHQpOm4pP28uYWRkQ2xhc3ModCk6by5yZW1vdmVDbGFzcyh0KX0pfSk6dGhpc30sc2Nyb2xsVG9wOmZ1bmN0aW9uKHQpe2lmKHRoaXMubGVuZ3RoKXt2YXIgbj1cXFwic2Nyb2xsVG9wXFxcImluIHRoaXNbMF07cmV0dXJuIHQ9PT1lP24/dGhpc1swXS5zY3JvbGxUb3A6dGhpc1swXS5wYWdlWU9mZnNldDp0aGlzLmVhY2gobj9mdW5jdGlvbigpe3RoaXMuc2Nyb2xsVG9wPXR9OmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxUbyh0aGlzLnNjcm9sbFgsdCl9KX19LHNjcm9sbExlZnQ6ZnVuY3Rpb24odCl7aWYodGhpcy5sZW5ndGgpe3ZhciBuPVxcXCJzY3JvbGxMZWZ0XFxcImluIHRoaXNbMF07cmV0dXJuIHQ9PT1lP24/dGhpc1swXS5zY3JvbGxMZWZ0OnRoaXNbMF0ucGFnZVhPZmZzZXQ6dGhpcy5lYWNoKG4/ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbExlZnQ9dH06ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbFRvKHQsdGhpcy5zY3JvbGxZKX0pfX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aCl7dmFyIHQ9dGhpc1swXSxlPXRoaXMub2Zmc2V0UGFyZW50KCksbj10aGlzLm9mZnNldCgpLGk9Zy50ZXN0KGVbMF0ubm9kZU5hbWUpP3t0b3A6MCxsZWZ0OjB9OmUub2Zmc2V0KCk7cmV0dXJuIG4udG9wLT1wYXJzZUZsb2F0KHIodCkuY3NzKFxcXCJtYXJnaW4tdG9wXFxcIikpfHwwLG4ubGVmdC09cGFyc2VGbG9hdChyKHQpLmNzcyhcXFwibWFyZ2luLWxlZnRcXFwiKSl8fDAsaS50b3ArPXBhcnNlRmxvYXQocihlWzBdKS5jc3MoXFxcImJvcmRlci10b3Atd2lkdGhcXFwiKSl8fDAsaS5sZWZ0Kz1wYXJzZUZsb2F0KHIoZVswXSkuY3NzKFxcXCJib3JkZXItbGVmdC13aWR0aFxcXCIpKXx8MCx7dG9wOm4udG9wLWkudG9wLGxlZnQ6bi5sZWZ0LWkubGVmdH19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5vZmZzZXRQYXJlbnR8fGYuYm9keTt0JiYhZy50ZXN0KHQubm9kZU5hbWUpJiZcXFwic3RhdGljXFxcIj09cih0KS5jc3MoXFxcInBvc2l0aW9uXFxcIik7KXQ9dC5vZmZzZXRQYXJlbnQ7cmV0dXJuIHR9KX19LHIuZm4uZGV0YWNoPXIuZm4ucmVtb3ZlLFtcXFwid2lkdGhcXFwiLFxcXCJoZWlnaHRcXFwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXQucmVwbGFjZSgvLi8sZnVuY3Rpb24odCl7cmV0dXJuIHRbMF0udG9VcHBlckNhc2UoKX0pO3IuZm5bdF09ZnVuY3Rpb24oaSl7dmFyIG8scz10aGlzWzBdO3JldHVybiBpPT09ZT9rKHMpP3NbXFxcImlubmVyXFxcIituXTpNKHMpP3MuZG9jdW1lbnRFbGVtZW50W1xcXCJzY3JvbGxcXFwiK25dOihvPXRoaXMub2Zmc2V0KCkpJiZvW3RdOnRoaXMuZWFjaChmdW5jdGlvbihlKXtzPXIodGhpcykscy5jc3ModCxZKHRoaXMsaSxlLHNbdF0oKSkpfSl9fSkseC5mb3JFYWNoKGZ1bmN0aW9uKG4saSl7dmFyIG89aSUyO3IuZm5bbl09ZnVuY3Rpb24oKXt2YXIgbixhLHM9ci5tYXAoYXJndW1lbnRzLGZ1bmN0aW9uKHQpe3ZhciBpPVtdO3JldHVybiBuPSQodCksXFxcImFycmF5XFxcIj09bj8odC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5vZGVUeXBlIT09ZT9pLnB1c2godCk6ci56ZXB0by5pc1oodCk/aT1pLmNvbmNhdCh0LmdldCgpKTp2b2lkKGk9aS5jb25jYXQoTi5mcmFnbWVudCh0KSkpfSksaSk6XFxcIm9iamVjdFxcXCI9PW58fG51bGw9PXQ/dDpOLmZyYWdtZW50KHQpfSksdT10aGlzLmxlbmd0aD4xO3JldHVybiBzLmxlbmd0aDwxP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUsbil7YT1vP246bi5wYXJlbnROb2RlLG49MD09aT9uLm5leHRTaWJsaW5nOjE9PWk/bi5maXJzdENoaWxkOjI9PWk/bjpudWxsO3ZhciBjPXIuY29udGFpbnMoZi5kb2N1bWVudEVsZW1lbnQsYSk7cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKHUpZT1lLmNsb25lTm9kZSghMCk7ZWxzZSBpZighYSlyZXR1cm4gcihlKS5yZW1vdmUoKTthLmluc2VydEJlZm9yZShlLG4pLGMmJnR0KGUsZnVuY3Rpb24oZSl7aWYoIShudWxsPT1lLm5vZGVOYW1lfHxcXFwiU0NSSVBUXFxcIiE9PWUubm9kZU5hbWUudG9VcHBlckNhc2UoKXx8ZS50eXBlJiZcXFwidGV4dC9qYXZhc2NyaXB0XFxcIiE9PWUudHlwZXx8ZS5zcmMpKXt2YXIgbj1lLm93bmVyRG9jdW1lbnQ/ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3OnQ7bi5ldmFsLmNhbGwobixlLmlubmVySFRNTCl9fSl9KX0pfSxyLmZuW28/bitcXFwiVG9cXFwiOlxcXCJpbnNlcnRcXFwiKyhpP1xcXCJCZWZvcmVcXFwiOlxcXCJBZnRlclxcXCIpXT1mdW5jdGlvbih0KXtyZXR1cm4gcih0KVtuXSh0aGlzKSx0aGlzfX0pLE4uWi5wcm90b3R5cGU9WC5wcm90b3R5cGU9ci5mbixOLnVuaXE9UCxOLmRlc2VyaWFsaXplVmFsdWU9USxyLnplcHRvPU4scn0oKTtyZXR1cm4gdC5aZXB0bz1lLHZvaWQgMD09PXQuJCYmKHQuJD1lKSxmdW5jdGlvbihlKXtmdW5jdGlvbiBoKHQpe3JldHVybiB0Ll96aWR8fCh0Ll96aWQ9bisrKX1mdW5jdGlvbiBwKHQsZSxuLHIpe2lmKGU9ZChlKSxlLm5zKXZhciBpPW0oZS5ucyk7cmV0dXJuKGFbaCh0KV18fFtdKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQmJighZS5lfHx0LmU9PWUuZSkmJighZS5uc3x8aS50ZXN0KHQubnMpKSYmKCFufHxoKHQuZm4pPT09aChuKSkmJighcnx8dC5zZWw9PXIpfSl9ZnVuY3Rpb24gZCh0KXt2YXIgZT0oXFxcIlxcXCIrdCkuc3BsaXQoXFxcIi5cXFwiKTtyZXR1cm57ZTplWzBdLG5zOmUuc2xpY2UoMSkuc29ydCgpLmpvaW4oXFxcIiBcXFwiKX19ZnVuY3Rpb24gbSh0KXtyZXR1cm4gbmV3IFJlZ0V4cChcXFwiKD86XnwgKVxcXCIrdC5yZXBsYWNlKFxcXCIgXFxcIixcXFwiIC4qID9cXFwiKStcXFwiKD86IHwkKVxcXCIpfWZ1bmN0aW9uIGcodCxlKXtyZXR1cm4gdC5kZWwmJiFmJiZ0LmUgaW4gY3x8ISFlfWZ1bmN0aW9uIHYodCl7cmV0dXJuIGxbdF18fGYmJmNbdF18fHR9ZnVuY3Rpb24geSh0LG4saSxvLHMsdSxmKXt2YXIgYz1oKHQpLHA9YVtjXXx8KGFbY109W10pO24uc3BsaXQoL1xcXFxzLykuZm9yRWFjaChmdW5jdGlvbihuKXtpZihcXFwicmVhZHlcXFwiPT1uKXJldHVybiBlKGRvY3VtZW50KS5yZWFkeShpKTt2YXIgYT1kKG4pO2EuZm49aSxhLnNlbD1zLGEuZSBpbiBsJiYoaT1mdW5jdGlvbih0KXt2YXIgbj10LnJlbGF0ZWRUYXJnZXQ7cmV0dXJuIW58fG4hPT10aGlzJiYhZS5jb250YWlucyh0aGlzLG4pP2EuZm4uYXBwbHkodGhpcyxhcmd1bWVudHMpOnZvaWQgMH0pLGEuZGVsPXU7dmFyIGM9dXx8aTthLnByb3h5PWZ1bmN0aW9uKGUpe2lmKGU9VChlKSwhZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKXtlLmRhdGE9bzt2YXIgbj1jLmFwcGx5KHQsZS5fYXJncz09cj9bZV06W2VdLmNvbmNhdChlLl9hcmdzKSk7cmV0dXJuIG49PT0hMSYmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpKSxufX0sYS5pPXAubGVuZ3RoLHAucHVzaChhKSxcXFwiYWRkRXZlbnRMaXN0ZW5lclxcXCJpbiB0JiZ0LmFkZEV2ZW50TGlzdGVuZXIodihhLmUpLGEucHJveHksZyhhLGYpKX0pfWZ1bmN0aW9uIHgodCxlLG4scixpKXt2YXIgbz1oKHQpOyhlfHxcXFwiXFxcIikuc3BsaXQoL1xcXFxzLykuZm9yRWFjaChmdW5jdGlvbihlKXtwKHQsZSxuLHIpLmZvckVhY2goZnVuY3Rpb24oZSl7ZGVsZXRlIGFbb11bZS5pXSxcXFwicmVtb3ZlRXZlbnRMaXN0ZW5lclxcXCJpbiB0JiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIodihlLmUpLGUucHJveHksZyhlLGkpKX0pfSl9ZnVuY3Rpb24gVCh0LG4pe3JldHVybihufHwhdC5pc0RlZmF1bHRQcmV2ZW50ZWQpJiYobnx8KG49dCksZS5lYWNoKHcsZnVuY3Rpb24oZSxyKXt2YXIgaT1uW2VdO3RbZV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tyXT1iLGkmJmkuYXBwbHkobixhcmd1bWVudHMpfSx0W3JdPUV9KSx0LnRpbWVTdGFtcHx8KHQudGltZVN0YW1wPURhdGUubm93KCkpLChuLmRlZmF1bHRQcmV2ZW50ZWQhPT1yP24uZGVmYXVsdFByZXZlbnRlZDpcXFwicmV0dXJuVmFsdWVcXFwiaW4gbj9uLnJldHVyblZhbHVlPT09ITE6bi5nZXRQcmV2ZW50RGVmYXVsdCYmbi5nZXRQcmV2ZW50RGVmYXVsdCgpKSYmKHQuaXNEZWZhdWx0UHJldmVudGVkPWIpKSx0fWZ1bmN0aW9uIFModCl7dmFyIGUsbj17b3JpZ2luYWxFdmVudDp0fTtmb3IoZSBpbiB0KWoudGVzdChlKXx8dFtlXT09PXJ8fChuW2VdPXRbZV0pO3JldHVybiBUKG4sdCl9dmFyIHIsbj0xLGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLG89ZS5pc0Z1bmN0aW9uLHM9ZnVuY3Rpb24odCl7cmV0dXJuXFxcInN0cmluZ1xcXCI9PXR5cGVvZiB0fSxhPXt9LHU9e30sZj1cXFwib25mb2N1c2luXFxcImluIHQsYz17Zm9jdXM6XFxcImZvY3VzaW5cXFwiLGJsdXI6XFxcImZvY3Vzb3V0XFxcIn0sbD17bW91c2VlbnRlcjpcXFwibW91c2VvdmVyXFxcIixtb3VzZWxlYXZlOlxcXCJtb3VzZW91dFxcXCJ9O3UuY2xpY2s9dS5tb3VzZWRvd249dS5tb3VzZXVwPXUubW91c2Vtb3ZlPVxcXCJNb3VzZUV2ZW50c1xcXCIsZS5ldmVudD17YWRkOnkscmVtb3ZlOnh9LGUucHJveHk9ZnVuY3Rpb24odCxuKXt2YXIgcj0yIGluIGFyZ3VtZW50cyYmaS5jYWxsKGFyZ3VtZW50cywyKTtpZihvKHQpKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KG4scj9yLmNvbmNhdChpLmNhbGwoYXJndW1lbnRzKSk6YXJndW1lbnRzKX07cmV0dXJuIGEuX3ppZD1oKHQpLGF9aWYocyhuKSlyZXR1cm4gcj8oci51bnNoaWZ0KHRbbl0sdCksZS5wcm94eS5hcHBseShudWxsLHIpKTplLnByb3h5KHRbbl0sdCk7dGhyb3cgbmV3IFR5cGVFcnJvcihcXFwiZXhwZWN0ZWQgZnVuY3Rpb25cXFwiKX0sZS5mbi5iaW5kPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5vbih0LGUsbil9LGUuZm4udW5iaW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMub2ZmKHQsZSl9LGUuZm4ub25lPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIsMSl9O3ZhciBiPWZ1bmN0aW9uKCl7cmV0dXJuITB9LEU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saj0vXihbQS1aXXxyZXR1cm5WYWx1ZSR8bGF5ZXJbWFldJHx3ZWJraXRNb3ZlbWVudFtYWV0kKS8sdz17cHJldmVudERlZmF1bHQ6XFxcImlzRGVmYXVsdFByZXZlbnRlZFxcXCIsc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOlxcXCJpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZFxcXCIsc3RvcFByb3BhZ2F0aW9uOlxcXCJpc1Byb3BhZ2F0aW9uU3RvcHBlZFxcXCJ9O2UuZm4uZGVsZWdhdGU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLm9uKGUsdCxuKX0sZS5mbi51bmRlbGVnYXRlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5vZmYoZSx0LG4pfSxlLmZuLmxpdmU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZShkb2N1bWVudC5ib2R5KS5kZWxlZ2F0ZSh0aGlzLnNlbGVjdG9yLHQsbiksdGhpc30sZS5mbi5kaWU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZShkb2N1bWVudC5ib2R5KS51bmRlbGVnYXRlKHRoaXMuc2VsZWN0b3IsdCxuKSx0aGlzfSxlLmZuLm9uPWZ1bmN0aW9uKHQsbixhLHUsZil7dmFyIGMsbCxoPXRoaXM7cmV0dXJuIHQmJiFzKHQpPyhlLmVhY2godCxmdW5jdGlvbih0LGUpe2gub24odCxuLGEsZSxmKX0pLGgpOihzKG4pfHxvKHUpfHx1PT09ITF8fCh1PWEsYT1uLG49ciksKHU9PT1yfHxhPT09ITEpJiYodT1hLGE9ciksdT09PSExJiYodT1FKSxoLmVhY2goZnVuY3Rpb24ocixvKXtmJiYoYz1mdW5jdGlvbih0KXtyZXR1cm4geChvLHQudHlwZSx1KSx1LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLG4mJihsPWZ1bmN0aW9uKHQpe3ZhciByLHM9ZSh0LnRhcmdldCkuY2xvc2VzdChuLG8pLmdldCgwKTtyZXR1cm4gcyYmcyE9PW8/KHI9ZS5leHRlbmQoUyh0KSx7Y3VycmVudFRhcmdldDpzLGxpdmVGaXJlZDpvfSksKGN8fHUpLmFwcGx5KHMsW3JdLmNvbmNhdChpLmNhbGwoYXJndW1lbnRzLDEpKSkpOnZvaWQgMH0pLHkobyx0LHUsYSxuLGx8fGMpfSkpfSxlLmZuLm9mZj1mdW5jdGlvbih0LG4saSl7dmFyIGE9dGhpcztyZXR1cm4gdCYmIXModCk/KGUuZWFjaCh0LGZ1bmN0aW9uKHQsZSl7YS5vZmYodCxuLGUpfSksYSk6KHMobil8fG8oaSl8fGk9PT0hMXx8KGk9bixuPXIpLGk9PT0hMSYmKGk9RSksYS5lYWNoKGZ1bmN0aW9uKCl7eCh0aGlzLHQsaSxuKX0pKX0sZS5mbi50cmlnZ2VyPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHQ9cyh0KXx8ZS5pc1BsYWluT2JqZWN0KHQpP2UuRXZlbnQodCk6VCh0KSx0Ll9hcmdzPW4sdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dC50eXBlIGluIGMmJlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiB0aGlzW3QudHlwZV0/dGhpc1t0LnR5cGVdKCk6XFxcImRpc3BhdGNoRXZlbnRcXFwiaW4gdGhpcz90aGlzLmRpc3BhdGNoRXZlbnQodCk6ZSh0aGlzKS50cmlnZ2VySGFuZGxlcih0LG4pfSl9LGUuZm4udHJpZ2dlckhhbmRsZXI9ZnVuY3Rpb24odCxuKXt2YXIgcixpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obyxhKXtyPVMocyh0KT9lLkV2ZW50KHQpOnQpLHIuX2FyZ3M9bixyLnRhcmdldD1hLGUuZWFjaChwKGEsdC50eXBlfHx0KSxmdW5jdGlvbih0LGUpe3JldHVybiBpPWUucHJveHkociksci5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpPyExOnZvaWQgMH0pfSksaX0sXFxcImZvY3VzaW4gZm9jdXNvdXQgZm9jdXMgYmx1ciBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvclxcXCIuc3BsaXQoXFxcIiBcXFwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIDAgaW4gYXJndW1lbnRzP3RoaXMuYmluZCh0LGUpOnRoaXMudHJpZ2dlcih0KX19KSxlLkV2ZW50PWZ1bmN0aW9uKHQsZSl7cyh0KXx8KGU9dCx0PWUudHlwZSk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQodVt0XXx8XFxcIkV2ZW50c1xcXCIpLHI9ITA7aWYoZSlmb3IodmFyIGkgaW4gZSlcXFwiYnViYmxlc1xcXCI9PWk/cj0hIWVbaV06bltpXT1lW2ldO3JldHVybiBuLmluaXRFdmVudCh0LHIsITApLFQobil9fShlKSxmdW5jdGlvbihlKXtmdW5jdGlvbiBwKHQsbixyKXt2YXIgaT1lLkV2ZW50KG4pO3JldHVybiBlKHQpLnRyaWdnZXIoaSxyKSwhaS5pc0RlZmF1bHRQcmV2ZW50ZWQoKX1mdW5jdGlvbiBkKHQsZSxuLGkpe3JldHVybiB0Lmdsb2JhbD9wKGV8fHIsbixpKTp2b2lkIDB9ZnVuY3Rpb24gbSh0KXt0Lmdsb2JhbCYmMD09PWUuYWN0aXZlKysmJmQodCxudWxsLFxcXCJhamF4U3RhcnRcXFwiKX1mdW5jdGlvbiBnKHQpe3QuZ2xvYmFsJiYhLS1lLmFjdGl2ZSYmZCh0LG51bGwsXFxcImFqYXhTdG9wXFxcIil9ZnVuY3Rpb24gdih0LGUpe3ZhciBuPWUuY29udGV4dDtyZXR1cm4gZS5iZWZvcmVTZW5kLmNhbGwobix0LGUpPT09ITF8fGQoZSxuLFxcXCJhamF4QmVmb3JlU2VuZFxcXCIsW3QsZV0pPT09ITE/ITE6dm9pZCBkKGUsbixcXFwiYWpheFNlbmRcXFwiLFt0LGVdKX1mdW5jdGlvbiB5KHQsZSxuLHIpe3ZhciBpPW4uY29udGV4dCxvPVxcXCJzdWNjZXNzXFxcIjtuLnN1Y2Nlc3MuY2FsbChpLHQsbyxlKSxyJiZyLnJlc29sdmVXaXRoKGksW3QsbyxlXSksZChuLGksXFxcImFqYXhTdWNjZXNzXFxcIixbZSxuLHRdKSxiKG8sZSxuKX1mdW5jdGlvbiB4KHQsZSxuLHIsaSl7dmFyIG89ci5jb250ZXh0O3IuZXJyb3IuY2FsbChvLG4sZSx0KSxpJiZpLnJlamVjdFdpdGgobyxbbixlLHRdKSxkKHIsbyxcXFwiYWpheEVycm9yXFxcIixbbixyLHR8fGVdKSxiKGUsbixyKX1mdW5jdGlvbiBiKHQsZSxuKXt2YXIgcj1uLmNvbnRleHQ7bi5jb21wbGV0ZS5jYWxsKHIsZSx0KSxkKG4scixcXFwiYWpheENvbXBsZXRlXFxcIixbZSxuXSksZyhuKX1mdW5jdGlvbiBFKHQsZSxuKXtpZihuLmRhdGFGaWx0ZXI9PWopcmV0dXJuIHQ7dmFyIHI9bi5jb250ZXh0O3JldHVybiBuLmRhdGFGaWx0ZXIuY2FsbChyLHQsZSl9ZnVuY3Rpb24gaigpe31mdW5jdGlvbiB3KHQpe3JldHVybiB0JiYodD10LnNwbGl0KFxcXCI7XFxcIiwyKVswXSksdCYmKHQ9PWM/XFxcImh0bWxcXFwiOnQ9PWY/XFxcImpzb25cXFwiOmEudGVzdCh0KT9cXFwic2NyaXB0XFxcIjp1LnRlc3QodCkmJlxcXCJ4bWxcXFwiKXx8XFxcInRleHRcXFwifWZ1bmN0aW9uIFQodCxlKXtyZXR1cm5cXFwiXFxcIj09ZT90Oih0K1xcXCImXFxcIitlKS5yZXBsYWNlKC9bJj9dezEsMn0vLFxcXCI/XFxcIil9ZnVuY3Rpb24gUyh0KXt0LnByb2Nlc3NEYXRhJiZ0LmRhdGEmJlxcXCJzdHJpbmdcXFwiIT1lLnR5cGUodC5kYXRhKSYmKHQuZGF0YT1lLnBhcmFtKHQuZGF0YSx0LnRyYWRpdGlvbmFsKSksIXQuZGF0YXx8dC50eXBlJiZcXFwiR0VUXFxcIiE9dC50eXBlLnRvVXBwZXJDYXNlKCkmJlxcXCJqc29ucFxcXCIhPXQuZGF0YVR5cGV8fCh0LnVybD1UKHQudXJsLHQuZGF0YSksdC5kYXRhPXZvaWQgMCl9ZnVuY3Rpb24gQyh0LG4scixpKXtyZXR1cm4gZS5pc0Z1bmN0aW9uKG4pJiYoaT1yLHI9bixuPXZvaWQgMCksZS5pc0Z1bmN0aW9uKHIpfHwoaT1yLHI9dm9pZCAwKSx7dXJsOnQsZGF0YTpuLHN1Y2Nlc3M6cixkYXRhVHlwZTppfX1mdW5jdGlvbiBPKHQsbixyLGkpe3ZhciBvLHM9ZS5pc0FycmF5KG4pLGE9ZS5pc1BsYWluT2JqZWN0KG4pO2UuZWFjaChuLGZ1bmN0aW9uKG4sdSl7bz1lLnR5cGUodSksaSYmKG49cj9pOmkrXFxcIltcXFwiKyhhfHxcXFwib2JqZWN0XFxcIj09b3x8XFxcImFycmF5XFxcIj09bz9uOlxcXCJcXFwiKStcXFwiXVxcXCIpLCFpJiZzP3QuYWRkKHUubmFtZSx1LnZhbHVlKTpcXFwiYXJyYXlcXFwiPT1vfHwhciYmXFxcIm9iamVjdFxcXCI9PW8/Tyh0LHUscixuKTp0LmFkZChuLHUpfSl9dmFyIGksbyxuPStuZXcgRGF0ZSxyPXQuZG9jdW1lbnQscz0vPHNjcmlwdFxcXFxiW148XSooPzooPyE8XFxcXC9zY3JpcHQ+KTxbXjxdKikqPFxcXFwvc2NyaXB0Pi9naSxhPS9eKD86dGV4dHxhcHBsaWNhdGlvbilcXFxcL2phdmFzY3JpcHQvaSx1PS9eKD86dGV4dHxhcHBsaWNhdGlvbilcXFxcL3htbC9pLGY9XFxcImFwcGxpY2F0aW9uL2pzb25cXFwiLGM9XFxcInRleHQvaHRtbFxcXCIsbD0vXlxcXFxzKiQvLGg9ci5jcmVhdGVFbGVtZW50KFxcXCJhXFxcIik7aC5ocmVmPXQubG9jYXRpb24uaHJlZixlLmFjdGl2ZT0wLGUuYWpheEpTT05QPWZ1bmN0aW9uKGksbyl7aWYoIShcXFwidHlwZVxcXCJpbiBpKSlyZXR1cm4gZS5hamF4KGkpO3ZhciBjLHAscz1pLmpzb25wQ2FsbGJhY2ssYT0oZS5pc0Z1bmN0aW9uKHMpP3MoKTpzKXx8XFxcIlplcHRvXFxcIituKyssdT1yLmNyZWF0ZUVsZW1lbnQoXFxcInNjcmlwdFxcXCIpLGY9dFthXSxsPWZ1bmN0aW9uKHQpe2UodSkudHJpZ2dlckhhbmRsZXIoXFxcImVycm9yXFxcIix0fHxcXFwiYWJvcnRcXFwiKX0saD17YWJvcnQ6bH07cmV0dXJuIG8mJm8ucHJvbWlzZShoKSxlKHUpLm9uKFxcXCJsb2FkIGVycm9yXFxcIixmdW5jdGlvbihuLHIpe2NsZWFyVGltZW91dChwKSxlKHUpLm9mZigpLnJlbW92ZSgpLFxcXCJlcnJvclxcXCIhPW4udHlwZSYmYz95KGNbMF0saCxpLG8pOngobnVsbCxyfHxcXFwiZXJyb3JcXFwiLGgsaSxvKSx0W2FdPWYsYyYmZS5pc0Z1bmN0aW9uKGYpJiZmKGNbMF0pLGY9Yz12b2lkIDB9KSx2KGgsaSk9PT0hMT8obChcXFwiYWJvcnRcXFwiKSxoKToodFthXT1mdW5jdGlvbigpe2M9YXJndW1lbnRzfSx1LnNyYz1pLnVybC5yZXBsYWNlKC9cXFxcPyguKyk9XFxcXD8vLFxcXCI/JDE9XFxcIithKSxyLmhlYWQuYXBwZW5kQ2hpbGQodSksaS50aW1lb3V0PjAmJihwPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtsKFxcXCJ0aW1lb3V0XFxcIil9LGkudGltZW91dCkpLGgpfSxlLmFqYXhTZXR0aW5ncz17dHlwZTpcXFwiR0VUXFxcIixiZWZvcmVTZW5kOmosc3VjY2VzczpqLGVycm9yOmosY29tcGxldGU6aixjb250ZXh0Om51bGwsZ2xvYmFsOiEwLHhocjpmdW5jdGlvbigpe3JldHVybiBuZXcgdC5YTUxIdHRwUmVxdWVzdH0sYWNjZXB0czp7c2NyaXB0OlxcXCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdFxcXCIsanNvbjpmLHhtbDpcXFwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFxcXCIsaHRtbDpjLHRleHQ6XFxcInRleHQvcGxhaW5cXFwifSxjcm9zc0RvbWFpbjohMSx0aW1lb3V0OjAscHJvY2Vzc0RhdGE6ITAsY2FjaGU6ITAsZGF0YUZpbHRlcjpqfSxlLmFqYXg9ZnVuY3Rpb24obil7dmFyIHUsZixzPWUuZXh0ZW5kKHt9LG58fHt9KSxhPWUuRGVmZXJyZWQmJmUuRGVmZXJyZWQoKTtmb3IoaSBpbiBlLmFqYXhTZXR0aW5ncyl2b2lkIDA9PT1zW2ldJiYoc1tpXT1lLmFqYXhTZXR0aW5nc1tpXSk7bShzKSxzLmNyb3NzRG9tYWlufHwodT1yLmNyZWF0ZUVsZW1lbnQoXFxcImFcXFwiKSx1LmhyZWY9cy51cmwsdS5ocmVmPXUuaHJlZixzLmNyb3NzRG9tYWluPWgucHJvdG9jb2wrXFxcIi8vXFxcIitoLmhvc3QhPXUucHJvdG9jb2wrXFxcIi8vXFxcIit1Lmhvc3QpLHMudXJsfHwocy51cmw9dC5sb2NhdGlvbi50b1N0cmluZygpKSwoZj1zLnVybC5pbmRleE9mKFxcXCIjXFxcIikpPi0xJiYocy51cmw9cy51cmwuc2xpY2UoMCxmKSksUyhzKTt2YXIgYz1zLmRhdGFUeXBlLHA9L1xcXFw/Lis9XFxcXD8vLnRlc3Qocy51cmwpO2lmKHAmJihjPVxcXCJqc29ucFxcXCIpLHMuY2FjaGUhPT0hMSYmKG4mJm4uY2FjaGU9PT0hMHx8XFxcInNjcmlwdFxcXCIhPWMmJlxcXCJqc29ucFxcXCIhPWMpfHwocy51cmw9VChzLnVybCxcXFwiXz1cXFwiK0RhdGUubm93KCkpKSxcXFwianNvbnBcXFwiPT1jKXJldHVybiBwfHwocy51cmw9VChzLnVybCxzLmpzb25wP3MuanNvbnArXFxcIj0/XFxcIjpzLmpzb25wPT09ITE/XFxcIlxcXCI6XFxcImNhbGxiYWNrPT9cXFwiKSksZS5hamF4SlNPTlAocyxhKTt2YXIgUCxkPXMuYWNjZXB0c1tjXSxnPXt9LGI9ZnVuY3Rpb24odCxlKXtnW3QudG9Mb3dlckNhc2UoKV09W3QsZV19LEM9L14oW1xcXFx3LV0rOilcXFxcL1xcXFwvLy50ZXN0KHMudXJsKT9SZWdFeHAuJDE6dC5sb2NhdGlvbi5wcm90b2NvbCxOPXMueGhyKCksTz1OLnNldFJlcXVlc3RIZWFkZXI7aWYoYSYmYS5wcm9taXNlKE4pLHMuY3Jvc3NEb21haW58fGIoXFxcIlgtUmVxdWVzdGVkLVdpdGhcXFwiLFxcXCJYTUxIdHRwUmVxdWVzdFxcXCIpLGIoXFxcIkFjY2VwdFxcXCIsZHx8XFxcIiovKlxcXCIpLChkPXMubWltZVR5cGV8fGQpJiYoZC5pbmRleE9mKFxcXCIsXFxcIik+LTEmJihkPWQuc3BsaXQoXFxcIixcXFwiLDIpWzBdKSxOLm92ZXJyaWRlTWltZVR5cGUmJk4ub3ZlcnJpZGVNaW1lVHlwZShkKSksKHMuY29udGVudFR5cGV8fHMuY29udGVudFR5cGUhPT0hMSYmcy5kYXRhJiZcXFwiR0VUXFxcIiE9cy50eXBlLnRvVXBwZXJDYXNlKCkpJiZiKFxcXCJDb250ZW50LVR5cGVcXFwiLHMuY29udGVudFR5cGV8fFxcXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcXFwiKSxzLmhlYWRlcnMpZm9yKG8gaW4gcy5oZWFkZXJzKWIobyxzLmhlYWRlcnNbb10pO2lmKE4uc2V0UmVxdWVzdEhlYWRlcj1iLE4ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09Ti5yZWFkeVN0YXRlKXtOLm9ucmVhZHlzdGF0ZWNoYW5nZT1qLGNsZWFyVGltZW91dChQKTt2YXIgdCxuPSExO2lmKE4uc3RhdHVzPj0yMDAmJk4uc3RhdHVzPDMwMHx8MzA0PT1OLnN0YXR1c3x8MD09Ti5zdGF0dXMmJlxcXCJmaWxlOlxcXCI9PUMpe2lmKGM9Y3x8dyhzLm1pbWVUeXBlfHxOLmdldFJlc3BvbnNlSGVhZGVyKFxcXCJjb250ZW50LXR5cGVcXFwiKSksXFxcImFycmF5YnVmZmVyXFxcIj09Ti5yZXNwb25zZVR5cGV8fFxcXCJibG9iXFxcIj09Ti5yZXNwb25zZVR5cGUpdD1OLnJlc3BvbnNlO2Vsc2V7dD1OLnJlc3BvbnNlVGV4dDt0cnl7dD1FKHQsYyxzKSxcXFwic2NyaXB0XFxcIj09Yz8oMSxldmFsKSh0KTpcXFwieG1sXFxcIj09Yz90PU4ucmVzcG9uc2VYTUw6XFxcImpzb25cXFwiPT1jJiYodD1sLnRlc3QodCk/bnVsbDplLnBhcnNlSlNPTih0KSl9Y2F0Y2gocil7bj1yfWlmKG4pcmV0dXJuIHgobixcXFwicGFyc2VyZXJyb3JcXFwiLE4scyxhKX15KHQsTixzLGEpfWVsc2UgeChOLnN0YXR1c1RleHR8fG51bGwsTi5zdGF0dXM/XFxcImVycm9yXFxcIjpcXFwiYWJvcnRcXFwiLE4scyxhKX19LHYoTixzKT09PSExKXJldHVybiBOLmFib3J0KCkseChudWxsLFxcXCJhYm9ydFxcXCIsTixzLGEpLE47dmFyIEE9XFxcImFzeW5jXFxcImluIHM/cy5hc3luYzohMDtpZihOLm9wZW4ocy50eXBlLHMudXJsLEEscy51c2VybmFtZSxzLnBhc3N3b3JkKSxzLnhockZpZWxkcylmb3IobyBpbiBzLnhockZpZWxkcylOW29dPXMueGhyRmllbGRzW29dO2ZvcihvIGluIGcpTy5hcHBseShOLGdbb10pO3JldHVybiBzLnRpbWVvdXQ+MCYmKFA9c2V0VGltZW91dChmdW5jdGlvbigpe04ub25yZWFkeXN0YXRlY2hhbmdlPWosTi5hYm9ydCgpLHgobnVsbCxcXFwidGltZW91dFxcXCIsTixzLGEpfSxzLnRpbWVvdXQpKSxOLnNlbmQocy5kYXRhP3MuZGF0YTpudWxsKSxOfSxlLmdldD1mdW5jdGlvbigpe3JldHVybiBlLmFqYXgoQy5hcHBseShudWxsLGFyZ3VtZW50cykpfSxlLnBvc3Q9ZnVuY3Rpb24oKXt2YXIgdD1DLmFwcGx5KG51bGwsYXJndW1lbnRzKTtyZXR1cm4gdC50eXBlPVxcXCJQT1NUXFxcIixlLmFqYXgodCl9LGUuZ2V0SlNPTj1mdW5jdGlvbigpe3ZhciB0PUMuYXBwbHkobnVsbCxhcmd1bWVudHMpO3JldHVybiB0LmRhdGFUeXBlPVxcXCJqc29uXFxcIixlLmFqYXgodCl9LGUuZm4ubG9hZD1mdW5jdGlvbih0LG4scil7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBhLGk9dGhpcyxvPXQuc3BsaXQoL1xcXFxzLyksdT1DKHQsbixyKSxmPXUuc3VjY2VzcztyZXR1cm4gby5sZW5ndGg+MSYmKHUudXJsPW9bMF0sYT1vWzFdKSx1LnN1Y2Nlc3M9ZnVuY3Rpb24odCl7aS5odG1sKGE/ZShcXFwiPGRpdj5cXFwiKS5odG1sKHQucmVwbGFjZShzLFxcXCJcXFwiKSkuZmluZChhKTp0KSxmJiZmLmFwcGx5KGksYXJndW1lbnRzKX0sZS5hamF4KHUpLHRoaXN9O3ZhciBOPWVuY29kZVVSSUNvbXBvbmVudDtlLnBhcmFtPWZ1bmN0aW9uKHQsbil7dmFyIHI9W107cmV0dXJuIHIuYWRkPWZ1bmN0aW9uKHQsbil7ZS5pc0Z1bmN0aW9uKG4pJiYobj1uKCkpLG51bGw9PW4mJihuPVxcXCJcXFwiKSx0aGlzLnB1c2goTih0KStcXFwiPVxcXCIrTihuKSl9LE8ocix0LG4pLHIuam9pbihcXFwiJlxcXCIpLnJlcGxhY2UoLyUyMC9nLFxcXCIrXFxcIil9fShlKSxmdW5jdGlvbih0KXt0LmZuLnNlcmlhbGl6ZUFycmF5PWZ1bmN0aW9uKCl7dmFyIGUsbixyPVtdLGk9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZm9yRWFjaD90LmZvckVhY2goaSk6dm9pZCByLnB1c2goe25hbWU6ZSx2YWx1ZTp0fSl9O3JldHVybiB0aGlzWzBdJiZ0LmVhY2godGhpc1swXS5lbGVtZW50cyxmdW5jdGlvbihyLG8pe249by50eXBlLGU9by5uYW1lLGUmJlxcXCJmaWVsZHNldFxcXCIhPW8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmIW8uZGlzYWJsZWQmJlxcXCJzdWJtaXRcXFwiIT1uJiZcXFwicmVzZXRcXFwiIT1uJiZcXFwiYnV0dG9uXFxcIiE9biYmXFxcImZpbGVcXFwiIT1uJiYoXFxcInJhZGlvXFxcIiE9biYmXFxcImNoZWNrYm94XFxcIiE9bnx8by5jaGVja2VkKSYmaSh0KG8pLnZhbCgpKX0pLHJ9LHQuZm4uc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuc2VyaWFsaXplQXJyYXkoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaChlbmNvZGVVUklDb21wb25lbnQoZS5uYW1lKStcXFwiPVxcXCIrZW5jb2RlVVJJQ29tcG9uZW50KGUudmFsdWUpKX0pLHQuam9pbihcXFwiJlxcXCIpfSx0LmZuLnN1Ym1pdD1mdW5jdGlvbihlKXtpZigwIGluIGFyZ3VtZW50cyl0aGlzLmJpbmQoXFxcInN1Ym1pdFxcXCIsZSk7ZWxzZSBpZih0aGlzLmxlbmd0aCl7dmFyIG49dC5FdmVudChcXFwic3VibWl0XFxcIik7dGhpcy5lcSgwKS50cmlnZ2VyKG4pLG4uaXNEZWZhdWx0UHJldmVudGVkKCl8fHRoaXMuZ2V0KDApLnN1Ym1pdCgpfXJldHVybiB0aGlzfX0oZSksZnVuY3Rpb24oKXt0cnl7Z2V0Q29tcHV0ZWRTdHlsZSh2b2lkIDApfWNhdGNoKGUpe3ZhciBuPWdldENvbXB1dGVkU3R5bGU7dC5nZXRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKHQsZSl7dHJ5e3JldHVybiBuKHQsZSl9Y2F0Y2gocil7cmV0dXJuIG51bGx9fX19KCksZX0pO1wiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcmF3LWxvYWRlciEuL25vZGVfbW9kdWxlcy96ZXB0by9kaXN0L3plcHRvLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImltcG9ydCBDM0QgZnJvbSAnLi9qcy9jc3MzZC5taW4nO1xuaW1wb3J0ICdzY3JpcHQtbG9hZGVyIXByZWxvYWRqcy9saWIvcHJlbG9hZGpzLm1pbic7XG5pbXBvcnQgJ3NjcmlwdC1sb2FkZXIhemVwdG8vZGlzdC96ZXB0by5taW4nO1xuXG5sb2FkTWFuaWZlc3QoKTtcblxuZnVuY3Rpb24gbG9hZE1hbmlmZXN0KCkge1xuICBjb25zdCBtYW5pZmVzdCA9IFtcbiAgICAvLyB7IHNyYzogcmVxdWlyZSgnLi4vaW1nL2ZpcnN0L2JhY2tncm91bmQuanBnJyksIGlkOiAncGFnZTFfYmFja2dyb3VuZCcgfSxcbiAgICAvLyB7IHNyYzogcmVxdWlyZSgnLi4vaW1nL2ZpcnN0L2J1dHRvbi5naWYnKSwgaWQ6ICdwYWdlMV9idXR0b24nIH0sXG4gICAgLy8geyBzcmM6IHJlcXVpcmUoJy4uL2ltZy9maXJzdC9jb3VwbGV0LWxlZnQucG5nJyksIGlkOiAncGFnZTFfY291cGxldC1sZWZ0JyB9LFxuICAgIC8vIHsgc3JjOiByZXF1aXJlKCcuLi9pbWcvZmlyc3QvY291cGxldC1yaWdodC5wbmcnKSwgaWQ6ICdwYWdlMV9jb3VwbGV0LXJpZ2h0JyB9LFxuICAgIC8vIHsgc3JjOiByZXF1aXJlKCcuLi9pbWcvZmlyc3Qvc2xvZ2VuLnBuZycpLCBpZDogJ3BhZ2UxX3Nsb2dlbicgfSxcbiAgICAvLyB7IHNyYzogcmVxdWlyZSgnLi4vaW1nL2ZpcnN0L3N0YWdlLmdpZicpLCBpZDogJ3BhZ2UxX3N0YWdlJyB9XG4gIF07XG5cbiAgY29uc3QgcXVldWUgPSBuZXcgY3JlYXRlanMuTG9hZFF1ZXVlKCk7XG4gIHF1ZXVlLm9uKCdwcm9ncmVzcycsICgpID0+IHtcbiAgICAvLyAkKCcjbG9hZGluZyAubG9hZGluZ19fY29udGVudF9fbnVtYmVyJykudGV4dCgocXVldWUucHJvZ3Jlc3MqMTAwfDApICsgJyUnKTtcbiAgICBjb25zb2xlLmxvZygocXVldWUucHJvZ3Jlc3MqMTAwfDApICsgJyUnKTtcbiAgfSk7XG4gIHF1ZXVlLm9uKCdjb21wbGV0ZScsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnbG9hZGluZyBjb21wbGV0ZScpO1xuICAgIHN0YXJ0KCk7XG4gIH0sIHRoaXMpO1xuICBxdWV1ZS5sb2FkTWFuaWZlc3QobWFuaWZlc3QpO1xufTtcblxuZnVuY3Rpb24gc3RhcnQoKSB7XG4gIGNvbnNvbGUubG9nKCd3d3d3JywgQzNEKTtcbiAgLy8g5Yib5bu65Zy65pmvXG4gIGNvbnN0IHN0YWdlID0gbmV3IEMzRC5TdGFnZSh7IGVsOiAkKCcjdGhyZWUnKVswXSB9KTtcbiAgc3RhZ2Uuc2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KS51cGRhdGUoKTtcblxuICAvLyDlrrnlmahcbiAgY29uc3Qgc3BNYWluID0gbmV3IEMzRC5TcHJpdGUoKTtcbiAgc3BNYWluLnBvc2l0aW9uKDAsIDAsIC02MDApLnVwZGF0ZSgpO1xuICBzdGFnZS5hZGRDaGlsZChzcE1haW4pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVkUGFub0JnKCkge1xuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYW50YS9pbmRleC5qcyIsIi8qIVxuICogVkVSU0lPTjogMC44LjRcbiAqIERBVEU6IDIwMTctMTAtMDlcbiAqIEdJVDogaHR0cHM6Ly9naXRodWIuY29tL3NocmVrc2hyZWsvY3NzM2QtZW5naW5lXG4gKiBAYXV0aG9yOiBTaHJlay53YW5nXG4gKiovXG5cbiFmdW5jdGlvbih0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV4cG9ydHNcIl0sZnVuY3Rpb24oaSl7d2luZG93LkMzRD10KGkpfSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHM/dChleHBvcnRzKTp3aW5kb3cuQzNEPXQoe30pfShmdW5jdGlvbih0KXtmdW5jdGlvbiBpKHQpe3JldHVybiBNYXRoLnJvdW5kKHQpfWZ1bmN0aW9uIGUodCl7cmV0dXJuIE1hdGgucm91bmQoMTAwKnQpLzEwMH1mdW5jdGlvbiBzKHQpe3JldHVybiB0LnJlcGxhY2UoL1xcYihcXHcpfFxccyhcXHcpL2csZnVuY3Rpb24odCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0pfWZ1bmN0aW9uIG4oaSl7dmFyIGU7c3dpdGNoKGkudHlwZSl7Y2FzZVwic3ByaXRlXCI6ZT1uZXcgdC5TcHJpdGUoaS5lbD97ZWw6aS5lbH06dm9pZCAwKTticmVhaztjYXNlXCJwbGFuZVwiOmU9bmV3IHQuUGxhbmUoaS5lbD97ZWw6aS5lbH06dm9pZCAwKTticmVhaztjYXNlXCJib3hcIjplPW5ldyB0LkJveChpLmVsP3tlbDppLmVsfTp2b2lkIDApO2JyZWFrO2Nhc2VcInNreWJveFwiOmU9bmV3IHQuU2t5Ym94KGkuZWw/e2VsOmkuZWx9OnZvaWQgMCl9aWYodm9pZCAwIT1pLnNpemUmJmUuc2l6ZS5hcHBseShlLGkuc2l6ZSksdm9pZCAwIT1pLnBvc2l0aW9uJiZlLnBvc2l0aW9uLmFwcGx5KGUsaS5wb3NpdGlvbiksdm9pZCAwIT1pLnJvdGF0aW9uJiZlLnJvdGF0aW9uLmFwcGx5KGUsaS5yb3RhdGlvbiksdm9pZCAwIT1pLnNjYWxlJiZlLnNjYWxlLmFwcGx5KGUsaS5zY2FsZSksdm9pZCAwIT1pLm9yaWdpbiYmZS5vcmlnaW4uYXBwbHkoZSxpLm9yaWdpbiksdm9pZCAwIT1pLnZpc2liaWxpdHkmJmUudmlzaWJpbGl0eS5hcHBseShlLGkudmlzaWJpbGl0eSksdm9pZCAwIT1pLm1hdGVyaWFsJiZlLm1hdGVyaWFsLmFwcGx5KGUsaS5tYXRlcmlhbCksdm9pZCAwIT1pLmZpbHRlciYmZS5maWx0ZXIuYXBwbHkoZSxpLmZpbHRlciksdm9pZCAwIT1pLm5hbWUmJmUubmFtZS5hcHBseShlLFtpLm5hbWVdKSx2b2lkIDAhPWkuaWQmJmUuaWQuYXBwbHkoZSxbaS5pZF0pLHZvaWQgMCE9aVtcImNsYXNzXCJdJiZlW1wiY2xhc3NcIl0uYXBwbHkoZSxbaVtcImNsYXNzXCJdXSksZS51cGRhdGUoKSxpLmNoaWxkcmVuKWZvcih2YXIgcz0wLHI9aS5jaGlsZHJlbi5sZW5ndGg7cj5zO3MrKyl7dmFyIGg9aS5jaGlsZHJlbltzXSxhPW4oaCk7ZS5hZGRDaGlsZChhKX1yZXR1cm4gZX12YXIgcj1mdW5jdGlvbih0LGkpe3ZhciBlLHM9dGhpcztlPXQmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiY29uc3RydWN0b3JcIik/dC5jb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3JldHVybiBzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sT2JqZWN0LmFzc2lnbihlLHMsaSk7dmFyIG49ZnVuY3Rpb24oKXt0aGlzLmNvbnN0cnVjdG9yPWV9O3JldHVybiBuLnByb3RvdHlwZT1zLnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgbix0JiZPYmplY3QuYXNzaWduKGUucHJvdG90eXBlLHQpLGUuX19zdXBlcl9fPXMucHJvdG90eXBlLGV9LGg9XCJcIjtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGk9W1wiV2Via2l0XCIsXCJNb3pcIixcIk1zXCIsXCJPXCJdO2Zvcih2YXIgZSBpbiBpKWlmKGlbZV0rXCJUcmFuc2Zvcm1cImluIHQuc3R5bGUpe2g9aVtlXTticmVha319KCksdC5nZXRSYW5kb21Db2xvcj1mdW5jdGlvbigpe3JldHVyblwiI1wiKyhcIjAwMDAwXCIrKDE2Nzc3MjE2Kk1hdGgucmFuZG9tKCk8PDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpfSx0LnJnYjJoZXg9ZnVuY3Rpb24odCxpLGUpe3JldHVybih0PDwxNnxpPDw4fGUpLnRvU3RyaW5nKDE2KX0sdC5oZXgycmdiPWZ1bmN0aW9uKHQpe3ZhciBpPU1hdGguZmxvb3IoXCIweFwiK3QpLGU9aT4+MTYmMjU1LHM9aT4+OCYyNTUsbj0yNTUmaTtyZXR1cm5bZSxzLG5dfSx0Lk9iamVjdD1mdW5jdGlvbigpe3RoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LE9iamVjdC5hc3NpZ24odC5PYmplY3QucHJvdG90eXBlLHt4OjAseTowLHo6MCxwb3NpdGlvbjpmdW5jdGlvbih0LGksZSl7aWYodm9pZCAwPT10KXRocm93XCJwb3NpdGlvbiBhcmd1bWVudHMgaXMgd3JvbmchXCI7cmV0dXJuIHRoaXMueD10LHRoaXMueT12b2lkIDA9PWk/dDppLHRoaXMuej12b2lkIDA9PWU/dDplLHRoaXN9LG1vdmU6ZnVuY3Rpb24odCxpLGUpe2lmKHZvaWQgMD09dCl0aHJvd1wibW92ZSBhcmd1bWVudHMgaXMgd3JvbmchXCI7cmV0dXJuIHRoaXMueCs9dCx0aGlzLnkrPXZvaWQgMD09aT90OmksdGhpcy56Kz12b2lkIDA9PWU/dDplLHRoaXN9LHJvdGF0aW9uWDowLHJvdGF0aW9uWTowLHJvdGF0aW9uWjowLHJvdGF0aW9uOmZ1bmN0aW9uKHQsaSxlKXtpZih2b2lkIDA9PXQpdGhyb3dcInJvdGF0aW9uIGFyZ3VtZW50cyBpcyB3cm9uZyFcIjtyZXR1cm4gdGhpcy5yb3RhdGlvblg9dCx0aGlzLnJvdGF0aW9uWT12b2lkIDA9PWk/dDppLHRoaXMucm90YXRpb25aPXZvaWQgMD09ZT90OmUsdGhpc30scm90YXRlOmZ1bmN0aW9uKHQsaSxlKXtpZih2b2lkIDA9PXQpdGhyb3dcInJvdGF0ZSBhcmd1bWVudHMgaXMgd3JvbmchXCI7cmV0dXJuIHRoaXMucm90YXRpb25YKz10LHRoaXMucm90YXRpb25ZKz12b2lkIDA9PWk/dDppLHRoaXMucm90YXRpb25aKz12b2lkIDA9PWU/dDplLHRoaXN9LHNjYWxlWDoxLHNjYWxlWToxLHNjYWxlWjoxLHNjYWxlOmZ1bmN0aW9uKHQsaSxlKXtpZih2b2lkIDA9PXQpdGhyb3dcInNjYWxlIGFyZ3VtZW50cyBpcyB3cm9uZyFcIjtyZXR1cm4gdGhpcy5zY2FsZVg9dCx0aGlzLnNjYWxlWT12b2lkIDA9PWk/dDppLHRoaXMuc2NhbGVaPXZvaWQgMD09ZT90OmUsdGhpc30sd2lkdGg6MCxoZWlnaHQ6MCxkZXB0aDowLHNpemU6ZnVuY3Rpb24odCxpLGUpe2lmKHZvaWQgMD09dCl0aHJvd1wic2l6ZSBhcmd1bWVudHMgaXMgd3JvbmchXCI7cmV0dXJuIHRoaXMud2lkdGg9dCx0aGlzLmhlaWdodD12b2lkIDA9PWk/dDppLHRoaXMuZGVwdGg9dm9pZCAwPT1lP3Q6ZSx0aGlzfSxvcmlnaW5YOjAsb3JpZ2luWTowLG9yaWdpblo6MCxfX29yZ086e3g6MCx5OjAsejowfSxfX29yZ1Q6e3g6MCx5OjAsejowfSxfX29yZ0Y6e3g6MCx5OjAsejowfSxvcmlnaW46ZnVuY3Rpb24odCxpLGUpe2lmKHZvaWQgMD09dCl0aHJvd1wic2l6ZSBhcmd1bWVudHMgaXMgd3JvbmchXCI7cmV0dXJuIHRoaXMub3JpZ2luWD10LHRoaXMub3JpZ2luWT12b2lkIDA9PWk/dDppLHRoaXMub3JpZ2luWj12b2lkIDA9PWU/dDplLHRoaXN9LF9fc29ydDpbXCJYXCIsXCJZXCIsXCJaXCJdLHNvcnQ6ZnVuY3Rpb24odCxpLGUpe2lmKGFyZ3VtZW50cy5sZW5ndGg+Myl0aHJvd1wic29ydCBhcmd1bWVudHMgaXMgd3JvbmchXCI7cmV0dXJuIHRoaXMuX19zb3J0PVt0LGksZV0sdGhpc30saW5pdGlhbGl6ZTpmdW5jdGlvbigpe3RoaXMueD0wLHRoaXMueT0wLHRoaXMuej0wLHRoaXMucm90YXRpb25YPTAsdGhpcy5yb3RhdGlvblk9MCx0aGlzLnJvdGF0aW9uWj0wLHRoaXMuc2NhbGVYPTEsdGhpcy5zY2FsZVk9MSx0aGlzLnNjYWxlWj0xLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuZGVwdGg9MCx0aGlzLm9yaWdpblg9XCI1MCVcIix0aGlzLm9yaWdpblk9XCI1MCVcIix0aGlzLm9yaWdpblo9XCIwcHhcIix0aGlzLl9fb3JnTz17eDpcIjUwJVwiLHk6XCI1MCVcIix6OlwiMHB4XCJ9LHRoaXMuX19vcmdUPXt4OlwiLTUwJVwiLHk6XCItNTAlXCIsejpcIjBweFwifSx0aGlzLl9fb3JnRj17eDowLHk6MCx6OjB9LHRoaXMuY2hpbGRyZW49W119LHBhcmVudDpudWxsLGNoaWxkcmVuOm51bGwsYWRkQ2hpbGQ6ZnVuY3Rpb24odCl7aWYobnVsbCE9dC5wYXJlbnQmJnQucGFyZW50LnJlbW92ZUNoaWxkKHQpLFwiXCIhPXQuX19uYW1lKXtpZih2b2lkIDAhPT10aGlzW3QuX19uYW1lXSl0aHJvdyB0Ll9fbmFtZStcIiBhbHJlYWR5IGV4aXN0IVwiO3RoaXNbdC5fX25hbWVdPXR9cmV0dXJuIHRoaXMuY2hpbGRyZW4ucHVzaCh0KSx0LnBhcmVudD10aGlzLHRoaXN9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaT10aGlzLmNoaWxkcmVuLmxlbmd0aC0xO2k+PTA7aS0tKWlmKHRoaXMuY2hpbGRyZW5baV09PT10KXJldHVyblwiXCIhPXQuX19uYW1lJiZkZWxldGUgdGhpc1t0Ll9fbmFtZV0sdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwxKSx0LnBhcmVudD1udWxsLHRoaXM7cmV0dXJuIHRoaXN9LHJlbW92ZUFsbENoaWxkOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuY2hpbGRyZW4ubGVuZ3RoLTE7dD49MDt0LS0pe3ZhciBpPXRoaXMuY2hpbGRyZW5bdF07XCJcIiE9aS5fX25hbWUmJmRlbGV0ZSB0aGlzW2kuX19uYW1lXSxpLnBhcmVudD1udWxsfXJldHVybiB0aGlzLmNoaWxkcmVuPVtdLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyksdGhpc319KSx0Lk9iamVjdC5leHRlbmQ9cix0LlNwcml0ZT10Lk9iamVjdC5leHRlbmQoe2VsOm51bGwsYWxwaGE6MSx2aXNpYmxlOiEwLGluaXRpYWxpemU6ZnVuY3Rpb24oaSl7dC5TcHJpdGUuX19zdXBlcl9fLmluaXRpYWxpemUuYXBwbHkodGhpcyxbaV0pLHRoaXMuX19uYW1lPVwiXCIsdGhpcy5fX2lkPVwiXCIsdGhpcy5fX2NsYXNzPVwiXCIsdGhpcy5hbHBoYT0xLHRoaXMudmlzaWJsZT0hMDt2YXIgZTtpZihpJiZpLmVsKXN3aXRjaCh0eXBlb2YgaS5lbCl7Y2FzZVwic3RyaW5nXCI6ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGUuaW5uZXJIVE1MPWkuZWw7YnJlYWs7Y2FzZVwib2JqZWN0XCI6MT09PWkuZWwubm9kZVR5cGUmJihlPWkuZWwpfWV8fChlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLGUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuc3R5bGVbaCtcIlRyYW5zZm9ybVwiXT1cInRyYW5zbGF0ZVooMHB4KVwiLGUuc3R5bGVbaCtcIlRyYW5zZm9ybVN0eWxlXCJdPVwicHJlc2VydmUtM2RcIix0aGlzLmVsPWUsZS5sZT10aGlzfSxfX25hbWU6XCJcIixuYW1lOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fbmFtZT10LFwiXCI9PXQ/ZGVsZXRlIHRoaXMuZWwuZGF0YXNldC5uYW1lOnRoaXMuZWwuZGF0YXNldC5uYW1lPXQsdGhpc30sX19pZDpcIlwiLGlkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9faWQ9dCx0aGlzLmVsLmlkPXQsdGhpc30sX19jbGFzczpcIlwiLFwiY2xhc3NcIjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2NsYXNzPXQsdGhpcy5lbC5jbGFzc05hbWU9dCx0aGlzfSx1cGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cGRhdGVTKCksdGhpcy51cGRhdGVNKCksdGhpcy51cGRhdGVPKCksdGhpcy51cGRhdGVUKCksdGhpcy51cGRhdGVWKCksdGhpc30sdXBkYXRlUzpmdW5jdGlvbigpe3JldHVybiB0aGlzfSx1cGRhdGVNOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX19tYXQpcmV0dXJuIHRoaXM7Zm9yKHZhciB0IGluIHRoaXMuX19tYXQpc3dpdGNoKHQpe2Nhc2VcImJvdGhzaWRlc1wiOnRoaXMuZWwuc3R5bGVbaCtcIkJhY2tmYWNlVmlzaWJpbGl0eVwiXT10aGlzLl9fbWF0W3RdP1widmlzaWJsZVwiOlwiaGlkZGVuXCI7YnJlYWs7Y2FzZVwiaW1hZ2VcIjp0aGlzLmVsLnN0eWxlW1wiYmFja2dyb3VuZFwiK3ModCldPVwiXCIhPT10aGlzLl9fbWF0W3RdP1widXJsKFwiK3RoaXMuX19tYXRbdF0rXCIpXCI6XCJcIjticmVhaztkZWZhdWx0OnRoaXMuZWwuc3R5bGVbXCJiYWNrZ3JvdW5kXCIrcyh0KV09dGhpcy5fX21hdFt0XX1yZXR1cm4gdGhpc30sdXBkYXRlTzpmdW5jdGlvbigpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLm9yaWdpblgpe3ZhciB0PWkodGhpcy5vcmlnaW5YLXRoaXMuX19vcmdGLngpO3RoaXMuX19vcmdPLng9dCtcInB4XCIsdGhpcy5fX29yZ1QueD0tdCtcInB4XCJ9ZWxzZSB0aGlzLl9fb3JnTy54PXRoaXMub3JpZ2luWCx0aGlzLl9fb3JnVC54PVwiLVwiK3RoaXMub3JpZ2luWDtpZihcIm51bWJlclwiPT10eXBlb2YgdGhpcy5vcmlnaW5ZKXt2YXIgZT1pKHRoaXMub3JpZ2luWS10aGlzLl9fb3JnRi55KTt0aGlzLl9fb3JnTy55PWUrXCJweFwiLHRoaXMuX19vcmdULnk9LWUrXCJweFwifWVsc2UgdGhpcy5fX29yZ08ueT10aGlzLm9yaWdpblksdGhpcy5fX29yZ1QueT1cIi1cIit0aGlzLm9yaWdpblk7aWYoXCJudW1iZXJcIj09dHlwZW9mIHRoaXMub3JpZ2luWil7dmFyIHM9aSh0aGlzLm9yaWdpblotdGhpcy5fX29yZ0Yueik7dGhpcy5fX29yZ08uej1zK1wicHhcIix0aGlzLl9fb3JnVC56PS1zK1wicHhcIn1lbHNlIHRoaXMuX19vcmdPLno9dGhpcy5fX29yZ1Quej1cIjBweFwiO3JldHVybiB0aGlzLmVsLnN0eWxlW2grXCJUcmFuc2Zvcm1PcmlnaW5cIl09dGhpcy5fX29yZ08ueCtcIiBcIit0aGlzLl9fb3JnTy55K1wiIFwiK3RoaXMuX19vcmdPLnosdGhpc30sdXBkYXRlVDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX19zb3J0WzBdLGk9dGhpcy5fX3NvcnRbMV0scz10aGlzLl9fc29ydFsyXTtyZXR1cm4gdGhpcy5lbC5zdHlsZVtoK1wiVHJhbnNmb3JtXCJdPVwidHJhbnNsYXRlM2QoXCIrdGhpcy5fX29yZ1QueCtcIiwgXCIrdGhpcy5fX29yZ1QueStcIiwgXCIrdGhpcy5fX29yZ1QueitcIikgdHJhbnNsYXRlM2QoXCIrZSh0aGlzLngpK1wicHgsXCIrZSh0aGlzLnkpK1wicHgsXCIrZSh0aGlzLnopK1wicHgpIHJvdGF0ZVwiK3QrXCIoXCIrZSh0aGlzW1wicm90YXRpb25cIit0XSklMzYwK1wiZGVnKSByb3RhdGVcIitpK1wiKFwiK2UodGhpc1tcInJvdGF0aW9uXCIraV0pJTM2MCtcImRlZykgcm90YXRlXCIrcytcIihcIitlKHRoaXNbXCJyb3RhdGlvblwiK3NdKSUzNjArXCJkZWcpIHNjYWxlM2QoXCIrZSh0aGlzLnNjYWxlWCkrXCIsIFwiK2UodGhpcy5zY2FsZVkpK1wiLCBcIitlKHRoaXMuc2NhbGVaKStcIikgXCIsdGhpc30sdXBkYXRlVjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsLnN0eWxlLm9wYWNpdHk9dGhpcy5hbHBoYSx0aGlzLmVsLnN0eWxlLmRpc3BsYXk9dGhpcy52aXNpYmxlP1wiYmxvY2tcIjpcIm5vbmVcIix0aGlzfSxhZGRDaGlsZDpmdW5jdGlvbihpKXtyZXR1cm4gdC5TcHJpdGUuX19zdXBlcl9fLmFkZENoaWxkLmFwcGx5KHRoaXMsW2ldKSx0aGlzLmVsJiZpLmVsJiZ0aGlzLmVsLmFwcGVuZENoaWxkKGkuZWwpLHRoaXN9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaT10aGlzLmNoaWxkcmVuLmxlbmd0aC0xO2k+PTA7aS0tKWlmKHRoaXMuY2hpbGRyZW5baV09PT10KXJldHVyblwiXCIhPXQuX19uYW1lJiZkZWxldGUgdGhpc1t0Ll9fbmFtZV0sdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwxKSx0LnBhcmVudD1udWxsLHRoaXMuZWwucmVtb3ZlQ2hpbGQodC5lbCksdGhpcztyZXR1cm4gdGhpc30scmVtb3ZlQWxsQ2hpbGQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5jaGlsZHJlbi5sZW5ndGgtMTt0Pj0wO3QtLSl7dmFyIGk9dGhpcy5jaGlsZHJlblt0XTtcIlwiIT1pLl9fbmFtZSYmZGVsZXRlIHRoaXNbaS5fX25hbWVdLGkucGFyZW50PW51bGwsdGhpcy5lbC5yZW1vdmVDaGlsZChpLmVsKX1yZXR1cm4gdGhpcy5jaGlsZHJlbj1bXSx0aGlzfSxvbjpmdW5jdGlvbih0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgdClmb3IodmFyIGkgaW4gdCl0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoaSx0W2ldLCExKTtlbHNlIDI9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdLCExKTozPT09YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKGFyZ3VtZW50c1swXSxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKTtyZXR1cm4gdGhpc30sb2ZmOmZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KWZvcih2YXIgaSBpbiB0KXRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLHRbaV0sITEpO2Vsc2UgMj09PWFyZ3VtZW50cy5sZW5ndGgmJnRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdLCExKTtyZXR1cm4gdGhpc30sYnV0dG9uTW9kZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lbC5zdHlsZS5jdXJzb3I9dD9cInBvaW50ZXJcIjpcImF1dG9cIix0aGlzfSxfX21hdDpudWxsLG1hdGVyaWFsOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fbWF0PXQsdGhpc30sdmlzaWJpbGl0eTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dC52aXNpYmxlJiYodGhpcy52aXNpYmxlPXQudmlzaWJsZSksdm9pZCAwIT09dC5hbHBoYSYmKHRoaXMuYWxwaGE9dC5hbHBoYSksdGhpc319KSx0LlN0YWdlPXQuU3ByaXRlLmV4dGVuZCh7Y2FtZXJhOm51bGwsZm92Om51bGwsX19yZml4Om51bGwsX19wZml4Om51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbihpKXt0LlN0YWdlLl9fc3VwZXJfXy5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2ldKSxpJiZpLmVsfHwodGhpcy5lbC5zdHlsZS50b3A9XCIwcHhcIix0aGlzLmVsLnN0eWxlLmxlZnQ9XCIwcHhcIix0aGlzLmVsLnN0eWxlLndpZHRoPVwiMHB4XCIsdGhpcy5lbC5zdHlsZS5oZWlnaHQ9XCIwcHhcIiksdGhpcy5lbC5zdHlsZVtoK1wiUGVyc3BlY3RpdmVcIl09XCI4MDBweFwiLHRoaXMuZWwuc3R5bGVbaCtcIlRyYW5zZm9ybVN0eWxlXCJdPVwiZmxhdFwiLHRoaXMuZWwuc3R5bGVbaCtcIlRyYW5zZm9ybVwiXT1cIlwiLHRoaXMuZWwuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIix0aGlzLl9fcmZpeD1uZXcgdC5TcHJpdGUsdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLl9fcmZpeC5lbCksdGhpcy5fX3BmaXg9bmV3IHQuU3ByaXRlLHRoaXMuX19yZml4LmVsLmFwcGVuZENoaWxkKHRoaXMuX19wZml4LmVsKSx0aGlzLnNldENhbWVyYShuZXcgdC5DYW1lcmEpfSx1cGRhdGVTOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWwuc3R5bGUud2lkdGg9aSh0aGlzLndpZHRoKStcInB4XCIsdGhpcy5lbC5zdHlsZS5oZWlnaHQ9aSh0aGlzLmhlaWdodCkrXCJweFwiLHRoaXN9LHVwZGF0ZVQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb3Y9aSguNS9NYXRoLnRhbiguNSp0aGlzLmNhbWVyYS5mb3YvMTgwKk1hdGguUEkpKnRoaXMuaGVpZ2h0KSx0aGlzLmVsLnN0eWxlW2grXCJQZXJzcGVjdGl2ZVwiXT10aGlzLmZvditcInB4XCIsdGhpcy5fX3JmaXgucG9zaXRpb24oaSh0aGlzLndpZHRoLzIpLGkodGhpcy5oZWlnaHQvMiksdGhpcy5mb3YpLnJvdGF0aW9uKC10aGlzLmNhbWVyYS5yb3RhdGlvblgsLXRoaXMuY2FtZXJhLnJvdGF0aW9uWSwtdGhpcy5jYW1lcmEucm90YXRpb25aKS51cGRhdGVUKCksdGhpcy5fX3BmaXgucG9zaXRpb24oLXRoaXMuY2FtZXJhLngsLXRoaXMuY2FtZXJhLnksLXRoaXMuY2FtZXJhLnopLnVwZGF0ZVQoKSx0aGlzfSxhZGRDaGlsZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX3BmaXguYWRkQ2hpbGQodCksdGhpc30scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19wZml4LnJlbW92ZUNoaWxkKHQpLHRoaXN9LHJlbW92ZUFsbENoaWxkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19wZml4LnJlbW92ZUFsbENoaWxkKCksdGhpc30sc2V0Q2FtZXJhOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhbWVyYSYmKHRoaXMuY2FtZXJhLnN0YWdlPW51bGwpLHRoaXMuY2FtZXJhPXQsdGhpcy5jYW1lcmEuc3RhZ2U9dGhpcyx0aGlzfX0pLHQuQ2FtZXJhPXQuT2JqZWN0LmV4dGVuZCh7Zm92Om51bGwsc3RhZ2U6bnVsbCxpbml0aWFsaXplOmZ1bmN0aW9uKGkpe3QuQ2FtZXJhLl9fc3VwZXJfXy5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2ldKSx0aGlzLmZvdj03NX0sdXBkYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlVCgpLHRoaXN9LHVwZGF0ZVM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdXBkYXRlTTpmdW5jdGlvbigpe3JldHVybiB0aGlzfSx1cGRhdGVUOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhZ2UmJnRoaXMuc3RhZ2UudXBkYXRlVCgpLHRoaXN9LHVwZGF0ZVY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KSx0LlBsYW5lPXQuU3ByaXRlLmV4dGVuZCh7aW5pdGlhbGl6ZTpmdW5jdGlvbihpKXt0LlBsYW5lLl9fc3VwZXJfXy5pbml0aWFsaXplLmFwcGx5KHRoaXMsW2ldKX0sdXBkYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHQuUGxhbmUuX19zdXBlcl9fLnVwZGF0ZS5hcHBseSh0aGlzKSx0aGlzLnVwZGF0ZUYoKSx0aGlzfSx1cGRhdGVTOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWwuc3R5bGUud2lkdGg9aSh0aGlzLndpZHRoKStcInB4XCIsdGhpcy5lbC5zdHlsZS5oZWlnaHQ9aSh0aGlzLmhlaWdodCkrXCJweFwiLHRoaXN9LHVwZGF0ZUY6ZnVuY3Rpb24oKXtpZighdGhpcy5fX2ZsdClyZXR1cm4gdGhpczt2YXIgdD1cIlwiO2Zvcih2YXIgaSBpbiB0aGlzLl9fZmx0KXQrPVwiXCIhPT10aGlzLl9fZmx0W2ldP2krXCIoXCIrdGhpcy5fX2ZsdFtpXS5qb2luKFwiLFwiKStcIilcIjpcIlwiO3JldHVyblwiXCIhPT10JiYodGhpcy5lbC5zdHlsZVtoK1wiRmlsdGVyXCJdPXQpLHRoaXN9LF9fZmx0Om51bGwsZmlsdGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZmx0PXQsdGhpc319KSx0LkJveD10LlNwcml0ZS5leHRlbmQoe2Zyb250Om51bGwsYmFjazpudWxsLGxlZnQ6bnVsbCxyaWdodDpudWxsLHVwOm51bGwsZG93bjpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oaSl7dC5Cb3guX19zdXBlcl9fLmluaXRpYWxpemUuYXBwbHkodGhpcyxbaV0pLHRoaXMuZnJvbnQ9bmV3IHQuUGxhbmUsdGhpcy5mcm9udC5uYW1lPVwiZnJvbnRcIix0aGlzLmFkZENoaWxkKHRoaXMuZnJvbnQpLHRoaXMuYmFjaz1uZXcgdC5QbGFuZSx0aGlzLmJhY2submFtZT1cImJhY2tcIix0aGlzLmFkZENoaWxkKHRoaXMuYmFjayksdGhpcy5sZWZ0PW5ldyB0LlBsYW5lLHRoaXMubGVmdC5uYW1lPVwibGVmdFwiLHRoaXMuYWRkQ2hpbGQodGhpcy5sZWZ0KSx0aGlzLnJpZ2h0PW5ldyB0LlBsYW5lLHRoaXMucmlnaHQubmFtZT1cInJpZ2h0XCIsdGhpcy5hZGRDaGlsZCh0aGlzLnJpZ2h0KSx0aGlzLnVwPW5ldyB0LlBsYW5lLHRoaXMudXAubmFtZT1cInVwXCIsdGhpcy5hZGRDaGlsZCh0aGlzLnVwKSx0aGlzLmRvd249bmV3IHQuUGxhbmUsdGhpcy5kb3duLm5hbWU9XCJkb3duXCIsdGhpcy5hZGRDaGlsZCh0aGlzLmRvd24pfSx1cGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5Cb3guX19zdXBlcl9fLnVwZGF0ZS5hcHBseSh0aGlzKSx0aGlzLnVwZGF0ZUYoKSx0aGlzfSx1cGRhdGVTOmZ1bmN0aW9uKCl7dmFyIHQ9aSh0aGlzLndpZHRoKSxlPWkodGhpcy5oZWlnaHQpLHM9aSh0aGlzLmRlcHRoKTtyZXR1cm4gdGhpcy5fX29yZ0YueD10aGlzLndpZHRoLzIsdGhpcy5fX29yZ0YueT10aGlzLmhlaWdodC8yLHRoaXMuX19vcmdGLno9dGhpcy5kZXB0aC8yLHRoaXMuZnJvbnQuc2l6ZSh0LGUsMCkucG9zaXRpb24oMCwwLHMvMikucm90YXRpb24oMCwwLDApLnVwZGF0ZVMoKS51cGRhdGVUKCksdGhpcy5iYWNrLnNpemUodCxlLDApLnBvc2l0aW9uKDAsMCwtcy8yKS5yb3RhdGlvbigwLDE4MCwwKS51cGRhdGVTKCkudXBkYXRlVCgpLHRoaXMubGVmdC5zaXplKHMsZSwwKS5wb3NpdGlvbigtdC8yLDAsMCkucm90YXRpb24oMCwtOTAsMCkudXBkYXRlUygpLnVwZGF0ZVQoKSx0aGlzLnJpZ2h0LnNpemUocyxlLDApLnBvc2l0aW9uKHQvMiwwLDApLnJvdGF0aW9uKDAsOTAsMCkudXBkYXRlUygpLnVwZGF0ZVQoKSx0aGlzLnVwLnNpemUodCxzLDApLnBvc2l0aW9uKDAsLWUvMiwwKS5yb3RhdGlvbig5MCwwLDApLnVwZGF0ZVMoKS51cGRhdGVUKCksdGhpcy5kb3duLnNpemUodCxzLDApLnBvc2l0aW9uKDAsZS8yLDApLnJvdGF0aW9uKC05MCwwLDApLnVwZGF0ZVMoKS51cGRhdGVUKCksdGhpc30sdXBkYXRlTTpmdW5jdGlvbigpe2lmKCF0aGlzLl9fbWF0KXJldHVybiB0aGlzO3ZhciB0PSEwO2Zvcih2YXIgaSBpbiB0aGlzLl9fbWF0KXN3aXRjaChpKXtjYXNlXCJmcm9udFwiOmNhc2VcImJhY2tcIjpjYXNlXCJsZWZ0XCI6Y2FzZVwicmlnaHRcIjpjYXNlXCJ1cFwiOmNhc2VcImRvd25cIjp2b2lkIDA9PXRoaXMuX19tYXRbaV0uYm90aHNpZGVzJiYodGhpcy5fX21hdFtpXS5ib3Roc2lkZXM9ITEpLHRoaXNbaV0ubWF0ZXJpYWwodGhpcy5fX21hdFtpXSkudXBkYXRlTSgpLHQ9ITF9cmV0dXJuIHQmJih2b2lkIDA9PXRoaXMuX19tYXQuYm90aHNpZGVzJiYodGhpcy5fX21hdC5ib3Roc2lkZXM9ITEpLHRoaXMuZnJvbnQubWF0ZXJpYWwodGhpcy5fX21hdCkudXBkYXRlTSgpLHRoaXMuYmFjay5tYXRlcmlhbCh0aGlzLl9fbWF0KS51cGRhdGVNKCksdGhpcy5sZWZ0Lm1hdGVyaWFsKHRoaXMuX19tYXQpLnVwZGF0ZU0oKSx0aGlzLnJpZ2h0Lm1hdGVyaWFsKHRoaXMuX19tYXQpLnVwZGF0ZU0oKSx0aGlzLnVwLm1hdGVyaWFsKHRoaXMuX19tYXQpLnVwZGF0ZU0oKSx0aGlzLmRvd24ubWF0ZXJpYWwodGhpcy5fX21hdCkudXBkYXRlTSgpKSx0aGlzfSx1cGRhdGVGOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19mbHQ/KHRoaXMuZnJvbnQuZmlsdGVyKHRoaXMuX19mbHQpLnVwZGF0ZUYoKSx0aGlzLmJhY2suZmlsdGVyKHRoaXMuX19mbHQpLnVwZGF0ZUYoKSx0aGlzLmxlZnQuZmlsdGVyKHRoaXMuX19mbHQpLnVwZGF0ZUYoKSx0aGlzLnJpZ2h0LmZpbHRlcih0aGlzLl9fZmx0KS51cGRhdGVGKCksdGhpcy51cC5maWx0ZXIodGhpcy5fX2ZsdCkudXBkYXRlRigpLHRoaXMuZG93bi5maWx0ZXIodGhpcy5fX2ZsdCkudXBkYXRlRigpLHRoaXMpOnRoaXN9LF9fZmx0Om51bGwsZmlsdGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZmx0PXQsdGhpc319KSx0LlNreWJveD10LkJveC5leHRlbmQoe3VwZGF0ZVM6ZnVuY3Rpb24oKXt2YXIgdD1pKHRoaXMud2lkdGgpLGU9aSh0aGlzLmhlaWdodCkscz1pKHRoaXMuZGVwdGgpO3JldHVybiB0aGlzLl9fb3JnRi54PXRoaXMud2lkdGgvMix0aGlzLl9fb3JnRi55PXRoaXMuaGVpZ2h0LzIsdGhpcy5fX29yZ0Yuej10aGlzLmRlcHRoLzIsdGhpcy5mcm9udC5zaXplKHQsZSwwKS5wb3NpdGlvbigwLDAsLXMvMikucm90YXRpb24oMCwwLDApLnVwZGF0ZVMoKS51cGRhdGVUKCksdGhpcy5iYWNrLnNpemUodCxlLDApLnBvc2l0aW9uKDAsMCxzLzIpLnJvdGF0aW9uKDAsMTgwLDApLnVwZGF0ZVMoKS51cGRhdGVUKCksdGhpcy5sZWZ0LnNpemUocyxlLDApLnBvc2l0aW9uKC10LzIsMCwwKS5yb3RhdGlvbigwLDkwLDApLnVwZGF0ZVMoKS51cGRhdGVUKCksdGhpcy5yaWdodC5zaXplKHMsZSwwKS5wb3NpdGlvbih0LzIsMCwwKS5yb3RhdGlvbigwLC05MCwwKS51cGRhdGVTKCkudXBkYXRlVCgpLHRoaXMudXAuc2l6ZSh0LHMsMCkucG9zaXRpb24oMCwtZS8yLDApLnJvdGF0aW9uKC05MCwwLDApLnVwZGF0ZVMoKS51cGRhdGVUKCksdGhpcy5kb3duLnNpemUodCxzLDApLnBvc2l0aW9uKDAsZS8yLDApLnJvdGF0aW9uKDkwLDAsMCkudXBkYXRlUygpLnVwZGF0ZVQoKSx0aGlzfX0pLHQuY3JlYXRlPWZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXt2YXIgaT10IGluc3RhbmNlb2YgQXJyYXk/e3R5cGU6XCJzcHJpdGVcIixjaGlsZHJlbjp0fTp0O3JldHVybiBuKGkpfXRocm93XCJjcmVhdGUgYXJndW1lbnRzIGlzIHdyb25nIVwifSx0fSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2FudGEvanMvY3NzM2QubWluLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==